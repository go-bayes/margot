<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • margot</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Fira_Code-0.4.10/font.css" rel="stylesheet"><link href="../deps/Fira_Sans-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">margot</a>

    <small class="nav-text text-default me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.242</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/go-bayes/margot/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Changelog</h1>
      <small>Source: <a href="https://github.com/go-bayes/margot/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.242" id="id_2025-09-19-margot-10242">[2025-09-19] margot 1.0.242<a class="anchor" aria-label="anchor" href="#id_2025-09-19-margot-10242"></a></h2>
<div class="section level4">
<h4 id="new-1-0-242">New:<a class="anchor" aria-label="anchor" href="#new-1-0-242"></a></h4>
<ul><li>
<code><a href="../reference/margot_policy_workflow.html">margot_policy_workflow()</a></code>, shared explainer</li>
</ul></div>
<div class="section level4">
<h4 id="improvements-1-0-242">Improvements:<a class="anchor" aria-label="anchor" href="#improvements-1-0-242"></a></h4>
<ul><li>min_gain_for_depth_switch, audience + return_unit_masks, brief includes Depth, bugfix for depth-1 in summary table, interpretation reuse flags</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.240" id="id_2025-09-19-margot-10240---10241">[2025-09-19] margot 1.0.240 - 1.0.241<a class="anchor" aria-label="anchor" href="#id_2025-09-19-margot-10240---10241"></a></h2>
<div class="section level4">
<h4 id="improvements-1-0-240">Improvements<a class="anchor" aria-label="anchor" href="#improvements-1-0-240"></a></h4>
<ul><li>
<code><a href="../reference/margot_policy_tree_stability.html">margot_policy_tree_stability()</a></code> adds <code>compute_policy_values</code> (with <code>policy_value_R</code>, <code>policy_value_seed</code>, <code>policy_value_baseline</code>) to pre-compute bootstrap policy gains and now recognises the legacy <code>parrallel</code> flag.</li>
<li>
<code><a href="../reference/margot_policy_tree_stability.html">margot_policy_tree_stability()</a></code> allows tuning <code>future.globals.maxSize</code> via <code>future_globals_max_size</code> (20 GiB default) so large stability jobs can run in parallel without hitting the future globals guard.</li>
<li>Cached policy gains include baseline/contrast metadata for downstream reporters; internal fallback <code><a href="../reference/dot-compute_policy_value_internal.html">.compute_policy_value_internal()</a></code> keeps stand-alone scripts working.</li>
<li>
<code><a href="../reference/margot_policy_summary_report.html">margot_policy_summary_report()</a></code> adds a “Practical Takeaways” block, per-model depth overrides (<code>depths_by_model</code>), depth-specific model lists/maps, recommended id/name outputs by depth, and compact-table controls (<code>split_drop_zero</code>, <code>split_top_only</code>) while fixing the missing-object error.</li>
<li>
<code><a href="../reference/margot_policy_summary_compare_depths.html">margot_policy_summary_compare_depths()</a></code> is now exported and documented alongside the updated policy reporting workflow, returning a mixed-depth report (<code>best_summary</code>) plus depth maps/lists for downstream plotting.</li>
<li>
<code><a href="../reference/margot_interpret_policy_batch.html">margot_interpret_policy_batch()</a></code> accepts <code>depths_by_model</code>, surfaces per-model depths, and returns the depth map when <code>return_as_list = TRUE</code>.</li>
<li>
<code><a href="../reference/margot_policy_summary_report.html">margot_policy_summary_report()</a></code> better support for quarto markdown.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.239" id="id_2025-09-19-margot-10239">[2025-09-19] margot 1.0.239<a class="anchor" aria-label="anchor" href="#id_2025-09-19-margot-10239"></a></h2>
<div class="section level4">
<h4 id="improvements-1-0-239">Improvements<a class="anchor" aria-label="anchor" href="#improvements-1-0-239"></a></h4>
<ul><li>
<code><a href="../reference/margot_policy_summary_report.html">margot_policy_summary_report()</a></code> better support for quarto markdown.wn.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.238" id="id_2025-09-19-margot-10238">[2025-09-19] margot 1.0.238<a class="anchor" aria-label="anchor" href="#id_2025-09-19-margot-10238"></a></h2>
<div class="section level4">
<h4 id="improvements-1-0-238">Improvements<a class="anchor" aria-label="anchor" href="#improvements-1-0-238"></a></h4>
<ul><li>
<code><a href="../reference/margot_policy_summary_report.html">margot_policy_summary_report()</a></code> better summary of policy-tree results</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.237" id="id_2025-09-19-margot-10237">[2025-09-19] margot 1.0.237<a class="anchor" aria-label="anchor" href="#id_2025-09-19-margot-10237"></a></h2>
<div class="section level4">
<h4 id="improvements-1-0-237">Improvements<a class="anchor" aria-label="anchor" href="#improvements-1-0-237"></a></h4>
<ul><li>
<code><a href="../reference/margot_policy_summary_report.html">margot_policy_summary_report()</a></code> outputs model id’s for wins/neutral/caution, to make reporting of policy trees easier</li>
<li>
<code><a href="../reference/margot_policy_summary_report.html">margot_policy_summary_report()</a></code> now returns a narrative <code>report</code> field summarising wins, neutral, and caution models for manuscript-ready text</li>
<li>
<code><a href="../reference/margot_policy_summary_report.html">margot_policy_summary_report()</a></code> also includes a compact <code>interpretation</code> paragraph that lists wins, caution models, and uncertain outcomes</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.236" id="id_2025-09-18-margot-10236">[2025-09-18] margot 1.0.236<a class="anchor" aria-label="anchor" href="#id_2025-09-18-margot-10236"></a></h2>
<div class="section level4">
<h4 id="new-1-0-236">New<a class="anchor" aria-label="anchor" href="#new-1-0-236"></a></h4>
<ul><li>Added <code><a href="../reference/margot_report_consensus_policy_value.html">margot_report_consensus_policy_value()</a></code> to report consensus policy value vs treat-all and control-all with 95% CIs (bootstrap). Supports <code>label_mapping</code> and optional treated-only metrics.</li>
<li>Added <code><a href="../reference/margot_table_consensus_policy_value.html">margot_table_consensus_policy_value()</a></code> to create a rounded, manuscript-ready table from the reporter output (includes treated-only metrics when present).</li>
<li>Added <code><a href="../reference/margot_table_treated_only.html">margot_table_treated_only()</a></code> to produce a condensed, treated-only summary table: average uplift among treated (with CI when available) and coverage treated (%).</li>
<li>Added <code><a href="../reference/margot_policy_summary_report.html">margot_policy_summary_report()</a></code> to generate a grouped summary text and a markdown table for all models at a chosen depth. Supports <code>report_df</code> to avoid recomputation, grouping by sign (Wins/Neutral/Caution), ordering, filtering, verbose progress, and optional original-scale annotations via <code>original_df</code>.</li>
<li>Added <code><a href="../reference/margot_policy_methods_statement.html">margot_policy_methods_statement()</a></code> to generate a standard policy-learning methods paragraph (DR scores, policy trees, honest evaluation, policy value CIs, treated-only uplift, optional stability).</li>
</ul></div>
<div class="section level4">
<h4 id="interpreter-enhancements-1-0-236">Interpreter enhancements<a class="anchor" aria-label="anchor" href="#interpreter-enhancements-1-0-236"></a></h4>
<ul><li>
<code><a href="../reference/margot_interpret_policy_tree.html">margot_interpret_policy_tree()</a></code> and <code><a href="../reference/margot_interpret_policy_batch.html">margot_interpret_policy_batch()</a></code> now accept <code>report_policy_value = "treated_only"</code> to focus on treated subgroups. The narrative includes “Avg uplift among treated,” with a bootstrap CI.</li>
<li>Batch interpreter (<code>margot_interpret_policy_batch</code>) can return both a brief treated-only summary and the full report via <code>return_as_list = TRUE</code> (list elements: <code>report_brief</code>, <code>report_full</code>, <code>by_model</code>, and <code>policy_value_explanation</code>).</li>
<li>Optional one-line treated-only summary per model (<code>brief = TRUE</code>).</li>
<li>Rich leaf reporting is preserved even when conditional means are missing by falling back to DR scores on the test set.</li>
</ul></div>
<div class="section level4">
<h4 id="stability--summary-1-0-236">Stability + summary<a class="anchor" aria-label="anchor" href="#stability--summary-1-0-236"></a></h4>
<ul><li>
<code><a href="../reference/summary.margot_stability_policy_tree.html">summary.margot_stability_policy_tree()</a></code> can control bootstrap settings for consensus policy value via <code>policy_value_R</code>, <code>policy_value_seed</code>, and <code>show_policy_value</code>.</li>
</ul></div>
<div class="section level4">
<h4 id="improvements-1-0-236">Improvements<a class="anchor" aria-label="anchor" href="#improvements-1-0-236"></a></h4>
<ul><li>Reporter and tables accept <code>label_mapping</code> for display labels; reporter also includes an <code>outcome_label</code> column.</li>
<li>Baseline computation for policy value corrected to use explicit control/treatment means; removed inappropriate use of ATE.</li>
<li>Policy tree learning/evaluation consistently uses <code>dr_scores</code> (flipping is for reporting only).</li>
<li>Small UI polish (better evaluation messages) and rounding in tables (3 d.p.).</li>
<li>
<code><a href="../reference/margot_policy_summary_report.html">margot_policy_summary_report()</a></code> returns grouped brief tables as data frames (<code>group_table</code>) and a single combined data frame with a <code>group</code> column (<code>group_table_df</code>) to facilitate downstream export.</li>
<li>Renamed internal columns to be syntactic (e.g., <code>coverage_treated_pct</code>) to avoid build errors.</li>
</ul></div>
<div class="section level4">
<h4 id="notes-1-0-236">Notes<a class="anchor" aria-label="anchor" href="#notes-1-0-236"></a></h4>
<ul><li>All changes are backward compatible. Defaults preserved; new features are opt-in.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.235" id="id_2025-09-17-margot-10235">[2025-09-17] margot 1.0.235<a class="anchor" aria-label="anchor" href="#id_2025-09-17-margot-10235"></a></h2>
<ul><li>
<strong>Improved</strong> <code><a href="../reference/margot_interpret_heterogeneity.html">margot_interpret_heterogeneity()</a></code> now return ‘permitted_model_ds’ for use with policytree analysis.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.234" id="id_2025-09-01-margot-10234">[2025-09-01] margot 1.0.234<a class="anchor" aria-label="anchor" href="#id_2025-09-01-margot-10234"></a></h2>
<ul><li>
<strong>Returned</strong> <code><a href="../reference/read_multiple_images.html">read_multiple_images()</a></code> utility for quarto presentations/documents</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.233" id="id_2025-08-11-margot-10233">[2025-08-11] margot 1.0.233<a class="anchor" aria-label="anchor" href="#id_2025-08-11-margot-10233"></a></h2>
<ul><li>
<strong>Returned</strong> <code><a href="../reference/simulate_ate_data_with_weights.html">simulate_ate_data_with_weights()</a></code> to exports for teaching.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.232" id="id_2025-08-10-margot-10232">[2025-08-10] margot 1.0.232<a class="anchor" aria-label="anchor" href="#id_2025-08-10-margot-10232"></a></h2>
<div class="section level4">
<h4 id="new-1-0-232">New<a class="anchor" aria-label="anchor" href="#new-1-0-232"></a></h4>
<ul><li>Added <strong><code>margot_resort_contrast_lmtp</code></strong>
<ul><li>Flipping the effect estimates - Changes the sign of E[Y(1)]-E[Y(0)]</li>
<li>Swapping confidence intervals - Properly reverses and swaps the 2.5% and 97.5% bounds</li>
<li>Recalculating E-values - updates these based on the flipped estimates</li>
</ul></li>
<li>
<strong><code><a href="../reference/margot_view_lmtp_structure.html">margot_view_lmtp_structure()</a></code></strong>: view contrasts</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.231" id="id_2025-08-10-margot-10231">[2025-08-10] margot 1.0.231<a class="anchor" aria-label="anchor" href="#id_2025-08-10-margot-10231"></a></h2>
<div class="section level4">
<h4 id="new-features-1-0-231">New Features<a class="anchor" aria-label="anchor" href="#new-features-1-0-231"></a></h4>
<ul><li>
<strong>Added <code><a href="../reference/margot_naive_regressions.html">margot_naive_regressions()</a></code> function</strong>:
<ul><li>Performs naive cross-sectional linear regressions for educational/comparison purposes</li>
<li>Processes multiple outcomes with robust error handling - continues processing even if individual outcomes fail</li>
<li>Includes <code>coefficient_scale</code> parameter for multi-unit change interpretations (e.g., 4-unit changes)</li>
<li>Calculates approximate E-values based on effect sizes when EValue package compatibility issues occur</li>
<li>Output structure compatible with <code><a href="../reference/margot_plot.html">margot_plot()</a></code> for seamless integration with existing workflows</li>
<li>Uses <code>"E[Y|A]"</code> notation to clearly indicate these are conditional expectations, not causal effects</li>
<li>Includes appropriate warnings about confounding and non-causal interpretation</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.230" id="id_2025-08-08-margot-10230">[2025-08-08] margot 1.0.230<a class="anchor" aria-label="anchor" href="#id_2025-08-08-margot-10230"></a></h2>
<div class="section level4">
<h4 id="uiux-improvements-1-0-230">UI/UX Improvements<a class="anchor" aria-label="anchor" href="#uiux-improvements-1-0-230"></a></h4>
<ul><li>
<strong>Improved coefficient alignment in <code><a href="../reference/margot_plot.html">margot_plot()</a></code></strong>:
<ul><li>Coefficients are now positioned at a fixed location along the inside edge of the plot area</li>
<li>Creates consistent vertical alignment of coefficient values regardless of where data points fall</li>
<li>Uses 5% offset from left edge of plot area with left-aligned text for optimal readability</li>
<li>Eliminates the scattered coefficient positioning that varied based on individual data point locations</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.229" id="id_2025-08-03-margot-10229">[2025-08-03] margot 1.0.229<a class="anchor" aria-label="anchor" href="#id_2025-08-03-margot-10229"></a></h2>
<div class="section level4">
<h4 id="bug-fixes-1-0-229">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-0-229"></a></h4>
<ul><li>
<strong>Fixed incorrect back-transformation for log+z transformed variables in margot_plot()</strong>:
<ul><li>Updated <code>back_transform_estimates()</code> to properly use <code><a href="../reference/back_transform_log_z.html">back_transform_log_z()</a></code> for variables that have been both log-transformed and z-scored</li>
<li>This fixes the issue where hours variables were incorrectly transformed to minutes (e.g., showing 7,711 minutes instead of ~104 minutes)</li>
<li>The function now correctly distinguishes between:
<ul><li>Variables that are only log-transformed: uses <code>exp(y) - 1</code>
</li>
<li>Variables that are log+z transformed: uses <code><a href="../reference/back_transform_log_z.html">back_transform_log_z()</a></code>
</li>
</ul></li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="uiux-improvements-1-0-229">UI/UX Improvements<a class="anchor" aria-label="anchor" href="#uiux-improvements-1-0-229"></a></h4>
<ul><li>
<strong>Improved plot labeling for clarity</strong>:
<ul><li>Removed “outcome” label from y-axis in <code><a href="../reference/margot_plot.html">margot_plot()</a></code> for cleaner appearance</li>
<li>Changed “Qini Curves” to “Uplift Curve” in plot titles across all qini plot functions</li>
<li>Changed “average policy effect” to “expected policy effect” in y-axis labels to better reflect the statistical nature of the estimates</li>
<li>Updated documentation and scale notes to use consistent “expected policy effect” terminology</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.228" id="id_2025-08-02-margot-10228">[2025-08-02] margot 1.0.228<a class="anchor" aria-label="anchor" href="#id_2025-08-02-margot-10228"></a></h2>
<div class="section level4">
<h4 id="major-improvements-1-0-228">Major Improvements<a class="anchor" aria-label="anchor" href="#major-improvements-1-0-228"></a></h4>
<ul><li>
<strong>Refactored outcome flipping to happen before computation</strong>:
<ul><li>Moved flipping logic in <code><a href="../reference/margot_causal_forest.html">margot_causal_forest()</a></code> to preprocessing stage before the main loop</li>
<li>Flipped outcomes are now consistently stored in the data with “_r” suffix</li>
<li>Added <code>flip_info</code> metadata to output containing mapping and transformation details</li>
<li>Simplified data extraction in downstream functions - no more special handling needed</li>
<li>Ensures saved data is consistent with forest objects when <code>save_data = TRUE</code>
</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-1-0-228">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-0-228"></a></h4>
<ul><li>
<strong>Fixed model name detection for flipped outcomes in heterogeneity functions</strong>:
<ul><li>Added helper function <code>.map_model_names_with_flips()</code> to automatically detect and map flipped outcome names</li>
<li>Updated <code><a href="../reference/margot_interpret_heterogeneity.html">margot_interpret_heterogeneity()</a></code> to handle model names with “_r” suffix (flipped outcomes)</li>
<li>Updated <code><a href="../reference/margot_rate_cv.html">margot_rate_cv()</a></code> to handle model names with “_r” suffix and simplified Y data extraction</li>
<li>Updated <code><a href="../reference/margot_plot_rate_batch.html">margot_plot_rate_batch()</a></code> to handle flipped outcome names and changed default <code>compute_on_demand = TRUE</code>
</li>
<li>Now correctly maps requested names like “t2_kessler_latent_anxiety_z” to “model_t2_kessler_latent_anxiety_z_r”</li>
<li>Fixes issue where functions couldn’t find flipped models when using <code>model_names</code> parameter</li>
<li>Provides informative messages when mapping flipped outcomes</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="enhancements-1-0-228">Enhancements<a class="anchor" aria-label="anchor" href="#enhancements-1-0-228"></a></h4>
<ul><li>
<strong>Updated <code><a href="../reference/margot_flip_forests.html">margot_flip_forests()</a></code> to support flip methods</strong>:
<ul><li>Added <code>flip_method</code> and <code>flip_scale_bounds</code> parameters for consistency with <code><a href="../reference/margot_causal_forest.html">margot_causal_forest()</a></code>
</li>
<li>Now uses <code><a href="../reference/margot_invert_measure.html">margot_invert_measure()</a></code> for flipping, supporting both zscore and ordinal methods</li>
<li>Maintains backward compatibility with default zscore method</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.227" id="id_2025-08-02-margot-10227">[2025-08-02] margot 1.0.227<a class="anchor" aria-label="anchor" href="#id_2025-08-02-margot-10227"></a></h2>
<div class="section level4">
<h4 id="bug-fixes-1-0-227">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-0-227"></a></h4>
<ul><li>Fixed <code>compute_conditional_means</code> to respect <code>compute_marginal_only</code> setting in <code><a href="../reference/margot_causal_forest.html">margot_causal_forest()</a></code>
</li>
<li>When <code>compute_marginal_only = TRUE</code>, conditional means computation is now skipped with defensive empty structure</li>
<li>This ensures consistent behavior where marginal-only mode skips all heterogeneity-related computations</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.226" id="id_2025-08-02-margot-10226">[2025-08-02] margot 1.0.226<a class="anchor" aria-label="anchor" href="#id_2025-08-02-margot-10226"></a></h2>
<div class="section level4">
<h4 id="bug-fixes-1-0-226">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-0-226"></a></h4>
<ul><li>Fixed label mapping in <code><a href="../reference/margot_plot.html">margot_plot()</a></code> to correctly handle reversed variables with <code>_r</code> suffix</li>
<li>
<code>transform_label()</code> now prioritizes exact matches in label_mapping before trying pattern matching</li>
<li>Added automatic removal of <code>_r</code> suffix (for reversed variables) alongside <code>_z</code> suffix removal</li>
<li>This prevents stray “_r” suffixes appearing on plot labels when using label_mapping</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.225" id="id_2025-08-02-margot-10225">[2025-08-02] margot 1.0.225<a class="anchor" aria-label="anchor" href="#id_2025-08-02-margot-10225"></a></h2>
<div class="section level4">
<h4 id="bug-fixes-1-0-225">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-0-225"></a></h4>
<ul><li>Fixed <code><a href="../reference/margot_plot.html">margot_plot()</a></code> to properly handle reversed variables (with <code>_r</code> suffix) when <code>original_df</code> is provided</li>
<li>
<code>back_transform_estimates()</code> now removes <code>_r</code> suffix before searching in original_df and skips silently if not found</li>
</ul></div>
<div class="section level4">
<h4 id="breaking-changes-1-0-225">Breaking Changes<a class="anchor" aria-label="anchor" href="#breaking-changes-1-0-225"></a></h4>
<ul><li>
<strong>Renamed <code>compute_heterogeneity</code> to <code>compute_marginal_only</code> with inverted logic</strong>:
<ul><li>
<code>compute_marginal_only = TRUE</code> now means skip heterogeneity (was <code>compute_heterogeneity = FALSE</code>)</li>
<li>
<code>compute_marginal_only = FALSE</code> (default) means compute full analysis</li>
<li>Clearer parameter name that explicitly states what is computed</li>
</ul></li>
<li>
<strong>Removed <code>qini_split</code> parameter</strong>:
<ul><li>QINI evaluation now always uses honest evaluation (test set only)</li>
<li>Simplifies the interface and follows GRF best practices</li>
<li>Ensures QINI curves accurately reflect out-of-sample performance</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="major-improvements-1-0-225">Major Improvements<a class="anchor" aria-label="anchor" href="#major-improvements-1-0-225"></a></h4>
<ul><li>
<strong>Enhanced parameter validation</strong>:
<ul><li>
<code>compute_marginal_only = TRUE</code> requires <code>train_proportion = NULL</code> (enforced)</li>
<li>
<code>compute_marginal_only = FALSE</code> requires valid <code>train_proportion</code> (enforced)</li>
<li>Clear error messages prevent conflicting parameter combinations</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="implementation-details-1-0-225">Implementation Details<a class="anchor" aria-label="anchor" href="#implementation-details-1-0-225"></a></h4>
<ul><li>Default behavior unchanged: <code>compute_marginal_only = FALSE, train_proportion = 0.5</code>
</li>
<li>Backward compatibility maintained through parameter detection in <code><a href="../reference/margot_flip_forests.html">margot_flip_forests()</a></code>
</li>
<li>Cleaner mental model: either marginal-only OR full-with-splits</li>
<li>
<code><a href="../reference/margot_flip_forests.html">margot_flip_forests()</a></code> now requires heterogeneity components and provides clear error when used with marginal-only results</li>
</ul></div>
<div class="section level4">
<h4 id="benefits-1-0-225">Benefits<a class="anchor" aria-label="anchor" href="#benefits-1-0-225"></a></h4>
<ul><li>Prevents user confusion about parameter interactions</li>
<li>Makes intentions explicit in function calls</li>
<li>Simplifies understanding of what analyses will be performed</li>
<li>Always uses honest QINI evaluation for accurate heterogeneity assessment</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.224" id="id_2025-08-01-margot-10224">[2025-08-01] margot 1.0.224<a class="anchor" aria-label="anchor" href="#id_2025-08-01-margot-10224"></a></h2>
<div class="section level4">
<h4 id="major-features-1-0-224">Major Features<a class="anchor" aria-label="anchor" href="#major-features-1-0-224"></a></h4>
<ul><li>
<strong>Added <code>compute_heterogeneity</code> parameter to <code><a href="../reference/margot_causal_forest.html">margot_causal_forest()</a></code></strong>:
<ul><li>Set to FALSE to skip QINI, RATE, and policy tree computations</li>
<li>Significantly faster when only average treatment effects are needed</li>
<li>Creates defensive empty data structures to maintain pipeline compatibility</li>
<li>Default TRUE maintains backward compatibility</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="improvements-1-0-224">Improvements<a class="anchor" aria-label="anchor" href="#improvements-1-0-224"></a></h4>
<ul><li>
<strong>Enhanced parameter inheritance in <code><a href="../reference/margot_flip_forests.html">margot_flip_forests()</a></code></strong>:
<ul><li>Now inherits all computation parameters from original results</li>
<li>Uses new <code>computation_params</code> structure when available</li>
<li>Falls back to old detection method for backward compatibility</li>
</ul></li>
<li>
<strong>Added computation tracking</strong>:
<ul><li>New <code>computation_status</code> field tracks what was computed</li>
<li>New <code>computation_params</code> field stores all parameters for reproducibility</li>
<li>Enables future <code>margot_hetero()</code> function to compute missing heterogeneity metrics</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="implementation-details-1-0-224">Implementation Details<a class="anchor" aria-label="anchor" href="#implementation-details-1-0-224"></a></h4>
<ul><li>Empty data structures have <code>computed = FALSE</code> flag for downstream detection</li>
<li>All existing pipelines continue to work unchanged</li>
<li>Prepares architecture for separating effect estimation from heterogeneity evaluation</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.223" id="id_2025-08-01-margot-10223">[2025-08-01] margot 1.0.223<a class="anchor" aria-label="anchor" href="#id_2025-08-01-margot-10223"></a></h2>
<div class="section level4">
<h4 id="major-features-1-0-223">Major Features<a class="anchor" aria-label="anchor" href="#major-features-1-0-223"></a></h4>
<ul><li>
<strong>Added outcome flipping capability to <code><a href="../reference/margot_causal_forest.html">margot_causal_forest()</a></code></strong>:
<ul><li>New parameters: <code>flip_outcomes</code>, <code>flip_method</code>, and <code>flip_scale_bounds</code>
</li>
<li>Supports two inversion methods:
<ul><li>
<code>"zscore"</code>: Negates standardized z-scores while preserving relative distances</li>
<li>
<code>"ordinal"</code>: Inverts values on ordinal scale using specified bounds (e.g., Likert scales)</li>
</ul></li>
<li>Flipped outcomes automatically appended with “_r” suffix in results</li>
<li>Informative CLI messages report transformation details</li>
<li>Created <code><a href="../reference/margot_invert_measure.html">margot_invert_measure()</a></code> utility function for flexible score inversion</li>
<li>Comprehensive test suite for inversion functionality</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="implementation-details-1-0-223">Implementation Details<a class="anchor" aria-label="anchor" href="#implementation-details-1-0-223"></a></h4>
<ul><li>
<strong>Z-score method</strong>: Simple negation (<code>-x</code>) for already standardized data. Warns if data appears unstandardized</li>
<li>
<strong>Ordinal method</strong>: Uses formula <code>(max + min) - x</code> to preserve distances while reversing order</li>
<li>
<strong>Flexible specification</strong>: Can flip all outcomes uniformly or specify per-outcome settings</li>
<li>
<strong>NA handling</strong>: Properly preserves missing values during transformation</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.222" id="id_2025-07-31-margot-10222">[2025-07-31] margot 1.0.222<a class="anchor" aria-label="anchor" href="#id_2025-07-31-margot-10222"></a></h2>
<div class="section level4">
<h4 id="improvements-1-0-222">Improvements<a class="anchor" aria-label="anchor" href="#improvements-1-0-222"></a></h4>
<ul><li>
<strong>Updated default spend_levels to c(0.1, 0.4)</strong>:
<ul><li>Changed from single value 0.1 to c(0.1, 0.4) for better QINI analysis</li>
<li>Affected functions: margot_plot_qini(), margot_plot_qini_batch(), margot_interpret_heterogeneity(), margot_policy(), margot_qini(), margot_qini_alternative(), margot_interpret_qini()</li>
<li>Provides visibility at both 10% and 40% treatment allocation levels</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.221" id="id_2025-07-31-margot-10221">[2025-07-31] margot 1.0.221<a class="anchor" aria-label="anchor" href="#id_2025-07-31-margot-10221"></a></h2>
<div class="section level4">
<h4 id="improvements-1-0-221">Improvements<a class="anchor" aria-label="anchor" href="#improvements-1-0-221"></a></h4>
<ul><li>
<strong>Ensured consistent train/test split usage across functions</strong>:
<ul><li>
<code>margot_interpret_heterogeneity</code>: Already uses test indices from qini_metadata via margot_rate()</li>
<li>
<code>margot_qini_alternative</code>: Properly uses split_info$test_indices when available</li>
<li>
<code>margot_flip_forests</code>: Now uses same train/test splits as original models for policy trees</li>
<li>
<code>margot_policy_tree_stability</code>: Creates new splits by design for stability assessment</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.220" id="id_2025-07-31-margot-10220">[2025-07-31] margot 1.0.220<a class="anchor" aria-label="anchor" href="#id_2025-07-31-margot-10220"></a></h2>
<div class="section level4">
<h4 id="improvements-1-0-220">Improvements<a class="anchor" aria-label="anchor" href="#improvements-1-0-220"></a></h4>
<ul><li>
<strong>Enhanced <code><a href="../reference/margot_flip_forests.html">margot_flip_forests()</a></code> parameters</strong>:
<ul><li>Added <code>seed</code> parameter for reproducible QINI generation (default 12345)</li>
<li>Now properly passes <code>train_proportion</code> and <code>use_train_test_split</code> to maintain consistency</li>
<li>Seed default matches <code><a href="../reference/compute_qini_improved.html">compute_qini_improved()</a></code> for consistent results</li>
<li>Fixed policy tree recalculation to use same train/test splits as original models</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.219" id="id_2025-07-31-margot-10219">[2025-07-31] margot 1.0.219<a class="anchor" aria-label="anchor" href="#id_2025-07-31-margot-10219"></a></h2>
<div class="section level4">
<h4 id="improvements-1-0-219">Improvements<a class="anchor" aria-label="anchor" href="#improvements-1-0-219"></a></h4>
<ul><li>
<strong>Enhanced QINI robustness</strong>: Improved error handling and diagnostic output
<ul><li>Added tau_hat range and standard deviation reporting in verbose mode</li>
<li>Better handling of edge cases where CATE estimates have minimal variation</li>
<li>Clear diagnostic messages when QINI computation cannot proceed</li>
<li>Graceful fallback for empty CATE paths instead of failures</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-1-0-219">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-0-219"></a></h4>
<ul><li>
<strong>Fixed atomic vector access</strong>: Resolved issue when accessing ate_evaluation_forest values</li>
<li>
<strong>Fixed empty CATE path errors</strong>: Now properly handles cases where maq returns empty paths
<ul><li>Common with homogeneous treatment effects (very low tau_hat variation)</li>
<li>Returns NULL with informative warning instead of crashing</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.218" id="id_2025-07-31-margot-10218">[2025-07-31] margot 1.0.218<a class="anchor" aria-label="anchor" href="#id_2025-07-31-margot-10218"></a></h2>
<div class="section level4">
<h4 id="major-improvements-1-0-218">Major Improvements<a class="anchor" aria-label="anchor" href="#major-improvements-1-0-218"></a></h4>
<ul><li>
<strong>Reimplemented QINI curves following GRF best practices</strong>:
<ul><li>New <code><a href="../reference/margot_qini_alternative.html">margot_qini_alternative()</a></code> function uses simplified GRF methodology</li>
<li>Single baseline method: <code>target.with.covariates = FALSE</code> (no-priority assignment)</li>
<li>Removed complex baseline options in favour of standard approach</li>
<li>Added <code>diff_gain_summaries</code> computation for backward compatibility</li>
<li>Created <code><a href="../reference/margot_qini.html">margot_qini()</a></code> wrapper function for seamless integration</li>
<li>Default spend levels now 0.1 only (simplified from 0.1, 0.4)</li>
<li>Fixed “no gain data found for curve ate” warnings</li>
<li>Full compatibility with <code><a href="../reference/margot_interpret_qini.html">margot_interpret_qini()</a></code> and <code><a href="../reference/margot_interpret_heterogeneity.html">margot_interpret_heterogeneity()</a></code>
</li>
<li>Works seamlessly with <code><a href="../reference/margot_flip_forests.html">margot_flip_forests()</a></code> architecture</li>
<li>
<strong>Fixed DR scores consistency</strong>: QINI curves now use doubly-robust scores from evaluation forest fitted on test data
<ul><li>Ensures QINI endpoints match ATE estimates when using same test data</li>
<li>Addresses discrepancy between QINI curve termination values and reported ATE</li>
<li>Following GRF advice: “use the same doubly-robust scores throughout”</li>
</ul></li>
<li>
<strong>Improved robustness</strong>: Added error handling for edge cases where baseline QINI computation fails
<ul><li>Gracefully handles empty paths or computation failures</li>
<li>Provides informative warnings when models cannot be processed</li>
<li>Continues processing remaining models instead of failing completely</li>
</ul></li>
<li>
<strong>Unified QINI implementation</strong>: All functions now use the improved GRF-standard approach
<ul><li>
<code><a href="../reference/margot_causal_forest.html">margot_causal_forest()</a></code> automatically uses evaluation forest DR scores</li>
<li>
<code><a href="../reference/margot_flip_forests.html">margot_flip_forests()</a></code> inherits improvements through <code><a href="../reference/margot_causal_forest.html">margot_causal_forest()</a></code>
</li>
<li>
<code><a href="../reference/margot_policy.html">margot_policy()</a></code> uses improved QINI when regenerating curves</li>
<li>
<code><a href="../reference/margot_interpret_heterogeneity.html">margot_interpret_heterogeneity()</a></code> benefits through <code><a href="../reference/margot_policy.html">margot_policy()</a></code>
</li>
<li>Consistent QINI computation across the entire margot ecosystem</li>
</ul></li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-1-0-218">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-0-218"></a></h4>
<ul><li>
<strong>Fixed QINI implementation to use existing data structure</strong>:
<ul><li>No longer requires <code>full_models</code> which was often empty</li>
<li>Works with standard <code>results</code> structure from <code><a href="../reference/margot_causal_forest.html">margot_causal_forest()</a></code>
</li>
<li>Properly handles train/test splits when <code>use_train_test_split = TRUE</code>
</li>
</ul></li>
<li>
<strong>Updated default baseline_method to “auto” in plotting functions</strong>:
<ul><li>Changed <code><a href="../reference/margot_plot_qini.html">margot_plot_qini()</a></code> and <code><a href="../reference/margot_plot_qini_batch.html">margot_plot_qini_batch()</a></code> default from “maq_no_covariates” to “auto”</li>
<li>Ensures consistency with <code><a href="../reference/margot_plot_qini_simple.html">margot_plot_qini_simple()</a></code> and new QINI implementation</li>
<li>Both methods use the same GRF standard approach with <code>target.with.covariates = FALSE</code>
</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.217" id="id_2025-07-30-margot-10217">[2025-07-30] margot 1.0.217<a class="anchor" aria-label="anchor" href="#id_2025-07-30-margot-10217"></a></h2>
<div class="section level4">
<h4 id="new-features-1-0-217">New Features<a class="anchor" aria-label="anchor" href="#new-features-1-0-217"></a></h4>
<ul><li>
<strong>Added optional train/test split for consistent out-of-sample evaluation</strong>:
<ul><li>New <code>use_train_test_split</code> parameter in <code><a href="../reference/margot_causal_forest.html">margot_causal_forest()</a></code> (default FALSE for backward compatibility)</li>
<li>When TRUE, ALL reported results (ATE, E-values, combined_table) are computed on the TEST SET</li>
<li>Main causal forest still trained on all data (following GRF best practices for honest forests)</li>
<li>Policy trees and QINI use the same consistent train/test split</li>
<li>All-data results stored in <code>split_info</code> for reference when needed</li>
<li>Updated <code><a href="../reference/margot_recompute_ate.html">margot_recompute_ate()</a></code> with <code>respect_train_test_split</code> parameter</li>
<li>Ensures consistent evaluation: when you choose train/test split, all results respect that decision</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-1-0-217">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-0-217"></a></h4>
<ul><li>
<strong>Fixed QINI seed bug</strong>: QINI curves now use the user-provided seed parameter instead of hardcoded seed 42
<ul><li>Ensures reproducibility across all components</li>
<li>Default seed remains 12345 if not specified</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.216" id="id_2025-07-30-margot-10216">[2025-07-30] margot 1.0.216<a class="anchor" aria-label="anchor" href="#id_2025-07-30-margot-10216"></a></h2>
<div class="section level4">
<h4 id="improvements-1-0-216">Improvements<a class="anchor" aria-label="anchor" href="#improvements-1-0-216"></a></h4>
<ul><li>
<strong>Simplified interpretation output for log-transformed outcomes</strong>:
<ul><li>Removed multiplicative percentage language from all interpretation functions</li>
<li>Confidence intervals now displayed in original scale units (dollars, minutes, etc.)</li>
<li>Cleaner format: “$463 average increase (95% CI: $137 to $883)” instead of “44% multiplicative increase (~$463 average increase; 95% CI: 13% to 84%)”</li>
<li>Updated both <code><a href="../reference/margot_interpret_marginal.html">margot_interpret_marginal()</a></code> and <code><a href="../reference/margot_interpret_policy_tree.html">margot_interpret_policy_tree()</a></code> functions</li>
<li>Makes output more consistent and easier to interpret</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.215" id="id_2025-07-30-margot-10215">[2025-07-30] margot 1.0.215<a class="anchor" aria-label="anchor" href="#id_2025-07-30-margot-10215"></a></h2>
<div class="section level4">
<h4 id="improvements-1-0-215">Improvements<a class="anchor" aria-label="anchor" href="#improvements-1-0-215"></a></h4>
<ul><li>
<strong>Updated <code><a href="../reference/margot_interpret_marginal.html">margot_interpret_marginal()</a></code> with correct back-transformation logic</strong>:
<ul><li>Now properly handles log+z transformed variables with multiplicative interpretation</li>
<li>Displays percentage changes and absolute changes for log-transformed outcomes</li>
<li>Includes unit detection for monetary and time variables with appropriate formatting</li>
<li>Matches the sophisticated back-transformation logic from <code><a href="../reference/margot_interpret_policy_tree.html">margot_interpret_policy_tree()</a></code>
</li>
<li>Example: “47% multiplicative increase (~$490 average increase; 95% CI: 32% to 64%)”</li>
<li>Ensures consistency across all margot interpretation functions</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.214" id="id_2025-07-30-margot-10214">[2025-07-30] margot 1.0.214<a class="anchor" aria-label="anchor" href="#id_2025-07-30-margot-10214"></a></h2>
<div class="section level4">
<h4 id="improvements-1-0-214">Improvements<a class="anchor" aria-label="anchor" href="#improvements-1-0-214"></a></h4>
<ul><li>
<strong>Added missing knitr dependency</strong>: Moved knitr from Suggests to Imports to fix namespace dependency error</li>
</ul></div>
<div class="section level4">
<h4 id="documentation-fixes-1-0-214">Documentation Fixes<a class="anchor" aria-label="anchor" href="#documentation-fixes-1-0-214"></a></h4>
<ul><li>
<strong>Fixed all documentation build warnings</strong>: Claude code very smartly rewrote roxygen2 documentation for problematic functions to eliminate all warnings. Package now builds cleanly.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.213" id="id_2025-07-30-margot-10213">[2025-07-30] margot 1.0.213<a class="anchor" aria-label="anchor" href="#id_2025-07-30-margot-10213"></a></h2>
<div class="section level4">
<h4 id="major-changes-1-0-213">Major Changes<a class="anchor" aria-label="anchor" href="#major-changes-1-0-213"></a></h4>
<ul><li>
<strong>Simplified default spend levels to 0.1 (10%) throughout the package</strong>:
<ul><li>Changed default <code>spend_levels</code> from <code>c(0.1, 0.4)</code> to <code>0.1</code> in all functions</li>
<li>Affected functions: <code><a href="../reference/margot_interpret_heterogeneity.html">margot_interpret_heterogeneity()</a></code>, <code><a href="../reference/margot_qini.html">margot_qini()</a></code>, <code><a href="../reference/margot_interpret_qini.html">margot_interpret_qini()</a></code>, <code><a href="../reference/margot_policy.html">margot_policy()</a></code>, <code><a href="../reference/margot_plot_qini.html">margot_plot_qini()</a></code>, <code><a href="../reference/margot_plot_qini_batch.html">margot_plot_qini_batch()</a></code>, <code><a href="../reference/margot_plot_qini_direct.html">margot_plot_qini_direct()</a></code>, <code><a href="../reference/margot_qini_diagnostic.html">margot_qini_diagnostic()</a></code>, <code><a href="../reference/margot_qini_cost_sensitivity.html">margot_qini_cost_sensitivity()</a></code>, <code><a href="../reference/margot_plot_qini_batch_cost_sensitivity.html">margot_plot_qini_batch_cost_sensitivity()</a></code>, and <code><a href="../reference/margot_batch_policy.html">margot_batch_policy()</a></code> (deprecated)</li>
<li>Rationale: 10% spend captures early heterogeneity patterns effectively and simplifies interpretation</li>
<li>Reduces confusion from multiple spend levels with potentially contradictory results</li>
<li>Foundation for future transition to integrated differences over point estimates</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="work-in-progress-1-0-213">Work in Progress<a class="anchor" aria-label="anchor" href="#work-in-progress-1-0-213"></a></h4>
<ul><li>Investigating discrepancies between QINI plots and difference gain summaries</li>
<li>Planning transition to integrated differences as primary metric (keeping point estimates for compatibility)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.212" id="id_2025-07-30-margot-10212">[2025-07-30] margot 1.0.212<a class="anchor" aria-label="anchor" href="#id_2025-07-30-margot-10212"></a></h2>
<div class="section level4">
<h4 id="bug-fixes-1-0-212">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-0-212"></a></h4>
<ul><li>
<strong>Fixed transformation lookup for flipped outcomes</strong>:
<ul><li>Models created with <code><a href="../reference/margot_flip_forests.html">margot_flip_forests()</a></code> (with <code>_r</code> suffix) now correctly show original scale transformations</li>
<li>The fix removes the <code>_r</code> suffix when searching for original variables in <code>original_df</code>
</li>
<li>Example: <code>model_t2_depression_z_r</code> now finds <code>t2_depression_z</code> data for transformation</li>
<li>Preserves the “(reduced)” prefix in labels as intended</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.211" id="id_2025-07-30-margot-10211">[2025-07-30] margot 1.0.211<a class="anchor" aria-label="anchor" href="#id_2025-07-30-margot-10211"></a></h2>
<div class="section level4">
<h4 id="major-changes-1-0-211">Major Changes<a class="anchor" aria-label="anchor" href="#major-changes-1-0-211"></a></h4>
<ul><li>
<strong>Corrected interpretation of log-transformed outcomes</strong>:
<ul><li>Now uses multiplicative interpretation for log-transformed outcomes (standard econometric practice)</li>
<li>Treatment effects on log scale translate to multiplicative effects on original scale</li>
<li>Example: CATE of 0.14 with log SD of 2.74 gives 47% multiplicative increase</li>
<li>Updated display format: “47% multiplicative increase, ~$490 average increase”</li>
<li>Applies to both individual leaf CATEs and overall weighted average treatment effects</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="improvements-1-0-211">Improvements<a class="anchor" aria-label="anchor" href="#improvements-1-0-211"></a></h4>
<ul><li>
<strong>Enhanced numeric formatting in <code><a href="../reference/format_minimal_decimals.html">format_minimal_decimals()</a></code></strong>:
<ul><li>Values &lt; 1: displays 3 decimal places (e.g., 0.023)</li>
<li>Values 1-10: displays 2 decimal places (e.g., 3.45)</li>
<li>Values 10-100: displays 1 decimal place (e.g., 45.6)</li>
<li>Values ≥ 100: displays no decimal places (e.g., 234)</li>
<li>Prevents rounding to zero for small values and maintains appropriate precision</li>
</ul></li>
<li>
<strong>Improved reporting for log-transformed outcomes</strong>:
<ul><li>Added <code><a href="../reference/detect_variable_units.html">detect_variable_units()</a></code> to identify monetary variables and time-based variables</li>
<li>Log-transformed monetary outcomes now show percentage change and dollar values</li>
<li>Example: “13% increase, from $45 to $51” instead of “1.13x multiplicative effect”</li>
<li>Time variables (hours) automatically convert to minutes as per existing pattern</li>
<li>Overall performance section also shows percentage changes for log outcomes</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-1-0-211">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-0-211"></a></h4>
<ul><li>
<strong>Fixed transformation detection for log variables</strong>:
<ul><li>Now correctly handles cases where original variable names contain <code>_log_</code> (e.g., <code>t2_log_charity_donate</code>)</li>
<li>Improved candidate variable search order to check for exact matches first</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-continued-1-0-211">Bug Fixes (continued)<a class="anchor" aria-label="anchor" href="#bug-fixes-continued-1-0-211"></a></h4>
<ul><li>
<strong>Fixed underestimated dollar amounts for log-transformed outcomes</strong>:
<ul><li>When <code>original_df</code> contains subset data, the code now detects unrealistically low values</li>
<li>For charity donations: if mean &lt; $400, uses population estimate of $1,048 instead</li>
<li>For household income: if mean &lt; $20k, uses population estimate of $60k instead</li>
<li>This fixes dollar amounts being off by a factor of ~11x</li>
<li>Example fix: Leaf CATEs now show ~$378-$553 instead of $33-$48 for charity donations</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="known-issues-1-0-211">Known Issues<a class="anchor" aria-label="anchor" href="#known-issues-1-0-211"></a></h4>
<ul><li>
<strong>Log transformation statistics from subset data</strong>:
<ul><li>When <code>original_df</code> contains subset data, we use heuristics to correct population means</li>
<li>Better solution: store transformation parameters during initial data processing</li>
<li>Current approach works well for common variables (charity, income) but may need adjustment for others</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.210" id="id_2025-07-30-margot-10210">[2025-07-30] margot 1.0.210<a class="anchor" aria-label="anchor" href="#id_2025-07-30-margot-10210"></a></h2>
<div class="section level4">
<h4 id="new-features-1-0-210">New Features<a class="anchor" aria-label="anchor" href="#new-features-1-0-210"></a></h4>
<ul><li>
<strong>Display CATEs on original data scale in policy tree interpretations</strong>:
<ul><li>Added <code><a href="../reference/get_outcome_transformation_info.html">get_outcome_transformation_info()</a></code> helper function to detect and reverse transformations</li>
<li>Updated <code><a href="../reference/margot_interpret_policy_tree.html">margot_interpret_policy_tree()</a></code> and <code><a href="../reference/margot_interpret_policy_batch.html">margot_interpret_policy_batch()</a></code> to accept <code>original_df</code> parameter</li>
<li>When original data is provided, CATEs are shown in both standardized and original scales</li>
<li>For z-transformed outcomes: displays as “CATE: 0.1 (original scale: 0.5 units)”</li>
<li>For log-transformed outcomes: displays as “CATE: 0.1 (original scale: 1.2x multiplicative effect)”</li>
<li>Handles compound transformations (e.g., log then z-transform) correctly</li>
<li>Extended to overall performance metrics (weighted average treatment effect)</li>
<li>Added <code><a href="../reference/format_minimal_decimals.html">format_minimal_decimals()</a></code> helper for cleaner numeric display (0 or 1 decimal place)</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="improvements-1-0-210">Improvements<a class="anchor" aria-label="anchor" href="#improvements-1-0-210"></a></h4>
<ul><li>
<strong>Enhanced count columns in <code><a href="../reference/margot_interpret_heterogeneity.html">margot_interpret_heterogeneity()</a></code></strong>:
<ul><li>Renamed <code>positive_count</code>/<code>negative_count</code> to <code>rate_positive_count</code>/<code>rate_negative_count</code> for clarity</li>
<li>Added <code>total_positive_count</code> and <code>total_negative_count</code> covering all 4 tests (differential_prediction_test, rate_autoc, rate_qini, qini_curve)</li>
<li>Added <code>is_excluded</code> indicator (1 if any negative RATE test, 0 otherwise)</li>
<li>Added <code>strict_inclusion_count</code> for positive RATE tests only when no negative RATE tests present</li>
<li>Maintained backwards compatibility by keeping original column names</li>
</ul></li>
<li>
<strong>Fixed concordance analysis</strong>:
<ul><li>Now correctly uses <code>total_positive_count</code> to check for models positive in all 4 methods</li>
<li>Fixed discordance detection to consider all 4 tests rather than just RATE tests</li>
</ul></li>
<li>
<strong>Improved terminology precision</strong>:
<ul><li>uses “statistically significant” throughout</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="future-plans-phase-1-0-210">Future Plans (Phase 2)<a class="anchor" aria-label="anchor" href="#future-plans-phase-1-0-210"></a></h4>
<ul><li>Plan to update <code><a href="../reference/margot_causal_forest.html">margot_causal_forest()</a></code>, <code>margot_flip_forest()</code>, and <code><a href="../reference/margot_policy_tree_stability.html">margot_policy_tree_stability()</a></code> to store transformation metadata</li>
<li>This will eliminate the need to pass <code>original_df</code> and make transformations more robust</li>
<li>See PLANNING.md for detailed implementation plan</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.209" id="id_2025-07-29-margot-10209">[2025-07-29] margot 1.0.209<a class="anchor" aria-label="anchor" href="#id_2025-07-29-margot-10209"></a></h2>
<div class="section level4">
<h4 id="improvements-1-0-209">Improvements<a class="anchor" aria-label="anchor" href="#improvements-1-0-209"></a></h4>
<ul><li>
<strong>Enhanced label mapping in <code><a href="../reference/margot_interpret_heterogeneity.html">margot_interpret_heterogeneity()</a></code></strong>:
<ul><li>Improved default transformation to remove wave prefixes (e.g., “t2_”)</li>
<li>Now correctly identifies reversed variables (ending in “_r” or “_z_r”) and adds “(reduced)” prefix</li>
<li>Added special handling for common abbreviations (hlth –&gt; health, bmi –&gt; BMI, pwi –&gt; PWI)</li>
<li>Results in cleaner outcome names like “Belonging” instead of “T2 Belong”</li>
<li>Reversed variables now show as “(reduced) Health Fatigue” instead of “T2 Hlth Fatigue z r”</li>
</ul></li>
<li>
<strong>Updated to use New Zealand English spelling throughout</strong>:
<ul><li>Changed “analyze” –&gt; “analyse”, “analyzed” –&gt; “analysed”, “organize” –&gt; “organise”</li>
<li>Consistent with project requirements</li>
</ul></li>
<li>
<strong>Improved recommendations format</strong>:
<ul><li>Replaced bullet points with full sentences suitable for scientific reports</li>
<li>Now provides clear counts and proper grammar (singular/plural handling)</li>
<li>More professional presentation for academic contexts</li>
</ul></li>
<li>
<strong>Enhanced selection logic in <code><a href="../reference/margot_interpret_heterogeneity.html">margot_interpret_heterogeneity()</a></code></strong>:
<ul><li>QINI curve analysis now applied to all non-excluded models (not just selected ones)</li>
<li>Models can be selected based on either positive RATE tests OR positive QINI curves</li>
<li>Recognises that QINI curves can identify heterogeneity at specific budgets even when global tests are inconclusive</li>
<li>Extended report now indicates when models are selected based on QINI curve evidence</li>
<li>Decision flow updated to reflect this broader selection approach</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.208" id="id_2025-07-29-margot-10208">[2025-07-29] margot 1.0.208<a class="anchor" aria-label="anchor" href="#id_2025-07-29-margot-10208"></a></h2>
<div class="section level4">
<h4 id="breaking-changes-1-0-208">Breaking Changes<a class="anchor" aria-label="anchor" href="#breaking-changes-1-0-208"></a></h4>
<ul><li>
<strong>Simplified heterogeneity testing logic in <code><a href="../reference/margot_interpret_heterogeneity.html">margot_interpret_heterogeneity()</a></code></strong>:
<ul><li>Now uses clear 3-category system: SELECTED (positive RATE), EXCLUDED (negative RATE), UNCLEAR (no significant RATE)</li>
<li>Removed complex evidence_type categorization that caused contradictions</li>
<li>QINI curve analysis now only performed for SELECTED models</li>
<li>Calibration status reported for context but doesn’t affect selection</li>
</ul></li>
<li>
<strong>Cross-validation now provides consistent estimates in <code><a href="../reference/margot_rate_cv.html">margot_rate_cv()</a></code></strong>:
<ul><li>Previously computed RATE estimates on full dataset after CV testing, causing inconsistency</li>
<li>Now both p-values and RATE estimates come from the CV procedure</li>
<li>RATE estimates are weighted averages across test folds</li>
<li>Confidence intervals are no longer reported for CV estimates as they don’t align with the martingale-based hypothesis testing</li>
<li>This ensures selection criteria align with reported effect sizes</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="improvements-1-0-208">Improvements<a class="anchor" aria-label="anchor" href="#improvements-1-0-208"></a></h4>
<ul><li>
<strong>Better defaults in <code><a href="../reference/margot_interpret_heterogeneity.html">margot_interpret_heterogeneity()</a></code></strong>:
<ul><li>
<code>include_extended_report = TRUE</code> by default (was already TRUE)</li>
<li>
<code>use_cross_validation = TRUE</code> by default for robust confidence intervals</li>
<li>
<code>cv_num_folds = 5</code> by default</li>
<li>RATE estimates now formatted with 3 decimal places and include 95% confidence intervals</li>
</ul></li>
<li>
<strong>Clearer decision flow and reporting</strong>:
<ul><li>Added decision flow chart to extended report showing exact logic</li>
<li>Simplified recommendations format: “Use for targeting: X”, “Avoid targeting: Y”, “Evidence unclear: Z”</li>
<li>More intuitive interpretation sections aligned with the 3-category system</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-1-0-208">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-0-208"></a></h4>
<ul><li>
<strong>Fixed <code><a href="../reference/margot_stability_diagnostics.html">margot_stability_diagnostics()</a></code> compatibility</strong>:
<ul><li>Now works with new <code>stability_metrics</code> naming from <code><a href="../reference/margot_policy_tree_stability.html">margot_policy_tree_stability()</a></code>
</li>
<li>Handles both old <code>bootstrap_metrics</code> and new <code>stability_metrics</code> for backwards compatibility</li>
<li>Updated all references from “bootstrap” to “stability” in documentation and messages</li>
</ul></li>
<li>
<strong>Fixed incorrect “positive RATE” labeling in <code><a href="../reference/margot_interpret_heterogeneity.html">margot_interpret_heterogeneity()</a></code></strong>:
<ul><li>Function now correctly identifies and labels negative RATE values</li>
<li>Properly handles mixed positive/negative values (e.g., “positive RATE AUTOC, but negative RATE QINI”)</li>
<li>Also fixed Qini difference labeling to handle negative values correctly</li>
</ul></li>
<li>
<strong>Fixed sprintf formatting error in <code><a href="../reference/format_rate_with_ci.html">format_rate_with_ci()</a></code></strong>:
<ul><li>Now properly converts character estimates to numeric before formatting</li>
<li>Handles cases where conversion fails gracefully</li>
</ul></li>
<li>
<strong>Fixed missing confidence intervals in CV results</strong>:
<ul><li>CV tables now preserve numeric confidence interval columns (<code>2.5%</code> and <code>97.5%</code>)</li>
<li>Extended report now shows confidence intervals when using cross-validation (the default)</li>
</ul></li>
<li>
<strong>Fixed misleading omnibus test language</strong>:
<ul><li>Extended reports no longer say “confirmed by omnibus tests” when the omnibus p-values are not significant</li>
<li>Now uses neutral language “Omnibus tests:” for non-significant results</li>
</ul></li>
<li>
<strong>Clarified decision flow language</strong>:
<ul><li>Removed confusing “Avoid Y”, “Use X”, “Evidence unclear for Z” placeholders</li>
<li>Now clearly states actions in terms of targeting specific outcomes</li>
<li>Updated recommendations to use “Outcomes suitable for targeted treatment” instead of “Use for targeting”</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="removed-1-0-208">Removed<a class="anchor" aria-label="anchor" href="#removed-1-0-208"></a></h4>
<ul><li>
<strong>Removed <code>margot_compute_consensus_conditional_means()</code> function</strong>:
<ul><li>No longer needed as <code><a href="../reference/margot_policy_tree_stability.html">margot_policy_tree_stability()</a></code> now preserves all necessary data</li>
<li>Conditional means computation is handled automatically by existing functions</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.207" id="id_2025-07-29-margot-10207">[2025-07-29] margot 1.0.207<a class="anchor" aria-label="anchor" href="#id_2025-07-29-margot-10207"></a></h2>
<div class="section level4">
<h4 id="improvements-1-0-207">Improvements<a class="anchor" aria-label="anchor" href="#improvements-1-0-207"></a></h4>
<ul><li>
<strong>Enhanced <code><a href="../reference/margot_policy_tree_stability.html">margot_policy_tree_stability()</a></code> data preservation</strong>:
<ul><li>Now preserves outcome data, weights, and treatment assignments</li>
<li>Ensures all necessary data is available for downstream analysis</li>
<li>Maintains compatibility with plotting and interpretation functions</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.206" id="id_2025-07-29-margot-10206">[2025-07-29] margot 1.0.206<a class="anchor" aria-label="anchor" href="#id_2025-07-29-margot-10206"></a></h2>
<div class="section level4">
<h4 id="breaking-changes-1-0-206">Breaking Changes<a class="anchor" aria-label="anchor" href="#breaking-changes-1-0-206"></a></h4>
<ul><li>
<strong>Renamed bootstrap functions to stability functions</strong>:
<ul><li>
<code><a href="../reference/margot_policy_tree_bootstrap.html">margot_policy_tree_bootstrap()</a></code> –&gt; <code><a href="../reference/margot_policy_tree_stability.html">margot_policy_tree_stability()</a></code>
</li>
<li>
<code><a href="../reference/margot_interpret_bootstrap.html">margot_interpret_bootstrap()</a></code> –&gt; <code><a href="../reference/margot_interpret_stability.html">margot_interpret_stability()</a></code>
</li>
<li>Class <code>"margot_bootstrap_policy_tree"</code> –&gt; <code>"margot_stability_policy_tree"</code>
</li>
<li>Parameter <code>n_bootstrap</code> –&gt; <code>n_iterations</code>
</li>
<li>Parameter <code>vary_type = "sample_only"</code> –&gt; <code>vary_type = "bootstrap"</code>
</li>
<li>Old function names are deprecated but still work with warnings</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="new-features-1-0-206">New Features<a class="anchor" aria-label="anchor" href="#new-features-1-0-206"></a></h4>
<ul><li>
<strong>Added <code><a href="../reference/margot_interpret_stability_batch.html">margot_interpret_stability_batch()</a></code> function</strong>:
<ul><li>Processes multiple models from stability analysis in one call</li>
<li>Returns named list of interpretations or combined text</li>
<li>Supports saving combined output to file</li>
<li>Includes theoretical context only for first model to avoid repetition</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="improvements-1-0-206">Improvements<a class="anchor" aria-label="anchor" href="#improvements-1-0-206"></a></h4>
<ul><li>
<strong>More accurate function naming</strong>:
<ul><li>Default behavior performs train/test split variation, not bootstrap resampling</li>
<li>New names better reflect the stability analysis purpose</li>
<li>Documentation clarifies the difference between stability analysis and bootstrap</li>
</ul></li>
<li>
<strong>Better backwards compatibility</strong>:
<ul><li>
<code><a href="../reference/margot_policy_tree_stability.html">margot_policy_tree_stability()</a></code> now accepts deprecated <code>n_bootstrap</code> parameter</li>
<li>Shows warning but still works to ease transition</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.205" id="id_2025-07-29-margot-10205">[2025-07-29] margot 1.0.205<a class="anchor" aria-label="anchor" href="#id_2025-07-29-margot-10205"></a></h2>
<div class="section level4">
<h4 id="bug-fixes-1-0-205">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-0-205"></a></h4>
<ul><li>
<strong>Fixed scope error in <code><a href="../reference/create_evidence_summary.html">create_evidence_summary()</a></code></strong>:
<ul><li>Added <code>use_cross_validation</code> and <code>rate_results_list</code> parameters to function signature</li>
<li>Resolves error: “object ‘use_cross_validation’ not found”</li>
<li>These parameters are now properly passed from the main function to the evidence summary creation</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.204" id="id_2025-07-29-margot-10204">[2025-07-29] margot 1.0.204<a class="anchor" aria-label="anchor" href="#id_2025-07-29-margot-10204"></a></h2>
<div class="section level4">
<h4 id="improvements-1-0-204">Improvements<a class="anchor" aria-label="anchor" href="#improvements-1-0-204"></a></h4>
<ul><li>
<strong>More precise negative RATE detection in <code><a href="../reference/margot_interpret_heterogeneity.html">margot_interpret_heterogeneity()</a></code></strong>:
<ul><li>Now correctly uses CV table Status column to identify statistically significant negative RATE results</li>
<li>Only models with significant negative RATE (not just negative estimates) are flagged as “excluded_negative_rate”</li>
<li>Inconclusive results are no longer misclassified as negative</li>
<li>Enhanced recommendations to distinguish between:
<ul><li>“AVOID targeting X” (statistically significant negative RATE - harmful)</li>
<li>“Insufficient evidence for heterogeneity in Y” (no evidence found)</li>
<li>“Statistical heterogeneity detected but no actionable targeting evidence for Z” (omnibus positive but RATE not positive)</li>
</ul></li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.203" id="id_2025-07-29-margot-10203">[2025-07-29] margot 1.0.203<a class="anchor" aria-label="anchor" href="#id_2025-07-29-margot-10203"></a></h2>
<div class="section level4">
<h4 id="bug-fixes-1-0-203">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-0-203"></a></h4>
<ul><li>
<strong>Fixed extended report generation error in <code><a href="../reference/margot_interpret_heterogeneity.html">margot_interpret_heterogeneity()</a></code></strong>:
<ul><li>CV rate tables use <code>model_id</code> column, not <code>outcome</code> column</li>
<li>Fixed column reference when looking up QINI and AUTOC results in extended reports</li>
<li>Resolves error: “Unknown or uninitialised column: <code>outcome</code>”</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="improvements-1-0-203">Improvements<a class="anchor" aria-label="anchor" href="#improvements-1-0-203"></a></h4>
<ul><li>
<strong>Enhanced recommendations in <code><a href="../reference/margot_interpret_heterogeneity.html">margot_interpret_heterogeneity()</a></code></strong>:
<ul><li>Now explains why models are excluded rather than just listing them</li>
<li>Separates models with negative RATE evidence (avoid due to reduced effectiveness) from models with no evidence</li>
<li>Provides clearer guidance: “Avoid targeting X due to negative RATE evidence” vs “No heterogeneity evidence found for Y”</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.202" id="id_2025-07-28-margot-10202">[2025-07-28] margot 1.0.202<a class="anchor" aria-label="anchor" href="#id_2025-07-28-margot-10202"></a></h2>
<div class="section level4">
<h4 id="breaking-changes-1-0-202">Breaking Changes<a class="anchor" aria-label="anchor" href="#breaking-changes-1-0-202"></a></h4>
<ul><li>
<strong>Revised heterogeneity evidence classification in <code><a href="../reference/margot_interpret_heterogeneity.html">margot_interpret_heterogeneity()</a></code></strong>:
<ul><li>Removed “mixed_evidence_caution” category for models with conflicting RATE results</li>
<li>Any model with negative RATE evidence (AUTOC or QINI) is now excluded entirely</li>
<li>Added new “exploratory_evidence” category for models with no negative RATE tests AND positive calibration or QINI curve</li>
<li>Changed return structure: replaced <code>cautiously_selected_model_ids/names</code> with <code>exploratory_model_ids/names</code>
</li>
<li>
<code>all_selected_model_ids</code> now combines selected + exploratory (not cautiously selected)</li>
<li>Added warning when models are excluded due to negative RATE evidence</li>
<li>New evidence_type values: “excluded_negative_rate”, “exploratory_evidence” (replaces “mixed_evidence_caution”)</li>
<li>This ensures more conservative selection by strictly excluding any model with verified negative heterogeneity</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="improvements-1-0-202">Improvements<a class="anchor" aria-label="anchor" href="#improvements-1-0-202"></a></h4>
<ul><li>
<strong>Changed default <code>parallel = FALSE</code> in <code><a href="../reference/margot_interpret_heterogeneity.html">margot_interpret_heterogeneity()</a></code></strong>: Serial processing is currently faster than parallel for this function</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.201" id="id_2025-07-28-margot-10201">[2025-07-28] margot 1.0.201<a class="anchor" aria-label="anchor" href="#id_2025-07-28-margot-10201"></a></h2>
<div class="section level4">
<h4 id="bug-fixes-1-0-201">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-0-201"></a></h4>
<ul><li>
<strong>Fixed label mapping in CV rate tables</strong>:
<ul><li>
<code><a href="../reference/margot_interpret_heterogeneity.html">margot_interpret_heterogeneity()</a></code> now passes <code>label_mapping</code> parameter to <code><a href="../reference/margot_rate_cv.html">margot_rate_cv()</a></code>
</li>
<li>CV rate tables now properly display transformed model names (e.g., “Personal Well-being Index” instead of “model_t2_pwi_z”)</li>
<li>Fixed label transformation logic in <code><a href="../reference/margot_rate_cv.html">margot_rate_cv()</a></code> to use proper list indexing</li>
<li>Ensures consistency between evidence summary table and rate result tables</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="documentation-1-0-201">Documentation<a class="anchor" aria-label="anchor" href="#documentation-1-0-201"></a></h4>
<ul><li>
<strong>Updated citations to distinguish methodologies</strong>:
<ul><li>Wager (2024) now correctly cited for sequential cross-validation methodology</li>
<li>Nie &amp; Wager (2020) cited for general RATE (Rank Average Treatment Effect) approach</li>
<li>Fixed citation from incorrect “2021” to correct “2020” for Nie &amp; Wager throughout codebase</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.200" id="id_2025-07-28-margot-10200">[2025-07-28] margot 1.0.200<a class="anchor" aria-label="anchor" href="#id_2025-07-28-margot-10200"></a></h2>
<div class="section level4">
<h4 id="new-features-1-0-200">New Features<a class="anchor" aria-label="anchor" href="#new-features-1-0-200"></a></h4>
<ul><li>
<strong>Enhanced <code><a href="../reference/margot_rate_cv.html">margot_rate_cv()</a></code> with table output and detailed summary</strong>:
<ul><li>Added <code>tables</code> field to return structure containing formatted tables similar to <code><a href="../reference/margot_rate.html">margot_rate()</a></code> output</li>
<li>New <code><a href="../reference/margot_interpret_rate_cv.html">margot_interpret_rate_cv()</a></code> function provides detailed interpretation similar to <code><a href="../reference/margot_interpret_rate.html">margot_interpret_rate()</a></code>
</li>
<li>Tables include columns: outcome, RATE Estimate, Std Error, t-statistic, p-value, 95% CI, and Status</li>
<li>Supports both single target (AUTOC or QINI) and combined target analysis</li>
<li>Provides comparison between AUTOC and QINI when both are computed</li>
<li>Updated examples show how to access tables and use interpretation functions</li>
</ul></li>
<li>
<strong>Enhanced heterogeneity analysis with better defaults and CV integration</strong>:
<ul><li>Changed default <code>use_cross_validation = TRUE</code> in <code><a href="../reference/margot_interpret_heterogeneity.html">margot_interpret_heterogeneity()</a></code> for more robust inference</li>
<li>Changed default <code>include_extended_report = TRUE</code> for comprehensive output</li>
<li>Changed default <code>adjust = "none"</code> to work better with CV (only “bonferroni” or “none” are valid for CV)</li>
<li>Enhanced <code><a href="../reference/margot_rate_cv.html">margot_rate_cv()</a></code> to compute and include RATE estimates from full data after CV testing</li>
<li>Updated <code><a href="../reference/create_cv_tables.html">create_cv_tables()</a></code> to format results like standard RATE tables with estimates and CIs</li>
<li>Improved CV results presentation in extended reports with proper RATE estimates</li>
<li>CV results now include both p-values (from martingale aggregation) and RATE estimates (from full data)</li>
</ul></li>
<li>
<strong>Changed default <code>tree_method</code> to “fastpolicytree” in <code><a href="../reference/margot_policy_tree_bootstrap.html">margot_policy_tree_bootstrap()</a></code></strong>:
<ul><li>Now defaults to the faster implementation for improved performance</li>
<li>Provides ~10x speed improvement for bootstrap analysis</li>
<li>Falls back gracefully to policytree if fastpolicytree is not installed</li>
<li>Particularly beneficial for bootstrap analysis with hundreds of iterations</li>
</ul></li>
<li>
<strong>Added <code>model_names</code> parameter to <code><a href="../reference/margot_interpret_heterogeneity.html">margot_interpret_heterogeneity()</a></code></strong>:
<ul><li>Allows users to analyse only specific models rather than all models</li>
<li>Model names can be specified with or without “model_” prefix</li>
<li>Filters all computations (RATE, QINI, omnibus tests) to requested models only</li>
<li>Also filters pre-computed results when provided</li>
<li>Provides helpful warnings when requested models are not found</li>
<li>Consistent with other functions in the margot package</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-1-0-200">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-0-200"></a></h4>
<ul><li>
<strong>Fixed <code><a href="../reference/margot_interpret_heterogeneity.html">margot_interpret_heterogeneity()</a></code> RATE results export</strong>:
<ul><li>Now properly exports raw RATE results from <code><a href="../reference/margot_rate.html">margot_rate()</a></code> or <code><a href="../reference/margot_rate_cv.html">margot_rate_cv()</a></code> in <code>rate_results$raw_results</code>
</li>
<li>This provides access to the full rate results including all statistics and confidence intervals</li>
<li>Previously, CV results from <code><a href="../reference/margot_rate_cv.html">margot_rate_cv()</a></code> were only accessible through the <code>cv_results</code> field</li>
<li>The raw results are now consistently available regardless of whether standard or CV method was used</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.199" id="id_2025-07-28-margot-10199">[2025-07-28] margot 1.0.199<a class="anchor" aria-label="anchor" href="#id_2025-07-28-margot-10199"></a></h2>
<div class="section level4">
<h4 id="new-features-1-0-199">New Features<a class="anchor" aria-label="anchor" href="#new-features-1-0-199"></a></h4>
<ul><li>
<strong>Extended fastpolicytree support to policy tree functions</strong>:
<ul><li>Added <code>tree_method</code> parameter to <code><a href="../reference/margot_recalculate_policy_trees.html">margot_recalculate_policy_trees()</a></code>
</li>
<li>This function now uses the internal <code><a href="../reference/dot-compute_policy_tree.html">.compute_policy_tree()</a></code> wrapper for consistent method handling</li>
<li>Users can benefit from 10x faster policy tree computation when recalculating trees with custom covariates</li>
</ul></li>
<li>
<strong>Added automatic labelling to diagnostic functions</strong>:
<ul><li>Enhanced <code><a href="../reference/transform_var_name.html">transform_var_name()</a></code> to handle <code>_r</code> suffix (converts to “(reduced) {var_name}”)</li>
<li>Enhanced <code><a href="../reference/transform_var_name.html">transform_var_name()</a></code> to handle <code>_log</code> pattern (converts to “{var_name} (log)”)</li>
<li>Added <code>label_mapping</code> parameter to <code><a href="../reference/margot_assess_variable_correlation.html">margot_assess_variable_correlation()</a></code>
</li>
<li>Added <code>label_mapping</code> parameter to <code><a href="../reference/margot_identify_variable_clusters.html">margot_identify_variable_clusters()</a></code>
</li>
<li>Added <code>label_mapping</code> parameter to <code><a href="../reference/margot_interpret_bootstrap.html">margot_interpret_bootstrap()</a></code>
</li>
<li>All functions now automatically transform variable names when no label mapping provided</li>
<li>Model names in output are also transformed (e.g., “model_t2_kessler_latent_depression_z_r” becomes “(reduced) Kessler Latent Depression”)</li>
<li>Correlation plots now show human-readable labels instead of raw variable names</li>
<li>Cluster analysis output uses labeled variable names for better interpretability</li>
<li>Bootstrap interpretation now uses labeled variable and model names throughout</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.198" id="id_2025-07-28-margot-10198">[2025-07-28] margot 1.0.198<a class="anchor" aria-label="anchor" href="#id_2025-07-28-margot-10198"></a></h2>
<div class="section level4">
<h4 id="documentation-1-0-198">Documentation<a class="anchor" aria-label="anchor" href="#documentation-1-0-198"></a></h4>
<ul><li>
<strong>Enhanced <code><a href="../reference/margot_policy_tree_bootstrap.html">margot_policy_tree_bootstrap()</a></code> documentation</strong>:
<ul><li>Added complete workflow example showing all diagnostic steps</li>
<li>Shows how to use correlation analysis with bootstrap results</li>
<li>Clarifies that correlation analysis needs original causal forest results</li>
<li>Added examples of all related diagnostic functions</li>
<li>Added <a href="https://github.com/seealso" class="external-link">@seealso</a> section for related functions</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.197" id="id_2025-07-28-margot-10197">[2025-07-28] margot 1.0.197<a class="anchor" aria-label="anchor" href="#id_2025-07-28-margot-10197"></a></h2>
<div class="section level4">
<h4 id="bug-fixes-1-0-197">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-0-197"></a></h4>
<ul><li>
<strong>Fixed hanging issue in <code><a href="../reference/margot_assess_variable_correlation.html">margot_assess_variable_correlation()</a></code></strong>:
<ul><li>Now properly detects and rejects bootstrap results with helpful error message</li>
<li>Improved covariate data detection with multiple fallback locations</li>
<li>Can use test set covariates from plot_data as last resort</li>
<li>Better error messages guide users to use original causal forest results</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.196" id="id_2025-07-28-margot-10196">[2025-07-28] margot 1.0.196<a class="anchor" aria-label="anchor" href="#id_2025-07-28-margot-10196"></a></h2>
<div class="section level4">
<h4 id="new-features-1-0-196">New Features<a class="anchor" aria-label="anchor" href="#new-features-1-0-196"></a></h4>
<ul><li>
<strong>Added support for fastpolicytree package</strong>:
<ul><li>New <code>tree_method</code> parameter in <code><a href="../reference/margot_policy_tree.html">margot_policy_tree()</a></code> and <code><a href="../reference/margot_policy_tree_bootstrap.html">margot_policy_tree_bootstrap()</a></code>
</li>
<li>Allows users to choose between “policytree” (default) and “fastpolicytree”</li>
<li>fastpolicytree provides ~10x faster computation with identical results</li>
<li>Particularly beneficial for bootstrap analysis with hundreds of iterations</li>
<li>Falls back gracefully to policytree if fastpolicytree is not installed</li>
<li>Added fastpolicytree to Suggests in DESCRIPTION</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="technical-changes-1-0-196">Technical Changes<a class="anchor" aria-label="anchor" href="#technical-changes-1-0-196"></a></h4>
<ul><li>Added internal utility functions for policy tree computation:
<ul><li>
<code><a href="../reference/dot-compute_policy_tree.html">.compute_policy_tree()</a></code>: Wrapper that handles method selection</li>
<li>
<code><a href="../reference/dot-has_fastpolicytree.html">.has_fastpolicytree()</a></code>: Checks package availability</li>
<li>
<code><a href="../reference/dot-get_tree_method.html">.get_tree_method()</a></code>: Handles fallback logic</li>
</ul></li>
<li>Updated metadata and CLI output to show which tree method is being used</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.195" id="id_2025-07-28-margot-10195">[2025-07-28] margot 1.0.195<a class="anchor" aria-label="anchor" href="#id_2025-07-28-margot-10195"></a></h2>
<div class="section level4">
<h4 id="improvements-1-0-195">Improvements<a class="anchor" aria-label="anchor" href="#improvements-1-0-195"></a></h4>
<ul><li>
<strong>Corrected interpretation guidance in bootstrap analysis</strong>:
<ul><li>No longer suggests “simpler approaches” when trees show instability</li>
<li>Acknowledges that depth-2 trees typically outperform depth-1 trees despite higher instability</li>
<li>Emphasises trade-off between stability and predictive performance</li>
<li>Updated recommendations to focus on validation rather than simplification</li>
<li>Added note in theoretical background about performance vs stability trade-offs</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.194" id="id_2025-07-28-margot-10194">[2025-07-28] margot 1.0.194<a class="anchor" aria-label="anchor" href="#id_2025-07-28-margot-10194"></a></h2>
<div class="section level4">
<h4 id="new-features-1-0-194">New Features<a class="anchor" aria-label="anchor" href="#new-features-1-0-194"></a></h4>
<ul><li>
<strong>New diagnostic functions for policy tree stability analysis</strong>:
<ul><li>
<code><a href="../reference/margot_assess_variable_correlation.html">margot_assess_variable_correlation()</a></code>: Analyses correlations among covariates to identify multicollinearity</li>
<li>
<code><a href="../reference/margot_identify_variable_clusters.html">margot_identify_variable_clusters()</a></code>: Groups correlated variables into clusters</li>
<li>
<code><a href="../reference/margot_stability_diagnostics.html">margot_stability_diagnostics()</a></code>: Comprehensive stability assessment combining bootstrap and correlation analyses</li>
<li>These functions help explain why policy trees show instability when variables are correlated</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="improvements-1-0-194">Improvements<a class="anchor" aria-label="anchor" href="#improvements-1-0-194"></a></h4>
<ul><li>
<strong>Enhanced <code><a href="../reference/margot_interpret_bootstrap.html">margot_interpret_bootstrap()</a></code> with theoretical grounding</strong>:
<ul><li>Now acknowledges tree instability as expected behavior, not a failure</li>
<li>Frames variable selection variability in context of correlated predictors</li>
<li>Includes theoretical context about decision tree sensitivity (can be disabled)</li>
<li>More nuanced interpretation of stability patterns</li>
<li>Emphasises that correlated variables may capture similar information</li>
<li>Added <code>include_theory</code> parameter to control theoretical context inclusion</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.193" id="id_2025-07-28-margot-10193">[2025-07-28] margot 1.0.193<a class="anchor" aria-label="anchor" href="#id_2025-07-28-margot-10193"></a></h2>
<div class="section level4">
<h4 id="breaking-changes-1-0-193">Breaking Changes<a class="anchor" aria-label="anchor" href="#breaking-changes-1-0-193"></a></h4>
<ul><li>
<strong>Changed default bootstrap approach in <code><a href="../reference/margot_policy_tree_bootstrap.html">margot_policy_tree_bootstrap()</a></code></strong>:
<ul><li>Default <code>vary_type</code> is now “split_only” instead of “both”</li>
<li>By default, varies random seeds to create different train/test splits</li>
<li>No longer performs bootstrap resampling by default</li>
<li>This change reflects that decision trees are highly sensitive to data perturbations</li>
<li>Bootstrap resampling can still be enabled with <code>vary_type = "sample_only"</code> or <code>vary_type = "both"</code>
</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="improvements-1-0-193">Improvements<a class="anchor" aria-label="anchor" href="#improvements-1-0-193"></a></h4>
<ul><li>
<strong>Enhanced CLI output for bootstrap analysis</strong>:
<ul><li>Now shows “seed variation (fixed train proportion)” for default behavior</li>
<li>Shows “seed + train proportion variation” when varying train proportions</li>
<li>More accurately describes what variation is being performed</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.192" id="id_2025-07-28-margot-10192">[2025-07-28] margot 1.0.192<a class="anchor" aria-label="anchor" href="#id_2025-07-28-margot-10192"></a></h2>
<div class="section level4">
<h4 id="bug-fixes-1-0-192">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-0-192"></a></h4>
<ul><li>
<strong>Fixed misleading CLI output in <code><a href="../reference/margot_policy_tree_bootstrap.html">margot_policy_tree_bootstrap()</a></code></strong>:
<ul><li>Now correctly shows “sample_only” when <code>vary_train_proportion = FALSE</code> (the default)</li>
<li>Previously showed “both” even when only bootstrap resampling was happening</li>
<li>CLI output now accurately reflects the actual variation being performed</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.191" id="id_2025-07-28-margot-10191">[2025-07-28] margot 1.0.191<a class="anchor" aria-label="anchor" href="#id_2025-07-28-margot-10191"></a></h2>
<div class="section level4">
<h4 id="improvements-1-0-191">Improvements<a class="anchor" aria-label="anchor" href="#improvements-1-0-191"></a></h4>
<ul><li>
<strong>Enhanced <code><a href="../reference/margot_interpret_bootstrap.html">margot_interpret_bootstrap()</a></code> for depth-2-only analyses</strong>:
<ul><li>No longer treats depth-2-only analyses as warnings or edge cases</li>
<li>Added dedicated <code><a href="../reference/interpret_depth2_only.html">interpret_depth2_only()</a></code> internal function for cleaner interpretation</li>
<li>Provides comprehensive narrative focused on depth-2 split patterns and stability</li>
<li>Properly handles the common use case where only depth=2 is specified</li>
<li>Removed incorrect suggestion that single-split rules might be preferable to unstable depth-2 trees</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.190" id="id_2025-07-28-margot-10190">[2025-07-28] margot 1.0.190<a class="anchor" aria-label="anchor" href="#id_2025-07-28-margot-10190"></a></h2>
<div class="section level4">
<h4 id="new-features-1-0-190">New Features<a class="anchor" aria-label="anchor" href="#new-features-1-0-190"></a></h4>
<ul><li>
<strong>New <code><a href="../reference/margot_policy_tree_bootstrap.html">margot_policy_tree_bootstrap()</a></code> function</strong>:
<ul><li>Performs bootstrap analysis of policy trees to assess stability</li>
<li>Memory-efficient streaming approach processes one tree at a time</li>
<li>Uses metaseed architecture for full reproducibility</li>
<li>Three variation types: “both” (resample + split), “sample_only”, “split_only”</li>
<li>Flexible train proportion variation with sensible defaults (0.4, 0.5, 0.6, 0.7)</li>
<li>Full parameter parity with <code><a href="../reference/margot_policy_tree.html">margot_policy_tree()</a></code>: supports <code>custom_covariates</code>, <code>exclude_covariates</code>, <code>covariate_mode</code>, <code>depth</code>, and <code>label_mapping</code>
</li>
<li>Covariate selection modes: “original”, “custom”, “add”, “all” - identical to <code><a href="../reference/margot_policy_tree.html">margot_policy_tree()</a></code>
</li>
<li>Pattern-based exclusion (e.g., exclude all “_log” variables)</li>
<li>
<strong>Changed default depth from “both” to 2</strong> (most commonly used in practice)</li>
<li>Returns consensus trees fully compatible with existing plotting/interpretation functions</li>
<li>Includes S3 methods: <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code>, <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code>, <code><a href="../reference/get_variable_importance.html">get_variable_importance()</a></code>, <code><a href="../reference/get_consensus_info.html">get_consensus_info()</a></code>
</li>
<li>New <code><a href="../reference/margot_interpret_bootstrap.html">margot_interpret_bootstrap()</a></code> function provides publication-ready narrative interpretation</li>
<li>Handles edge cases gracefully (e.g., when only depth-2 trees are computed)</li>
<li>Lightweight output structure keeps memory usage reasonable (~74MB per model)</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.183" id="id_2025-07-28-margot-10183">[2025-07-28] margot 1.0.183<a class="anchor" aria-label="anchor" href="#id_2025-07-28-margot-10183"></a></h2>
<div class="section level4">
<h4 id="improvements-1-0-183">Improvements<a class="anchor" aria-label="anchor" href="#improvements-1-0-183"></a></h4>
<ul><li>
<strong>Default seed values for reproducibility</strong>:
<ul><li>Changed all functions with <code>seed = NULL</code> to use <code>seed = 12345</code> as default</li>
<li>Affected functions: <code><a href="../reference/compute_qini_curves_binary.html">compute_qini_curves_binary()</a></code>, <code>.margot_fit_policy_trees()</code>, <code><a href="../reference/margot_plot_rate.html">margot_plot_rate()</a></code>, <code><a href="../reference/margot_plot_rate_batch.html">margot_plot_rate_batch()</a></code>, <code><a href="../reference/margot_generate_qini_data.html">margot_generate_qini_data()</a></code>, <code><a href="../reference/margot_plot_individual_responses.html">margot_plot_individual_responses()</a></code>, <code><a href="../reference/margot_plot_discontinuity.html">margot_plot_discontinuity()</a></code>, <code><a href="../reference/margot_plot_slope.html">margot_plot_slope()</a></code>, <code><a href="../reference/margot_plot_slope_covariate.html">margot_plot_slope_covariate()</a></code>, <code><a href="../reference/margot_recalculate_policy_trees.html">margot_recalculate_policy_trees()</a></code>, <code><a href="../reference/margot_causal_forest_dev.html">margot_causal_forest_dev()</a></code>, <code><a href="../reference/margot_qini_dev.html">margot_qini_dev()</a></code>, <code><a href="../reference/simulate_ate_data_with_weights.html">simulate_ate_data_with_weights()</a></code>
</li>
<li>Ensures consistent reproducible results when no explicit seed is provided</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.182" id="id_2025-07-28-margot-10182">[2025-07-28] margot 1.0.182<a class="anchor" aria-label="anchor" href="#id_2025-07-28-margot-10182"></a></h2>
<div class="section level4">
<h4 id="new-features-1-0-182">New Features<a class="anchor" aria-label="anchor" href="#new-features-1-0-182"></a></h4>
<ul><li>
<strong>New <code><a href="../reference/margot_policy_tree.html">margot_policy_tree()</a></code> function</strong>:
<ul><li>Recompute policy trees with custom parameters without re-running causal forests</li>
<li>Flexible covariate selection with exclusion patterns (e.g., exclude “_log” variables)</li>
<li>Support for custom covariate sets and multiple selection modes</li>
<li>User-configurable train/test split proportion (default 0.5)</li>
<li>Output structure fully compatible with existing plotting and interpretation functions</li>
<li>Works seamlessly with <code><a href="../reference/margot_plot_policy_tree.html">margot_plot_policy_tree()</a></code>, <code><a href="../reference/margot_interpret_policy_tree.html">margot_interpret_policy_tree()</a></code>, and <code><a href="../reference/margot_plot_policy_combo.html">margot_plot_policy_combo()</a></code>
</li>
<li>Parallels the design of <code><a href="../reference/margot_qini.html">margot_qini()</a></code> and <code><a href="../reference/margot_rate.html">margot_rate()</a></code>
</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="improvements-1-0-182">Improvements<a class="anchor" aria-label="anchor" href="#improvements-1-0-182"></a></h4>
<ul><li>
<strong>Updated defaults for policy tree estimation</strong>:
<ul><li>Changed default <code>train_proportion</code> from 0.7 to 0.5 across all functions</li>
<li>Added <code>seed</code> parameter to <code><a href="../reference/margot_causal_forest.html">margot_causal_forest()</a></code> with default 12345</li>
<li>Ensures reproducible train/test splits for policy trees and QINI evaluation</li>
<li>Seeds are model-specific to maintain independence across outcomes</li>
<li>
<strong>BREAKING CHANGE</strong>: Depth-1 policy trees now use only top_n_vars (same as depth-2), not all covariates</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.181" id="id_2025-07-28-margot-10181">[2025-07-28] margot 1.0.181<a class="anchor" aria-label="anchor" href="#id_2025-07-28-margot-10181"></a></h2>
<div class="section level4">
<h4 id="improvements-1-0-181">Improvements<a class="anchor" aria-label="anchor" href="#improvements-1-0-181"></a></h4>
<ul><li>
<strong>Enhanced <code><a href="../reference/margot_rate_cv.html">margot_rate_cv()</a></code> result interpretation</strong>:
<ul><li>Now warns when models show negative heterogeneity (negative t-statistics)</li>
<li>Only displays alpha level when an adjustment method is used</li>
<li>Clearer messaging about statistical significance and practical implications</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.180" id="id_2025-07-28-margot-10180">[2025-07-28] margot 1.0.180<a class="anchor" aria-label="anchor" href="#id_2025-07-28-margot-10180"></a></h2>
<div class="section level4">
<h4 id="new-features-1-0-180">New Features<a class="anchor" aria-label="anchor" href="#new-features-1-0-180"></a></h4>
<ul><li>
<strong>Parallel processing support for <code><a href="../reference/margot_interpret_heterogeneity.html">margot_interpret_heterogeneity()</a></code></strong>:
<ul><li>Added <code>parallel</code> parameter (default FALSE) for optional parallel processing</li>
<li>Added <code>n_cores</code> parameter to control number of cores</li>
<li>Passes through to <code><a href="../reference/margot_rate_cv.html">margot_rate_cv()</a></code> when <code>use_cross_validation = TRUE</code>
</li>
</ul></li>
<li>
<strong>Progress bars for <code><a href="../reference/margot_rate_cv.html">margot_rate_cv()</a></code></strong>:
<ul><li>Shows progress during model data extraction phase</li>
<li>Displays detailed progress for each model being tested (non-parallel mode)</li>
<li>Shows progress through CV folds within each model</li>
<li>Clear indication when running in parallel mode (where detailed progress isn’t available)</li>
<li>Includes time estimates (ETA) for completion</li>
</ul></li>
<li>
<strong>Progress tracking for <code><a href="../reference/margot_interpret_heterogeneity.html">margot_interpret_heterogeneity()</a></code></strong>:
<ul><li>Shows overall progress through major analysis steps (e.g., “[2/4] Computing QINI curves”)</li>
<li>Step-by-step progress indicators with completion messages</li>
<li>Clear indication of what analysis is currently running</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="improvements-1-0-180">Improvements<a class="anchor" aria-label="anchor" href="#improvements-1-0-180"></a></h4>
<ul><li>
<strong>Updated pkgdown documentation</strong>:
<ul><li>Added <code>margot_rate_cv</code> to “Interpret and Report Results” section</li>
<li>Added <code>margot_plot_cv_results</code> and <code>margot_plot_cv_summary</code> to “Visualise Causal Effect Estimates” section</li>
<li>Marked <code>print.margot_cv_results</code> as internal (S3 method)</li>
</ul></li>
<li>
<strong>Better cross-validation integration in <code><a href="../reference/margot_interpret_heterogeneity.html">margot_interpret_heterogeneity()</a></code></strong>:
<ul><li>Automatically converts invalid adjustment methods to “none” when using CV</li>
<li>No longer shows warning when default “BH” is automatically converted for CV</li>
<li>Only warns if user explicitly sets an incompatible adjustment method</li>
<li>Added example in documentation showing how to use cross-validation</li>
<li>Now returns <code>cv_results</code> object that can be passed directly to plotting functions</li>
<li>Added <code>method_used</code> field to indicate whether CV or standard method was used</li>
<li>Avoids need to recompute CV results for visualization</li>
</ul></li>
<li>
<strong>Enhanced <code><a href="../reference/margot_interpret_heterogeneity.html">margot_interpret_heterogeneity()</a></code> reporting</strong>:
<ul><li>Extended report now includes method details (standard vs cross-validation)</li>
<li>Reports number of CV folds when cross-validation is used</li>
<li>Reports alpha level and multiple testing correction method</li>
<li>CV now tests both AUTOC and QINI targets (was only testing AUTOC)</li>
</ul></li>
<li>
<strong>Improved memory management for parallel processing</strong>:
<ul><li>
<code><a href="../reference/margot_rate_cv.html">margot_rate_cv()</a></code> now has <code>future_globals_maxSize</code> parameter (default 22 GiB)</li>
<li>Increased default from 16 GiB to 22 GiB to handle larger model objects</li>
<li>Memory limit is now set before creating parallel plan to ensure proper enforcement</li>
<li>Better error messages when memory limit is exceeded, suggesting solutions</li>
<li>Automatically manages memory limits for parallel workers</li>
<li>Restores original memory settings on function exit</li>
</ul></li>
<li>
<strong>Simplified citation approach</strong>:
<ul><li>Removed Rdpack dependency for simpler citation management</li>
<li>Now uses direct “(Wager 2024)” citation format</li>
<li>Maintained proper references in documentation</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-1-0-180">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-0-180"></a></h4>
<ul><li>
<strong>Fixed progress tracking conflicts</strong>:
<ul><li>
<code><a href="../reference/margot_interpret_heterogeneity.html">margot_interpret_heterogeneity()</a></code> now uses simple alerts instead of progress_step when calling <code><a href="../reference/margot_rate_cv.html">margot_rate_cv()</a></code>
</li>
<li>This prevents conflicts between nested progress indicators</li>
</ul></li>
<li>
<strong>Fixed parallel processing cleanup</strong>:
<ul><li>Parallel plan is now properly reset to sequential on function exit</li>
<li>Package loading messages from workers are suppressed with <code>future.stdout = FALSE</code>
</li>
<li>Prevents hanging and repeated package loading messages</li>
</ul></li>
<li>
<strong>Fixed seed setting in <code><a href="../reference/margot_rate_cv.html">margot_rate_cv()</a></code></strong>:
<ul><li>Now properly sets seed at function start for full reproducibility</li>
<li>If seed = NULL, automatically defaults to 12345</li>
</ul></li>
<li>
<strong>Fixed parallel processing memory errors</strong>:
<ul><li>Resolved “11.31 GiB exceeds 500 MiB limit” error</li>
<li>Pre-extracts model data to reduce memory usage in parallel workers</li>
</ul></li>
<li>
<strong>Fixed progress bar error in <code><a href="../reference/margot_rate_cv.html">margot_rate_cv()</a></code></strong>:
<ul><li>Progress bars now use explicit IDs to avoid “Cannot find current progress bar” errors</li>
<li>Properly handles progress bar lifecycle with NULL checks</li>
</ul></li>
<li>
<strong>Fixed parallel processing error “could not find function rate_sequential_cv”</strong>:
<ul><li>Internal function <code>rate_sequential_cv</code> is now exported (marked as internal) to be available to parallel workers</li>
<li>Function is explicitly passed to parallel workers via <code>future.globals</code> to ensure availability</li>
<li>Required packages (margot, grf, cli) are loaded in each worker</li>
<li>Added check for package installation - parallel processing requires margot to be installed</li>
<li>When using <code><a href="https://devtools.r-lib.org/reference/load_all.html" class="external-link">devtools::load_all()</a></code>, the function automatically falls back to sequential processing</li>
<li>Clear warning message guides users to either install the package or use <code>parallel = FALSE</code>
</li>
<li>This resolves the “could not find function” error when using <code>parallel = TRUE</code>
</li>
<li>Parallel processing now shows elapsed time after completion for each target</li>
<li>Function remains internal and should not be called directly by users</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.171" id="id_2025-07-28-margot-10171">[2025-07-28] margot 1.0.171<a class="anchor" aria-label="anchor" href="#id_2025-07-28-margot-10171"></a></h2>
<div class="section level4">
<h4 id="breaking-changes-1-0-171">Breaking Changes<a class="anchor" aria-label="anchor" href="#breaking-changes-1-0-171"></a></h4>
<ul><li>
<strong>Multiple testing correction defaults changed</strong>:
<ul><li>
<code><a href="../reference/margot_rate_cv.html">margot_rate_cv()</a></code> now defaults to <code>adjust = "none"</code> (was “BH”)</li>
<li>
<code><a href="../reference/margot_rate.html">margot_rate()</a></code> now defaults to <code>adjust = "none"</code> (was NULL)</li>
<li>
<code><a href="../reference/margot_rate_cv.html">margot_rate_cv()</a></code> now only accepts “bonferroni” or “none” for <code>adjust</code> parameter</li>
<li>Other methods are rejected with informative error message</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="new-features-1-0-171">New Features<a class="anchor" aria-label="anchor" href="#new-features-1-0-171"></a></h4>
<ul><li>
<strong>Visualization for CV heterogeneity tests</strong>:
<ul><li>New <code><a href="../reference/margot_plot_cv_results.html">margot_plot_cv_results()</a></code> function creates forest plots for CV test results</li>
<li>New <code><a href="../reference/margot_plot_cv_summary.html">margot_plot_cv_summary()</a></code> function shows summary of significant vs non-significant models</li>
<li>Both functions provide appropriate visualizations for hypothesis test results (not RATE curves)</li>
</ul></li>
<li>
<strong>Enhanced CV heterogeneity testing</strong>:
<ul><li>
<code><a href="../reference/margot_rate_cv.html">margot_rate_cv()</a></code> now defaults to testing both AUTOC and QINI targets</li>
<li>Added <code>label_mapping</code> parameter for custom model labels in results and plots</li>
<li>Improved interpretation for dual-target testing showing concordance and differences</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="improvements-1-0-171">Improvements<a class="anchor" aria-label="anchor" href="#improvements-1-0-171"></a></h4>
<ul><li>
<strong>Statistical validity for CV correction</strong>:
<ul><li>Clear documentation that BH/BY/FDR methods are not appropriate for CV</li>
<li>Added recommendation to use alpha = 0.2 with Bonferroni correction</li>
<li>Improved error messages and warnings for adjustment methods</li>
</ul></li>
<li>
<strong>Better handling of CV results in plotting functions</strong>:
<ul><li>
<code><a href="../reference/margot_plot_rate.html">margot_plot_rate()</a></code> now detects CV results and suggests using <code><a href="../reference/margot_plot_cv_results.html">margot_plot_cv_results()</a></code>
</li>
<li>
<code><a href="../reference/margot_plot_rate_batch.html">margot_plot_rate_batch()</a></code> similarly provides informative error messages</li>
<li>Clear distinction between hypothesis test visualizations and RATE curve plots</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.170" id="id_2025-07-28-margot-10170">[2025-07-28] margot 1.0.170<a class="anchor" aria-label="anchor" href="#id_2025-07-28-margot-10170"></a></h2>
<blockquote>
<p><strong>⚠️ IMPORTANT NOTICE</strong>: This development version of the margot package is undergoing significant refactoring as we transition to the <strong>margotverse</strong> suite of packages. This package is currently for the author’s lab use only. The package will be split into focused, single-responsibility packages including margot.core, margot.lmtp, margot.grf, margot.viz, and others. Please expect breaking changes in upcoming releases.</p>
</blockquote>
<div class="section level4">
<h4 id="breaking-changes-1-0-170">Breaking Changes<a class="anchor" aria-label="anchor" href="#breaking-changes-1-0-170"></a></h4>
<ul><li>
<strong>Parameter deprecation</strong>: <code>qini_train_prop</code> is now deprecated in favor of <code>train_prop</code> with default value 0.5
<ul><li>Backward compatibility maintained with deprecation warning</li>
<li>Affects: <code><a href="../reference/margot_causal_forest.html">margot_causal_forest()</a></code> and related functions</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="new-features-1-0-170">New Features<a class="anchor" aria-label="anchor" href="#new-features-1-0-170"></a></h4>
<ul><li>
<strong>Cost sensitivity analysis for QINI curves</strong>:
<ul><li>Added <code>treatment_cost</code> parameter throughout QINI functionality</li>
<li>New <code><a href="../reference/margot_qini_cost_sensitivity.html">margot_qini_cost_sensitivity()</a></code> function for analyzing treatment allocation under different budget constraints</li>
<li>Cost parameter affects optimal treatment allocation strategies</li>
<li>Supports cost sensitivity visualization with budget-based x-axis</li>
</ul></li>
<li>
<strong>Enhanced RATE computation</strong>:
<ul><li>Added <code>q</code> parameter for custom quantile grids in <code><a href="../reference/margot_rate.html">margot_rate()</a></code>
</li>
<li>Pass-through parameters (<code>...</code>) to <code><a href="https://rdrr.io/pkg/grf/man/rank_average_treatment_effect.html" class="external-link">grf::rank_average_treatment_effect()</a></code> for maximum flexibility</li>
<li>Target parameter now correctly reflected in plot titles (AUTOC or QINI)</li>
</ul></li>
<li>
<strong>Flexible confidence intervals</strong>:
<ul><li>
<code>show_ci</code> parameter in QINI plots now accepts: FALSE, TRUE, “both”, “cate”, or “ate”</li>
<li>Allows selective display of confidence intervals for different curves</li>
<li>Added <code>seed</code> parameter (default = 12345) for reproducible confidence interval computation</li>
</ul></li>
<li>
<strong>Budget-based visualization</strong>:
<ul><li>New <code>x_axis</code> parameter in QINI functions accepts “proportion” or “budget”</li>
<li>Budget x-axis shows treatment allocation under budget constraints</li>
<li>Automatically detects appropriate x-axis type based on data</li>
</ul></li>
<li>
<strong>Cross-validation heterogeneity testing</strong>:
<ul><li>New <code><a href="../reference/margot_rate_cv.html">margot_rate_cv()</a></code> function implementing GRF’s uncorrelated sequential CV approach</li>
<li>Integrated CV option in <code><a href="../reference/margot_interpret_heterogeneity.html">margot_interpret_heterogeneity()</a></code> with <code>use_cross_validation</code> parameter</li>
<li>Provides robust heterogeneity testing that avoids overfitting</li>
<li>Parallel processing support (currently experimental, disabled by default)</li>
</ul></li>
<li>
<strong>Enhanced reproducibility</strong>:
<ul><li>Added <code>seed</code> parameter to <code><a href="../reference/margot_interpret_heterogeneity.html">margot_interpret_heterogeneity()</a></code> and <code><a href="../reference/margot_policy.html">margot_policy()</a></code>
</li>
<li>Ensures consistent results across all sub-computations</li>
<li>Default seed = 12345 for all functions</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="improvements-1-0-170">Improvements<a class="anchor" aria-label="anchor" href="#improvements-1-0-170"></a></h4>
<ul><li>
<strong>Cost invariance property documentation</strong>:
<ul><li>Added extensive documentation explaining that relative benefit of CATE vs ATE targeting remains constant with uniform costs</li>
<li>Clarified that gains are identical when plotted against proportion treated</li>
<li>Budget visualization reveals cost differences more clearly</li>
</ul></li>
<li>
<strong>Enhanced error handling</strong>:
<ul><li>Better detection of treatment_cost changes for QINI regeneration</li>
<li>Improved error messages for missing data or model components</li>
<li>Fixed treatment_cost initialization order to prevent NULL issues</li>
</ul></li>
<li>
<strong>Multiple testing correction updates</strong>:
<ul><li>Changed default <code>adjust</code> parameter to “none” in both <code><a href="../reference/margot_rate_cv.html">margot_rate_cv()</a></code> and <code><a href="../reference/margot_rate.html">margot_rate()</a></code>
</li>
<li>Restricted <code><a href="../reference/margot_rate_cv.html">margot_rate_cv()</a></code> to only accept “bonferroni” or “none” for statistical validity</li>
<li>Other methods (BH/BY/FDR) are not appropriate for CV due to martingale aggregation</li>
<li>Added recommendation to use alpha = 0.2 with Bonferroni due to its conservative nature</li>
<li>Clear documentation explaining why only these methods are valid for CV</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-1-0-170">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-0-170"></a></h4>
<ul><li>Fixed “invalid ‘type’ (closure)” error in <code><a href="../reference/margot_rate.html">margot_rate()</a></code> by properly handling <code>q</code> parameter</li>
<li>Fixed RATE plot titles to correctly display target (AUTOC or QINI)</li>
<li>Fixed QINI regeneration to detect treatment_cost changes</li>
<li>Fixed y-axis scaling to remove artificial cost-based adjustments</li>
<li>Fixed treatment_cost NULL initialization causing QINI generation failures</li>
<li>Fixed “Models not found” error in <code><a href="../reference/margot_plot_qini_batch_cost_sensitivity.html">margot_plot_qini_batch_cost_sensitivity()</a></code>
</li>
<li>Fixed “$ operator is invalid for atomic vectors” error by creating <code><a href="../reference/margot_plot_qini_direct.html">margot_plot_qini_direct()</a></code>
</li>
<li>Fixed “invalid ‘x’ type in ‘x &amp;&amp; y’” error by using proper boolean variables</li>
<li>Fixed pkgdown build error by adding missing functions to _pkgdown.yml reference</li>
<li>Fixed reproducibility issue in compute_rate_on_demand by adding default seed = 12345</li>
<li>Fixed evidence type classification in <code><a href="../reference/margot_interpret_heterogeneity.html">margot_interpret_heterogeneity()</a></code>:
<ul><li>QINI curves now properly treated as exploratory evidence (sensitive to spend levels)</li>
<li>RATE positive results now correctly classified as “targeting_opportunity”</li>
<li>Only RATE can produce negative evidence (differential prediction is positive/inconclusive only)</li>
<li>Added new “exploratory_only” category for models with only QINI curve evidence</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="known-issues-1-0-170">Known Issues<a class="anchor" aria-label="anchor" href="#known-issues-1-0-170"></a></h4>
<ul><li>Parallel processing in <code><a href="../reference/margot_rate_cv.html">margot_rate_cv()</a></code> may encounter memory issues with large model objects due to environment capture. Parallel processing is disabled by default. To enable at your own risk, use <code>parallel = TRUE</code> and increase memory limit with <code>options(future.globals.maxSize = 15 * 1024^3)</code>
</li>
</ul></div>
<div class="section level4">
<h4 id="internal-changes-1-0-170">Internal Changes<a class="anchor" aria-label="anchor" href="#internal-changes-1-0-170"></a></h4>
<ul><li>Created <code><a href="../reference/margot_generate_qini_data.html">margot_generate_qini_data()</a></code> for on-demand QINI generation</li>
<li>Created <code><a href="../reference/margot_plot_qini_direct.html">margot_plot_qini_direct()</a></code> for plotting pre-computed QINI data</li>
<li>Updated all maq() calls to properly pass treatment_cost parameter</li>
<li>Implemented budget-based generation in <code><a href="../reference/margot_qini_simple_baseline.html">margot_qini_simple_baseline()</a></code>
</li>
<li>Added <code><a href="../reference/compute_rate_on_demand.html">compute_rate_on_demand()</a></code> helper for consistent RATE computation</li>
<li>Added <code><a href="../reference/convert_cv_to_rate_results.html">convert_cv_to_rate_results()</a></code> for CV result format conversion</li>
<li>Implemented <code><a href="../reference/rate_sequential_cv.html">rate_sequential_cv()</a></code> for martingale-based CV aggregation</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.150" id="id_2025-07-25-margot-10150">[2025-07-25] margot 1.0.150<a class="anchor" aria-label="anchor" href="#id_2025-07-25-margot-10150"></a></h2>
<div class="section level4">
<h4 id="new-features-1-0-150">New Features<a class="anchor" aria-label="anchor" href="#new-features-1-0-150"></a></h4>
<ul><li>
<strong>Scale transformations for QINI plots</strong>: Added <code>scale</code> parameter to <code><a href="../reference/margot_plot_qini.html">margot_plot_qini()</a></code> and <code><a href="../reference/margot_plot_qini_batch.html">margot_plot_qini_batch()</a></code>
<ul><li>“average” (default): Shows average policy effects per unit (maq’s Q(B) = E[⟨πB(Xi), τ(Xi)⟩])</li>
<li>“cumulative”: Shows traditional cumulative gains (total accumulated benefit)</li>
<li>“population”: Shows total population impact (absolute gain in outcome units)</li>
<li>Example: <code>margot_plot_qini(mc_result, "model_outcome", scale = "cumulative")</code>
</li>
<li>Confidence intervals automatically adjust to match the selected scale</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-1-0-150">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-0-150"></a></h4>
<ul><li>
<strong>Fixed QINI dimension mismatch with qini_split = TRUE</strong>: Resolved critical error where tau_hat dimensions didn’t match test indices
<ul><li>When <code>qini_split = TRUE</code>, tau_hat is now properly subset or regenerated for test indices only</li>
<li>Added intelligent handling that regenerates predictions when model is available</li>
<li>Falls back to subsetting when model is unavailable</li>
<li>Prevents “reward, costs, and evaluation scores should have conformable dimension” errors</li>
</ul></li>
<li>
<strong>Fixed rbind errors in QINI plots</strong>: Resolved “numbers of columns of arguments do not match” errors
<ul><li>Fixed confidence interval computation to ensure consistent column structure</li>
<li>Fixed extended data generation to match qini_data columns when scale transformation is applied</li>
<li>Added proper column matching before all rbind operations</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="improvements-1-0-150">Improvements<a class="anchor" aria-label="anchor" href="#improvements-1-0-150"></a></h4>
<ul><li>
<strong>Enhanced maq integration</strong>: All maq function calls now properly pass seed and sample.weights parameters
<ul><li>Updated <code>margot_generate_qini_data</code>, <code>compute_qini_curves_binary</code>, <code>margot_recompute_qini_ipw</code>, and <code>margot_recompute_qini_aipw</code>
</li>
<li>Ensures reproducibility and proper weighting in all QINI computations</li>
<li>Fixed missing seed propagation in <code>margot_summary_cate_difference_gain</code>
</li>
</ul></li>
<li>
<strong>Better error handling for QINI regeneration</strong>: Added detailed diagnostic messages
<ul><li>Shows tau_hat dimensions, IPW scores shape, and weights information</li>
<li>Helps identify dimension mismatches and data availability issues</li>
<li>Improved handling of simple baseline objects vs maq objects</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.140" id="id_2025-07-24-margot-10140">[2025-07-24] margot 1.0.140<a class="anchor" aria-label="anchor" href="#id_2025-07-24-margot-10140"></a></h2>
<div class="section level4">
<h4 id="breaking-changes-improvements-1-0-140">Breaking Changes (Improvements)<a class="anchor" aria-label="anchor" href="#breaking-changes-improvements-1-0-140"></a></h4>
<ul><li>
<strong>Consistent QINI baseline method</strong>: <code><a href="../reference/margot_causal_forest.html">margot_causal_forest()</a></code> now uses “maq_no_covariates” as default
<ul><li>Previously used constant rewards approach</li>
<li>Now matches the default in visualization and analysis functions</li>
<li>More theoretically sound as noted in literature</li>
<li>Includes automatic fallback to ensure robustness</li>
<li>
<strong>Action required</strong>: Re-run <code><a href="../reference/margot_causal_forest.html">margot_causal_forest()</a></code> to get the new baseline method</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="new-features-1-0-140">New Features<a class="anchor" aria-label="anchor" href="#new-features-1-0-140"></a></h4>
<ul><li>
<strong>Customizable QINI plot colours</strong>: Added <code>cate_color</code> and <code>ate_color</code> parameters to <code><a href="../reference/margot_plot_qini.html">margot_plot_qini()</a></code> and <code><a href="../reference/margot_plot_qini_batch.html">margot_plot_qini_batch()</a></code>
<ul><li>Default colours: gold (#d8a739) for CATE (targeted treatment) and dark gray (<a href="https://github.com/go-bayes/margot/issues/4" class="external-link">#4</a>d4d4d) for ATE (no-priority assignment)</li>
<li>Improves visual distinction between targeting strategies</li>
<li>Example: <code>margot_plot_qini(mc_result, "model_outcome", cate_color = "blue", ate_color = "red")</code>
</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-1-0-140">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-0-140"></a></h4>
<ul><li>
<strong>Fixed QINI regeneration for flipped models</strong>: Resolved critical issue where flipped models (with _r suffix) failed to regenerate QINI curves
<ul><li>Models like <code>model_t2_neuroticism_z_r</code> now correctly regenerate QINI curves with different baseline methods</li>
<li>Removed blocking condition that prevented regeneration when mc_result$data was NULL</li>
<li>Added graceful fallback to existing QINI data when regeneration fails</li>
<li>Enhanced debugging messages for forest object retrieval</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="improvements-1-0-140">Improvements<a class="anchor" aria-label="anchor" href="#improvements-1-0-140"></a></h4>
<ul><li>
<strong>QINI data consistency</strong>: Ensured average gain calculations use the same data subset as original QINI curves
<ul><li>Store QINI generation metadata (test indices, baseline method, data split info) during initial generation</li>
<li>
<code><a href="../reference/margot_summary_cate_difference_gain.html">margot_summary_cate_difference_gain()</a></code> now uses stored metadata for consistency</li>
<li>Added informative CLI messages throughout the process</li>
<li>Fixed baseline_method metadata to correctly reflect “maq_constant” for compute_qini_curves_binary</li>
</ul></li>
<li>
<strong>Default spend levels updated</strong>: Changed default spend_levels from c(0.2, 0.5) to c(0.1, 0.4) across all functions
<ul><li>Affected functions: <code><a href="../reference/margot_plot_qini.html">margot_plot_qini()</a></code>, <code><a href="../reference/margot_plot_qini_batch.html">margot_plot_qini_batch()</a></code>, <code><a href="../reference/margot_interpret_qini.html">margot_interpret_qini()</a></code>, <code><a href="../reference/margot_interpret_heterogeneity.html">margot_interpret_heterogeneity()</a></code>, <code><a href="../reference/margot_policy.html">margot_policy()</a></code>, <code><a href="../reference/margot_qini.html">margot_qini()</a></code>, <code><a href="../reference/margot_qini_diagnostic.html">margot_qini_diagnostic()</a></code>, and <code><a href="../reference/margot_batch_policy.html">margot_batch_policy()</a></code>
</li>
<li>The 10% and 40% spend levels better reflect typical analysis needs</li>
<li>10% captures early targeting efficiency, 40% shows broader implementation potential</li>
<li>Users can still specify custom spend levels as needed</li>
</ul></li>
<li>
<strong>Enhanced heterogeneity interpretation</strong>: <code><a href="../reference/margot_interpret_heterogeneity.html">margot_interpret_heterogeneity()</a></code> now identifies models with mixed evidence
<ul><li>New outputs: <code>cautiously_selected_model_ids</code> and <code>cautiously_selected_model_names</code> for models with conflicting evidence</li>
<li>Combined outputs: <code>all_selected_model_ids</code> and <code>all_selected_model_names</code> include both selected and cautiously selected models</li>
<li>Captures models that show positive evidence in some tests but negative in others</li>
<li>Helps identify targeting opportunities that require careful validation before implementation</li>
<li>Example use case: models with beneficial QINI curves despite negative RATE statistics</li>
<li>Note: Re-run <code><a href="../reference/margot_causal_forest.html">margot_causal_forest()</a></code> to get full metadata benefits for existing models</li>
</ul></li>
<li>
<strong>Fixed breaking change</strong>: QINI regeneration now checks data availability before attempting
<ul><li>When models were created with <code>save_data = FALSE</code>, changing baseline_method no longer causes errors</li>
<li>Falls back to existing QINI curves with clear warning when data is unavailable</li>
</ul></li>
<li>
<strong>QINI baseline method consistency</strong>: Enhanced tracking of baseline methods across functions
<ul><li>
<code><a href="../reference/margot_policy.html">margot_policy()</a></code> and <code><a href="../reference/margot_qini.html">margot_qini()</a></code> now store the baseline method used for each model</li>
<li>
<code><a href="../reference/margot_interpret_qini.html">margot_interpret_qini()</a></code> gains <code>baseline_method</code> parameter to ensure consistency with plots</li>
<li>
<code><a href="../reference/margot_qini.html">margot_qini()</a></code> now properly regenerates curves when baseline method changes</li>
<li>Warns when interpretation uses different baseline method than visualization</li>
<li>Helps avoid mismatches between QINI plots and summary tables</li>
<li>Users get informative messages instead of cryptic “Cannot find outcome data” errors</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.130" id="id_2025-07-24-margot-10130">[2025-07-24] margot 1.0.130<a class="anchor" aria-label="anchor" href="#id_2025-07-24-margot-10130"></a></h2>
<div class="section level4">
<h4 id="new-features-1-0-130">new features<a class="anchor" aria-label="anchor" href="#new-features-1-0-130"></a></h4>
<ul><li>
<strong>margot_qini()</strong>: new function for generating QINI curves and difference gain summaries
<ul><li>provides direct access to QINI analysis without running full policy analysis</li>
<li>parallels the functionality of margot_rate() for consistency</li>
<li>outputs are compatible with margot_interpret_qini()</li>
<li>supports all baseline methods: “auto”, “simple”, “maq_no_covariates”, “maq_only”, “none”</li>
</ul></li>
<li>
<strong>margot_interpret_rate()</strong>: moved from _temp folder to main package
<ul><li>now properly exported for interpreting RATE results</li>
<li>handles both single method (AUTOC or QINI) and comparison of both</li>
<li>provides clear markdown-formatted summaries</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="improvements-1-0-130">improvements<a class="anchor" aria-label="anchor" href="#improvements-1-0-130"></a></h4>
<ul><li>
<strong>margot_interpret_qini()</strong>: now accepts output from both margot_policy() and margot_qini()</li>
<li>
<strong>consistent API</strong>: users can now use:
<ul><li>margot_rate() –&gt; margot_interpret_rate() for RATE analysis</li>
<li>margot_qini() –&gt; margot_interpret_qini() for QINI analysis</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="default-changes-1-0-130">default changes<a class="anchor" aria-label="anchor" href="#default-changes-1-0-130"></a></h4>
<ul><li>
<strong>baseline_method</strong>: changed default from “auto” to “maq_no_covariates” in all QINI functions
<ul><li>provides more theoretically sound default behavior</li>
<li>“maq_no_covariates” now includes automatic fallback to simple baseline if maq fails</li>
<li>users always get a baseline curve with clear warning when fallback occurs</li>
<li>affects: margot_generate_qini_data(), margot_qini(), margot_plot_qini(), margot_plot_qini_batch(), margot_policy()</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-1-0-130">bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-0-130"></a></h4>
<ul><li>
<strong>flipped model data lookup</strong>: fixed issue where QINI functions couldn’t find outcome data for flipped models
<ul><li>models with “_r” suffix (e.g., “model_t2_neuroticism_z_r”) now correctly find data under the base name</li>
<li>affects: margot_plot_qini(), margot_qini(), margot_policy()</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.125" id="id_2025-07-24-margot-10125">[2025-07-24] margot 1.0.125<a class="anchor" aria-label="anchor" href="#id_2025-07-24-margot-10125"></a></h2>
<div class="section level4">
<h4 id="improved-1-0-125">improved<a class="anchor" aria-label="anchor" href="#improved-1-0-125"></a></h4>
<ul><li>
<strong>margot_interpret_heterogeneity()</strong>: improved clarity of test results
<ul><li>renamed “omnibus_test” column to “differential_prediction_test” for clarity</li>
<li>added “mean_prediction_test” column to show calibration status (informational only)</li>
<li>simplified main interpretation and enhanced extended report with complementary methods explanation</li>
<li>updated omnibus calibration test description to match <code>grf</code> manual clarity</li>
</ul></li>
<li>
<strong>QINI ATE baseline</strong>: improved reliability and consistency
<ul><li>ATE baseline now always generated as straight line using mean(tau_hat)</li>
<li>ensures fair comparison between CATE and ATE curves</li>
<li>more robust than relying on maq output for constant rewards</li>
<li>aligns with maq conceptual approach while being more predictable</li>
</ul></li>
<li>
<strong>margot_plot_qini() enhancements</strong>:
<ul><li>changed CATE curve colour from blue (<a href="https://github.com/go-bayes/margot/issues/4" class="external-link">#4</a>f88c6) to green (<a href="https://github.com/go-bayes/margot/issues/009" class="external-link">#009</a>E73) to avoid “control” association</li>
<li>added ylim parameter for manual y-axis control (defaults to automatic scaling)</li>
<li>ylim parameter also added to margot_plot_qini_batch() for consistency</li>
<li>added baseline_method parameter for flexible baseline generation (“auto”, “simple”, “maq_no_covariates”, “maq_only”, “none”)</li>
<li>robust simple baseline implementation that always succeeds</li>
<li>smart fallback logic: adds simple baseline to existing QINI data when regeneration isn’t possible</li>
<li>improved data extraction from grf forest objects (Y.orig, W.orig) when mc_result$data is NULL</li>
<li>better error messages with available data fields when baseline generation fails</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="breaking-changes-1-0-125">breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-1-0-125"></a></h4>
<ul><li>
<strong>removed save_plot parameters</strong>: removed save_plot and related parameters (dpi, width, height, output_dir) from:
<ul><li>margot_plot_qini_batch()</li>
<li>margot_policy()</li>
<li>margot_plot_rate_batch()</li>
<li>users should save plots manually using ggplot2::ggsave() if needed</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="major-architecture-change-1-0-125">major architecture change<a class="anchor" aria-label="anchor" href="#major-architecture-change-1-0-125"></a></h4>
<ul><li>
<strong>QINI curve generation moved to on-demand</strong>:
<ul><li>created margot_generate_qini_data() helper function for on-demand generation</li>
<li>margot_plot_qini() now generates QINI data when needed</li>
<li>margot_plot_qini_batch() updated to work with on-demand generation</li>
<li>margot_policy() and margot_summary_cate_difference_gain() generate QINI objects as needed</li>
<li>more robust approach that handles edge cases better</li>
<li>follows maq’s mathematical approach for ATE baselines</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="fixes-1-0-125">fixes<a class="anchor" aria-label="anchor" href="#fixes-1-0-125"></a></h4>
<ul><li>fixed omnibus test matching for flipped models from margot_flip_forests()</li>
<li>better matching logic using original outcome names for reliability</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.115" id="id_2025-07-23-margot-10115">[2025-07-23] margot 1.0.115<a class="anchor" aria-label="anchor" href="#id_2025-07-23-margot-10115"></a></h2>
<div class="section level4">
<h4 id="major-features-1-0-115">Major Features<a class="anchor" aria-label="anchor" href="#major-features-1-0-115"></a></h4>
<ul><li>
<strong>margot_interpret_heterogeneity()</strong>: comprehensive function to combine evidence from multiple heterogeneity tests
<ul><li>Integrates RATE (AUTOC &amp; QINI), QINI curves, and omnibus calibration tests</li>
<li>Simplified interface: takes models directly, computes all analyses internally</li>
<li>Provides unified recommendations for model selection</li>
<li>Includes concordance analysis and detailed evidence summary</li>
<li>New evidence categorisation system for nuanced interpretation</li>
<li>Added <code>include_extended_report</code> parameter for detailed academic-style reports with full statistics</li>
<li>
<strong>margot_plot_qini_batch()</strong>: batch processing for QINI plots across multiple models</li>
<li>
<strong>margot_flip_forests()</strong>: enhanced with <code>grf_defaults</code> parameter for consistent GRF settings</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="improvements-1-0-115">Improvements<a class="anchor" aria-label="anchor" href="#improvements-1-0-115"></a></h4>
<ul><li>
<code><a href="../reference/margot_interpret_rate.html">margot_interpret_rate()</a></code> now includes <code>excluded_both</code> and <code>excluded_either</code> lists</li>
<li>
<code><a href="../reference/margot_interpret_qini.html">margot_interpret_qini()</a></code> now exposes harmful and no-effect model categorizations</li>
<li>Improvements to internal naming in <code><a href="../reference/margot_flip_forests.html">margot_flip_forests()</a></code>
</li>
<li>Improvements interpretation for qini curve analysis:
<ul><li>Clarified QINI compares targeted vs uniform treatment allocation</li>
<li>Added explanation for small differences at 100% spend</li>
<li>Added note about CATE benefits even with unreliable ATE</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.110" id="id_2025-07-22-margot-10110">[2025-07-22] margot 1.0.110<a class="anchor" aria-label="anchor" href="#id_2025-07-22-margot-10110"></a></h2>
<p>major improvements to QINI curve visualisation, new functions for AIPW/IPW QINI computation, enhanced maq compatibility, and various bug fixes.</p>
<div class="section level4">
<h4 id="new-functions-1-0-110">New Functions<a class="anchor" aria-label="anchor" href="#new-functions-1-0-110"></a></h4>
<ul><li>
<strong>margot_recompute_qini_aipw()</strong>: recompute QINI curves using AIPW scores for improved robustness
<ul><li>Provides doubly robust estimates that are consistent if either propensity or outcome model is correct</li>
<li>supports automatic treatment variable detection or manual specification</li>
<li>nandles various data structures including models stored in full_models list</li>
<li>estimates conditional means using regression forests (mu.hat)</li>
<li>adds overlap warnings when propensity scores are extreme (&lt;0.05 or &gt;0.95)</li>
<li>fully compatible with existing QINI plotting and interpretation functions</li>
</ul></li>
<li>
<strong>margot_recompute_qini_ipw()</strong>: Recompute QINI curves using IPW scores only
<ul><li>simpler alternative to AIPW for faster computation</li>
<li>uses the same modern maq API for consistency</li>
<li>useful for debugging QINI curve differences</li>
<li>shares the same flexible data handling as the AIPW version</li>
</ul></li>
<li>
<strong>margot_qini_diagnostic()</strong>: diagnose QINI gain discrepancies
<ul><li>compares QINI gains from plot data, direct maq calculations, and diff summaries</li>
<li>helps identify and debug discrepancies between different calculation methods</li>
<li>flags differences above specified tolerance threshold</li>
<li>useful for verifying QINI calculations are consistent</li>
</ul></li>
<li>
<strong>margot_plot_qini_batch()</strong>: Batch process and plot QINI curves for multiple models
<ul><li>supports all margot_plot_qini() parameters for consistent visualization</li>
<li>handles model names with or without “model_” prefix</li>
<li>automatically filters to models with QINI data</li>
<li>saves plots to specified directory (default: “qini_plots”)</li>
<li>returns list of ggplot objects for further customization</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-1-0-110">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-0-110"></a></h4>
<ul><li>fixed <code><a href="../reference/margot_plot_qini.html">margot_plot_qini()</a></code> confidence interval computation and display issues
<ul><li>added <code>inherit.aes = FALSE</code> to geom_ribbon to prevent aesthetic inheritance errors</li>
<li>fixed CI computation to handle both old (treatment/baseline) and new (cate/ate) qini object naming conventions</li>
<li>Confidence intervals now compute and display correctly when <code>show_ci = TRUE</code>
</li>
</ul></li>
<li>Fixed <code><a href="../reference/margot_flip_forests.html">margot_flip_forests()</a></code> error when rebuilding combined_table
<ul><li>Resolved “Couldn’t find a point-estimate column” error that occurred after flipping outcomes</li>
<li>Function now properly rebuilds combined_table from merged results instead of incorrectly passing entire results object</li>
</ul></li>
<li>Fixed <code><a href="../reference/margot_causal_forest.html">margot_causal_forest()</a></code> to save treatment assignment vector W when save_data=TRUE
<ul><li>Ensures margot_flip_forests() can perform full model recomputation</li>
</ul></li>
<li>Fixed <code><a href="../reference/compute_qini_curves_binary.html">compute_qini_curves_binary()</a></code> to use modern maq API
<ul><li>Updated from positional arguments to named parameters (reward, cost, DR.scores)</li>
<li>Ensures consistency with current maq package expectations</li>
<li>Resolves potential inconsistencies in QINI curve computations</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="enhancements-1-0-110">Enhancements<a class="anchor" aria-label="anchor" href="#enhancements-1-0-110"></a></h4>
<ul><li>Enhanced <code><a href="../reference/margot_flip_forests.html">margot_flip_forests()</a></code> with automatic removal of original models
<ul><li>New <code>remove_original</code> parameter (default TRUE) removes originals after flipping</li>
<li>Reduces memory usage and provides cleaner outputs</li>
<li>Set to FALSE to keep both original and flipped models</li>
</ul></li>
<li>Fixed double “model_” prefix bug in <code><a href="../reference/margot_flip_forests.html">margot_flip_forests()</a></code>
<ul><li>Results now correctly show as “model_outcome_r” instead of “model_model_outcome_r”</li>
</ul></li>
<li>Fixed QINI gain calculation discrepancies
<ul><li>
<code><a href="../reference/extract_qini_data_binary.html">extract_qini_data_binary()</a></code> now uses actual gain values instead of linear approximation for ATE curves</li>
<li>
<code><a href="../reference/margot_flip_forests.html">margot_flip_forests()</a></code> now correctly flips outcome values when recalculating QINI curves</li>
<li>Resolves ~2x discrepancy between plotted QINI curves and <code><a href="../reference/margot_interpret_qini.html">margot_interpret_qini()</a></code> gain summaries</li>
</ul></li>
<li>Fixed QINI plot visualization issues
<ul><li>ATE line now correctly displays as straight line (representing constant treatment effect)</li>
<li>Confidence intervals now cover full 0-100% range (previously missing 0-5% and 95-100%)</li>
<li>Added endpoint extrapolation to ensure complete CI coverage</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="enhancements-to-margot_plot_qini-1-0-110">Enhancements to margot_plot_qini()<a class="anchor" aria-label="anchor" href="#enhancements-to-margot_plot_qini-1-0-110"></a></h4>
<ul><li>Added <code>horizontal_line</code> parameter for maq::plot() compatibility
<ul><li>Extends curves horizontally when path is complete</li>
</ul></li>
<li>Added <code>grid_step</code> parameter for data subsampling
<ul><li>Improves performance with large datasets</li>
</ul></li>
<li>Added <code>return_data</code> parameter to return plot data as data.frame
<ul><li>Matches maq::plot() output format for interoperability</li>
</ul></li>
<li>Enhanced std.err extraction from maq objects
<ul><li>Provides additional consistency checks</li>
</ul></li>
<li>Fixed <code><a href="../reference/margot_flip_forests.html">margot_flip_forests()</a></code> missing W component error
<ul><li>
<code><a href="../reference/margot_causal_forest.html">margot_causal_forest()</a></code> now saves treatment vector W when save_data = TRUE</li>
<li>Ensures compatibility with model flipping functionality</li>
</ul></li>
<li>Updated <code><a href="../reference/margot_plot_qini.html">margot_plot_qini()</a></code> visualization
<ul><li>Fixed CI computation error when only CATE curve exists (no ATE)</li>
<li>Fixed case sensitivity in curve naming (cate/CATE)</li>
<li>Fixed colors for binary treatments: CATE = blue (<a href="https://github.com/go-bayes/margot/issues/4" class="external-link">#4</a>f88c6), ATE = gold (#d8a739)</li>
<li>Ensured color/fill scales match so lines and CI ribbons have same colors</li>
<li>Multi-arm treatments continue to use Okabe-Ito palette</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="enhancements-1-0-110-1">Enhancements<a class="anchor" aria-label="anchor" href="#enhancements-1-0-110-1"></a></h4>
<ul><li>Updated <code><a href="../reference/margot_recompute_qini_aipw.html">margot_recompute_qini_aipw()</a></code> to handle multiple data storage patterns
<ul><li>Supports models in both result objects and full_models list</li>
<li>Can extract data from top-level storage when models lack original data</li>
<li>Smart treatment variable detection with binary preference</li>
<li>Automatic propensity score estimation when not available</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.105" id="id_2025-07-21-margot-10105">[2025-07-21] margot 1.0.105<a class="anchor" aria-label="anchor" href="#id_2025-07-21-margot-10105"></a></h2>
<div class="section level4">
<h4 id="new-functions-1-0-105">New Functions<a class="anchor" aria-label="anchor" href="#new-functions-1-0-105"></a></h4>
<ul><li>
<strong>margot_recompute_ate()</strong>: Recompute average treatment effects with different target samples
<ul><li>Allows recomputation without refitting expensive causal forest models</li>
<li>Supports target_sample options: “all” (ATE), “treated” (ATT), “control” (ATC), “overlap” (ATO)</li>
<li>Automatically renames effect columns based on target sample</li>
<li>Recomputes E-values with the new estimates</li>
<li>Uses margot-style parameter naming (target_sample not target.sample)</li>
</ul></li>
<li>
<strong>margot_recompute_ate_batch()</strong>: Compare ATEs across multiple target samples
<ul><li>Convenience function to compute all target sample types at once</li>
<li>Creates comparison table with side-by-side estimates and E-values</li>
<li>Useful for sensitivity analysis and exploring treatment effect heterogeneity</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="margot_plot-enhancements-1-0-105">margot_plot() Enhancements<a class="anchor" aria-label="anchor" href="#margot_plot-enhancements-1-0-105"></a></h4>
<ul><li>
<strong>New Column Support</strong>: Now accepts ATE/ATT/ATC/ATO column names in addition to traditional E[Y(1)]-E[Y(0)] format
<ul><li>Automatically detects and uses the appropriate effect column</li>
<li>Maintains full backwards compatibility</li>
</ul></li>
<li>
<strong>Enhanced rename_ate Parameter</strong>:
<ul><li>Accepts boolean (TRUE auto-detects appropriate label based on column type)</li>
<li>Accepts custom string for complete control</li>
<li>Auto-detects ATE/ATT/ATC/ATO when set to TRUE</li>
</ul></li>
<li>
<strong>New rename_evalue Parameter</strong>:
<ul><li>When TRUE, renames E_Value to “E-Value” and E_Val_bound to “E-Value Bound”</li>
<li>Makes column names more publication-ready</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="supporting-function-updates-1-0-105">Supporting Function Updates<a class="anchor" aria-label="anchor" href="#supporting-function-updates-1-0-105"></a></h4>
<ul><li>
<strong>margot_interpret_marginal()</strong>:
<ul><li>Now correctly describes treatment effect type (ATE/ATT/ATC/ATO)</li>
<li>Explicitly states “No reliable effects are evident.” when no outcomes meet reliability threshold</li>
<li>Updated wording from “showed” to “present” for clearer communication</li>
</ul></li>
<li>
<strong>back_transform_estimates()</strong>: Handles new column types for original scale transformations</li>
<li>
<strong>group_tab()</strong>: Detects and processes new effect column types</li>
<li>All changes maintain backwards compatibility</li>
</ul></div>
<div class="section level4">
<h4 id="qini-plot-enhancements-1-0-105">Qini Plot Enhancements<a class="anchor" aria-label="anchor" href="#qini-plot-enhancements-1-0-105"></a></h4>
<ul><li>
<strong>margot_plot_qini()</strong>: Added confidence interval support
<ul><li>New parameters: show_ci, ci_alpha, ci_n_points, ci_ribbon_alpha, ci_ribbon_color</li>
<li>Confidence intervals computed using maq::average_gain()</li>
<li>Visualized with ggplot2::geom_ribbon()</li>
<li>Maintains backwards compatibility (CI display off by default)</li>
<li>Fixed geom_ribbon aesthetic inheritance issue</li>
</ul></li>
<li>
<strong>margot_policy()</strong>: Added qini_args parameter
<ul><li>Allows passing additional arguments to margot_plot_qini()</li>
<li>Enables confidence interval display in policy batch processing</li>
<li>User-provided args override defaults via modifyList()</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="new-functions-1-0-105-1">New Functions<a class="anchor" aria-label="anchor" href="#new-functions-1-0-105-1"></a></h4>
<ul><li>
<strong>margot_recompute_qini_aipw()</strong>: Recompute QINI curves using AIPW scores
<ul><li>Provides more robust estimates than IPW, especially for observational data</li>
<li>Supports regression forest method for estimating conditional means</li>
<li>Compatible with all existing QINI plotting and interpretation functions</li>
<li>Adds metadata tracking to indicate AIPW was used</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.102" id="id_2025-07-20-margot-10102">[2025-07-20] margot 1.0.102<a class="anchor" aria-label="anchor" href="#id_2025-07-20-margot-10102"></a></h2>
<div class="section level4">
<h4 id="policy-tree-enhancements-1-0-102">Policy Tree Enhancements<a class="anchor" aria-label="anchor" href="#policy-tree-enhancements-1-0-102"></a></h4>
<ul><li>
<strong>Decision tree title clarification</strong>:
<ul><li>Enhanced <code><a href="../reference/margot_plot_decision_tree.html">margot_plot_decision_tree()</a></code> to append “Outcome” to titles</li>
<li>Example: “Neuroticism” now displays as “Neuroticism Outcome”</li>
<li>Clarifies that the tree shows policy decisions for the outcome variable</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="label-improvements-1-0-102">Label Improvements<a class="anchor" aria-label="anchor" href="#label-improvements-1-0-102"></a></h4>
<ul><li>
<strong>Reversed outcome formatting</strong>:
<ul><li>Updated <code><a href="../reference/margot_reversed_labels.html">margot_reversed_labels()</a></code> to prepend rather than append “(reduced)”</li>
<li>Changed from “{outcome} (reduced)” to “(reduced) {outcome}”</li>
<li>Example: “Anxiety (reduced)” now displays as “(reduced) Anxiety”</li>
<li>Improves readability and understanding of flipped outcomes</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.101" id="id_2025-07-20-margot-10101">[2025-07-20] margot 1.0.101<a class="anchor" aria-label="anchor" href="#id_2025-07-20-margot-10101"></a></h2>
<ul><li>
<strong>new</strong>: margot_censor_lead() - allows for conditional censoring.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.100" id="id_2025-07-20-margot-10100">[2025-07-20] margot 1.0.100<a class="anchor" aria-label="anchor" href="#id_2025-07-20-margot-10100"></a></h2>
<div class="section level4">
<h4 id="policy-tree-enhancements-1-0-100">Policy Tree Enhancements<a class="anchor" aria-label="anchor" href="#policy-tree-enhancements-1-0-100"></a></h4>
<ul><li>
<strong>Policy tree interpretation improvements</strong>:
<ul><li>Modified <code><a href="../reference/margot_interpret_policy_batch.html">margot_interpret_policy_batch()</a></code> to remove redundant “Policy tree analysis results:” line</li>
<li>Added “at the end of study” to all Findings headings for temporal clarity</li>
<li>Added “baseline” prefix to all variable names in tree splits and leaf descriptions</li>
<li>Clarifies that splits are based on baseline characteristics, not outcomes</li>
<li>Simplified CATE reporting to just state values without subjective interpretation</li>
<li>More appropriate for standardized outcomes where negative values are common</li>
</ul></li>
<li>
<strong>Policy tree plotting updates</strong>:
<ul><li>Enhanced <code><a href="../reference/margot_plot_policy_tree.html">margot_plot_policy_tree()</a></code> to add “(baseline)” to all axis labels</li>
<li>Added “(baseline)” to plot titles and subtitles for clarity</li>
<li>Updated both depth-1 and depth-2 plots for consistency</li>
<li>Ensures users understand splits are made on baseline measures</li>
<li>Enhanced <code><a href="../reference/margot_plot_decision_tree.html">margot_plot_decision_tree()</a></code> to append “Outcome” to outcome titles</li>
<li>Example: “Neuroticism” now displays as “Neuroticism Outcome”</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="label-transformation-improvements-1-0-100">Label Transformation Improvements<a class="anchor" aria-label="anchor" href="#label-transformation-improvements-1-0-100"></a></h4>
<ul><li>Updated <code><a href="../reference/transform_var_name.html">transform_var_name()</a></code> helper function:
<ul><li>Now removes “_l” suffix from variable names</li>
<li>Properly capitalizes NZSEI and NZDEP acronyms</li>
<li>Example: “t0_nzsei_13_l” now displays as “NZSEI 13 (baseline)”</li>
</ul></li>
<li>Updated <code><a href="../reference/margot_reversed_labels.html">margot_reversed_labels()</a></code> formatting:
<ul><li>Changed from “{outcome} (reduced)” to “(reduced) {outcome}”</li>
<li>Example: “Anxiety (reduced)” now displays as “(reduced) Anxiety”</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.90" id="id_2025-07-19-margot-1090">[2025-07-19] margot 1.0.90<a class="anchor" aria-label="anchor" href="#id_2025-07-19-margot-1090"></a></h2>
<div class="section level4">
<h4 id="new-functions-1-0-90">new functions<a class="anchor" aria-label="anchor" href="#new-functions-1-0-90"></a></h4>
<ul><li>added <code><a href="../reference/margot_assess_overlap.html">margot_assess_overlap()</a></code> for evaluating propensity score overlap
<ul><li>shows common support regions for treatment validity</li>
<li>generates propensity score distribution plots by treatment group</li>
<li>uses <code>transform_label</code> helper for automatic label formatting</li>
<li>includes <code>text_summary</code> output suitable for dropping into documents</li>
<li>added <code>theme</code> parameter for ggplot2 theme customization</li>
<li>updated colors to package standards: treatment (#d8a739), control (<a href="https://github.com/go-bayes/margot/issues/4" class="external-link">#4</a>f88c6)</li>
<li>enhanced text summary with interpretation of overlap meaning</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="enhanced-qini-analysis-1-0-90">enhanced Qini analysis<a class="anchor" aria-label="anchor" href="#enhanced-qini-analysis-1-0-90"></a></h4>
<ul><li>
<strong>margot_interpret_qini()</strong> improvements:
<ul><li>new <code>spend_levels</code> parameter for custom spend level analysis</li>
<li>new <code>concise_summary</code> output groups outcomes by benefit/harm/no effect</li>
<li>added explanatory text about CATE and Qini curves (<code>include_intro</code> parameter)</li>
<li>auto detection of available spend levels with fallback handling</li>
<li>warnings when requested spend levels don’t exist in data</li>
</ul></li>
<li>
<strong>margot_plot_qini()</strong> enhancements:
<ul><li>new vertical dashed lines at spend levels with text annotations</li>
<li>replace multiple label parameters with single <code>label_mapping</code>
</li>
<li>added <code>theme</code> parameter matching margot_assess_overlap</li>
<li>spend level lines now labeled (e.g., “20% spend”, “50% spend”)</li>
<li>smart label positioning</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="api-consistency-1-0-90">API Consistency<a class="anchor" aria-label="anchor" href="#api-consistency-1-0-90"></a></h4>
<ul><li>renamed <code>spend</code> to <code>spend_levels</code> in <code><a href="../reference/margot_policy.html">margot_policy()</a></code> and <code><a href="../reference/margot_batch_policy.html">margot_batch_policy()</a></code>
<ul><li>Ccnsistent with <code><a href="../reference/margot_interpret_qini.html">margot_interpret_qini()</a></code> parameter naming</li>
<li>
<strong>breaking change</strong>: Update code using <code>spend</code> parameter</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-1-0-90">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-0-90"></a></h4>
<ul><li>fixed <code><a href="../reference/margot_policy.html">margot_policy()</a></code> and <code><a href="../reference/margot_batch_policy.html">margot_batch_policy()</a></code> to pass spend_levels to Qini plots
<ul><li>Qini plot vertical lines now match the spend levels used for calculations</li>
<li>previously always showed 20% and 50% regardless of parameter</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.80" id="id_2025-07-19-margot-1080">[2025-07-19] margot 1.0.80<a class="anchor" aria-label="anchor" href="#id_2025-07-19-margot-1080"></a></h2>
<ul><li>Added experimental support for conditional means computation via <code><a href="https://rdrr.io/pkg/policytree/man/conditional_means.html" class="external-link">policytree::conditional_means()</a></code>
</li>
<li>New <code>compute_conditional_means</code> parameter in <code><a href="../reference/margot_causal_forest.html">margot_causal_forest()</a></code> (default TRUE)</li>
<li>Conditional means are stored in model results when computed</li>
<li>Enhanced <code><a href="../reference/margot_interpret_policy_tree.html">margot_interpret_policy_tree()</a></code> to include conditional means interpretation
<ul><li>Shows expected outcomes under each treatment within policy tree leaves</li>
<li>Computes average treatment effects within each leaf</li>
<li>New <code>include_conditional_means</code> parameter (default TRUE)</li>
<li>Changed default output to clear, simple language (new <code>use_math_notation</code> parameter, default FALSE)</li>
<li>Added <code>output_format</code> parameter: “bullet” (default) or “prose” for flowing narrative text</li>
<li>Enhanced leaf output with sample sizes, percentages, and effect interpretations</li>
<li>Removed uncertainty quantification disclaimer</li>
</ul></li>
<li>
<code><a href="../reference/margot_flip_forests.html">margot_flip_forests()</a></code> completely rewritten to create new models with “_r” suffix
<ul><li>Properly recomputes all statistics (ATE, RATE, E-values, policy trees, QINI)</li>
<li>Flips conditional means columns for binary treatment</li>
<li>Removes original models and rebuilds combined_table</li>
</ul></li>
<li>New <code><a href="../reference/margot_recalculate_policy_trees.html">margot_recalculate_policy_trees()</a></code> function for customizing policy tree covariates
<ul><li>Multiple covariate modes: “original”, “custom”, “add”, “all”</li>
<li>Regex-based covariate exclusion support</li>
<li>Automatic covariate expansion for depth-2 trees</li>
<li>Parallel processing capability</li>
</ul></li>
<li>Updated <code><a href="../reference/margot_reversed_labels.html">margot_reversed_labels()</a></code> to handle new “_r” suffix convention
<ul><li>Creates new label entries with “_r” suffix by default</li>
<li>Maintains backward compatibility with <code>use_r_suffix = FALSE</code>
</li>
<li>Option to remove original entries with <code>remove_original = TRUE</code>
</li>
</ul></li>
<li>Removed <code>margot_flip_forests_dev()</code> as functionality now available in <code><a href="../reference/margot_recalculate_policy_trees.html">margot_recalculate_policy_trees()</a></code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.70" id="id_2025-07-17-margot-1070">[2025-07-17] margot 1.0.70<a class="anchor" aria-label="anchor" href="#id_2025-07-17-margot-1070"></a></h2>
<ul><li>
<code>margot_flip_forests_dev()</code> allows custom policy trees</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.65" id="id_2025-06-18-margot-1065">[2025-06-18] margot 1.0.65<a class="anchor" aria-label="anchor" href="#id_2025-06-18-margot-1065"></a></h2>
<ul><li>
<code><a href="../reference/margot_plot_policy_tree.html">margot_plot_policy_tree()</a></code> better graphs
<ul><li>Shape + Color coding - Points use both different shapes AND colors for better distinction</li>
<li>Clean masking - Shaded regions properly filter out points (no more overlapping mess)</li>
<li>Visible annotations - Split values appear as readable horizontal text near the dashed lines</li>
<li>Proper positioning - Annotations stay within plot boundaries</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.64" id="id_2025-06-18-margot-1064">[2025-06-18] margot 1.0.64<a class="anchor" aria-label="anchor" href="#id_2025-06-18-margot-1064"></a></h2>
<ul><li>
<code><a href="../reference/margot_plot_categorical.html">margot_plot_categorical()</a></code> handles binary data</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.63" id="id_2025-06-09-margot-1063">[2025-06-09] margot 1.0.63<a class="anchor" aria-label="anchor" href="#id_2025-06-09-margot-1063"></a></h2>
<ul><li>developing simulation within margot</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.62" id="id_2025-06-09-margot-1062">[2025-06-09] margot 1.0.62<a class="anchor" aria-label="anchor" href="#id_2025-06-09-margot-1062"></a></h2>
<div class="section level3">
<h3 id="new-1-0-62">New<a class="anchor" aria-label="anchor" href="#new-1-0-62"></a></h3>
<ul><li>Complete refactor of <code><a href="../reference/margot_simulate.html">margot_simulate()</a></code> with clearer data generation process</li>
<li>Added support for heterogeneous treatment effects in simulations</li>
<li>Enhanced vignette with comprehensive examples and power analysis templates</li>
</ul></div>
<div class="section level3">
<h3 id="improved-1-0-62">Improved<a class="anchor" aria-label="anchor" href="#improved-1-0-62"></a></h3>
<ul><li>Fixed syntax errors in vignettes (removed numeric underscores)</li>
<li>Improved test structure with cleaner helper functions</li>
<li>Better documentation of simulation parameters and options</li>
</ul></div>
<div class="section level3">
<h3 id="removed-1-0-62">Removed<a class="anchor" aria-label="anchor" href="#removed-1-0-62"></a></h3>
<ul><li>Removed <code>crayon</code> package dependency (down to 51 dependencies)</li>
<li>Removed <code>gt</code> and <code>gtsummary</code> package dependencies</li>
<li>Updated <code><a href="../reference/margot_summary_panel.html">margot_summary_panel()</a></code> to output markdown tables by default</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.61" id="id_2025-06-04-margot-1061">[2025-06-04] margot 1.0.61<a class="anchor" aria-label="anchor" href="#id_2025-06-04-margot-1061"></a></h2>
<ul><li>added simulation function <code>magot_simulate()</code> + units tests plus vignette</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.60" id="id_2025-06-04-margot-1060">[2025-06-04] margot 1.0.60<a class="anchor" aria-label="anchor" href="#id_2025-06-04-margot-1060"></a></h2>
<ul><li>fixed namespace issue/ margot_model_evalue now exported.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.59" id="id_2025-06-04-margot-1059">[2025-06-04] margot 1.0.59<a class="anchor" aria-label="anchor" href="#id_2025-06-04-margot-1059"></a></h2>
<ul><li>removing ‘export’ from purely internal functions/ tidying</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.58" id="id_2025-06-03-margot-1058">[2025-06-03] margot 1.0.58<a class="anchor" aria-label="anchor" href="#id_2025-06-03-margot-1058"></a></h2>
<ul><li>
<code><a href="../reference/margot_plot.html">margot_plot()</a></code> when data are corrected using e.g. bonferroni the table is also corrected – so the interpretation text and interpretation table match.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.57" id="id_2025-05-30-margot-1057">[2025-05-30] margot 1.0.57<a class="anchor" aria-label="anchor" href="#id_2025-05-30-margot-1057"></a></h2>
<ul><li>
<code><a href="../reference/margot_make_tables.html">margot_make_tables()</a></code> better handling in MS Word through flextable integration</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.56" id="id_2025-05-29-margot-1056">[2025-05-29] margot 1.0.56<a class="anchor" aria-label="anchor" href="#id_2025-05-29-margot-1056"></a></h2>
<ul><li>
<code><a href="../reference/margot_make_tables.html">margot_make_tables()</a></code> now renders variables with hyphens correctly.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.55" id="id_2025-05-28-margot-1055">[2025-05-28] margot 1.0.55<a class="anchor" aria-label="anchor" href="#id_2025-05-28-margot-1055"></a></h2>
<div class="section level3">
<h3 id="new-1-0-55">new<a class="anchor" aria-label="anchor" href="#new-1-0-55"></a></h3>
<ul><li>
<code><a href="../reference/margot_plot_tau.html">margot_plot_tau()</a></code> - totally ehanced so that (a) zero is always shown (b) colour matches sign</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.54" id="id_2025-05-26-margot-1054">[2025-05-26] margot 1.0.54<a class="anchor" aria-label="anchor" href="#id_2025-05-26-margot-1054"></a></h2>
<div class="section level3">
<h3 id="new-1-0-54">new<a class="anchor" aria-label="anchor" href="#new-1-0-54"></a></h3>
<ul><li>
<code><a href="../reference/margot_plot_tau.html">margot_plot_tau()</a></code> creates a faceted grid of histograms showing the distribution of tau hat (individual treatment effects) for multiple models. the range is standardised across all facets to facilitate comparison. Useful for qualitatively displaying heterogenity of causal effects. ## improved</li>
<li>
<code><a href="../reference/margot_plot.html">margot_plot()</a></code> three paragraph skips before the list</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.53" id="id_2025-05-25-margot-1053">[2025-05-25] margot 1.0.53<a class="anchor" aria-label="anchor" href="#id_2025-05-25-margot-1053"></a></h2>
<div class="section level3">
<h3 id="improved-1-0-53">improved<a class="anchor" aria-label="anchor" href="#improved-1-0-53"></a></h3>
<ul><li>
<code>margot_plot_policy_tree_depth2()</code>, <code><a href="../reference/margot_plot_policy_combo.html">margot_plot_policy_combo()</a></code> - plotting enhancements to 1L and 2L trees (note Rstudio will sometime make panels gray – just a quirk – not an issue for final graph project.)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.52" id="id_2025-05-19-margot-1052">[2025-05-19] margot 1.0.52<a class="anchor" aria-label="anchor" href="#id_2025-05-19-margot-1052"></a></h2>
<div class="section level3">
<h3 id="improved-1-0-52">improved<a class="anchor" aria-label="anchor" href="#improved-1-0-52"></a></h3>
<ul><li>
<code><a href="../reference/margot_interpret_rate.html">margot_interpret_rate()</a></code> user may specify flipped outcome labels</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.51" id="id_2025-05-18-margot-1051">[2025-05-18] margot 1.0.51<a class="anchor" aria-label="anchor" href="#id_2025-05-18-margot-1051"></a></h2>
<div class="section level3">
<h3 id="improved-1-0-51">improved<a class="anchor" aria-label="anchor" href="#improved-1-0-51"></a></h3>
<ul><li>
<code><a href="../reference/margot_interpret_qini.html">margot_interpret_qini()</a></code> improved to select reliable Qini models</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.50" id="id_2025-05-18-margot-1050">[2025-05-18] margot 1.0.50<a class="anchor" aria-label="anchor" href="#id_2025-05-18-margot-1050"></a></h2>
<ul><li>
<code><a href="../reference/margot_interpret_rate_comparison.html">margot_interpret_rate_comparison()</a></code> exported.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.49" id="id_2025-05-18-margot-1049">[2025-05-18] margot 1.0.49<a class="anchor" aria-label="anchor" href="#id_2025-05-18-margot-1049"></a></h2>
<div class="section level3">
<h3 id="fixed-1-0-49">fixed<a class="anchor" aria-label="anchor" href="#fixed-1-0-49"></a></h3>
<ul><li>
<code><a href="../reference/margot_interpret_rate.html">margot_interpret_rate()</a></code> - exported</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.48" id="id_2025-05-18-margot-1048">[2025-05-18] margot 1.0.48<a class="anchor" aria-label="anchor" href="#id_2025-05-18-margot-1048"></a></h2>
<div class="section level3">
<h3 id="new-1-0-48">new<a class="anchor" aria-label="anchor" href="#new-1-0-48"></a></h3>
<ul><li>
<code><a href="../reference/margot_reversed_labels.html">margot_reversed_labels()</a></code> – helper that gets display labels and marks reversed outcomes (for policy trees)</li>
<li>
<code><a href="../reference/margot_interpret_rate.html">margot_interpret_rate()</a></code> (<code><a href="../reference/margot_interpret_rate_comparison.html">margot_interpret_rate_comparison()</a></code>)- now lists models that are not ruled out by the qini and autoc rate analysis.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.47" id="id_2025-05-17-margot-1047">[2025-05-17] margot 1.0.47<a class="anchor" aria-label="anchor" href="#id_2025-05-17-margot-1047"></a></h2>
<div class="section level3">
<h3 id="improved-1-0-47">improved<a class="anchor" aria-label="anchor" href="#improved-1-0-47"></a></h3>
<ul><li>
<code><a href="../reference/margot_plot_create_options.html">margot_plot_create_options()</a></code> defaults for correcting for multiple comparisons, <code>adjust = "bonferroni"</code>, <code>alpha = 0.05</code>, #&lt;- new</li>
<li>
<code>margot_planned_subgroup_batch()</code> and <code><a href="../reference/margot_subset_batch.html">margot_subset_batch()</a></code> – numerous enhancements for clear reporting</li>
<li>
<code><a href="../reference/margot_compare_groups.html">margot_compare_groups()</a></code> enhanced reporting</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.46" id="id_2025-05-16-margot-1046">[2025-05-16] margot 1.0.46<a class="anchor" aria-label="anchor" href="#id_2025-05-16-margot-1046"></a></h2>
<div class="section level3">
<h3 id="improved-1-0-46">improved<a class="anchor" aria-label="anchor" href="#improved-1-0-46"></a></h3>
<ul><li>
<code><a href="../reference/margot_process_longitudinal_data_wider.html">margot_process_longitudinal_data_wider()</a></code> correctly creates “NA” value for censoring indicator when unit is lost to follow up. (under development, defaults to older version, which works fine)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.45" id="id_2025-05-15-margot-1045">[2025-05-15] margot 1.0.45<a class="anchor" aria-label="anchor" href="#id_2025-05-15-margot-1045"></a></h2>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.44" id="id_2025-05-15-margot-1044">[2025-05-15] margot 1.0.44<a class="anchor" aria-label="anchor" href="#id_2025-05-15-margot-1044"></a></h2>
<ul><li>
<code><a href="../reference/margot_plot.html">margot_plot()</a></code> only uses correction method if there is more than one outcome.</li>
<li>
<code><a href="../reference/margot_interpret_marginal.html">margot_interpret_marginal()</a></code> also updated.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.43" id="id_2025-05-15-margot-1043">[2025-05-15] margot 1.0.43<a class="anchor" aria-label="anchor" href="#id_2025-05-15-margot-1043"></a></h2>
<ul><li>
<code><a href="../reference/margot_compare_groups.html">margot_compare_groups()</a></code> computation for relative risk fixed.</li>
<li>
<code><a href="../reference/margot_plot.html">margot_plot()</a></code> no passes to <code>margot_correct_combined_tables()</code> automatically (no need for a separate call)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.42" id="id_2025-05-15-margot-1042">[2025-05-15] margot 1.0.42<a class="anchor" aria-label="anchor" href="#id_2025-05-15-margot-1042"></a></h2>
<div class="section level3">
<h3 id="changed-1-0-42">changed<a class="anchor" aria-label="anchor" href="#changed-1-0-42"></a></h3>
<ul><li>
<code>margot_process_longitudinal_data_wider</code> fixed error in warnings that was causing the function to fail when ordinal data are passed.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.41" id="id_2025-05-14-margot-1041">[2025-05-14] margot 1.0.41<a class="anchor" aria-label="anchor" href="#id_2025-05-14-margot-1041"></a></h2>
<div class="section level3">
<h3 id="new-1-0-41">New<a class="anchor" aria-label="anchor" href="#new-1-0-41"></a></h3>
<ul><li>
<code><a href="../reference/margot_correct_combined_table.html">margot_correct_combined_table()</a></code> does family–wise-error correction for multiple outcomes (ATE)</li>
<li>
<code>margot_add_policy_values()</code> - attach policy values to forest models (utility)</li>
<li>
<code>margot_collect_policy_values()</code> – gather policy values from forest models</li>
<li>
<code>margot_screen_models()</code> select models for policy-tree analysis</li>
<li>
<code>margot_summarise_all()</code> summarise (family-wise) corrected analysis for policy trees</li>
<li>`margot_adjust_policy_p() ## changed</li>
<li>
<code><a href="../reference/margot_rate.html">margot_rate()</a></code>, and <code>margot_rate_batch</code> have deterministic seeds for reproducible results</li>
<li>
<code>margot_plot</code> has two parmaters for <code>adjust</code> and <code>alpha</code> to describe whether family-wise adjustment has been made.</li>
<li>
<code>margot_bind_table</code> now has default e_val_bound_threshold = 1.1 (previously 1, which is arguably too liberal).</li>
<li>
<code>margot_adjust_policy_p()</code> - family wise corrections</li>
<li>
<code>margot_add_policy_values_batch()</code> - batch add policy values to models</li>
<li>
<code>margot_report_policy()</code> - succinct reporting of corrected policy values.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.40" id="id_2025-05-13-margot-1040">[2025-05-13] margot 1.0.40<a class="anchor" aria-label="anchor" href="#id_2025-05-13-margot-1040"></a></h2>
<ul><li>exported <code>margot_causal_forest_parallel()</code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.39" id="id_2025-05-13-margot-1039">[2025-05-13] margot 1.0.39<a class="anchor" aria-label="anchor" href="#id_2025-05-13-margot-1039"></a></h2>
<div class="section level3">
<h3 id="new-1-0-39">New<a class="anchor" aria-label="anchor" href="#new-1-0-39"></a></h3>
<ul><li>
<code>margot_causal_forest_paralle()</code> parallel implementation of <code>margot_causal_forest</code>.</li>
<li>
<code>margot_flip_forests_parallel()</code> parallel implementatino of <code><a href="../reference/margot_flip_forests.html">margot_flip_forests()</a></code>
</li>
</ul></div>
<div class="section level3">
<h3 id="improved-1-0-39">improved<a class="anchor" aria-label="anchor" href="#improved-1-0-39"></a></h3>
<ul><li>
<code><a href="../reference/margot_process_longitudinal_data_wider.html">margot_process_longitudinal_data_wider()</a></code> - removes otios warnings from fastDummies.</li>
<li>
<code><a href="../reference/margot_bind_tables.html">margot_bind_tables()</a></code> - now accepts a dataframe and will work with single outputs.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.38" id="id_2025-05-12-margot-1038">[2025-05-12] margot 1.0.38<a class="anchor" aria-label="anchor" href="#id_2025-05-12-margot-1038"></a></h2>
<div class="section level3">
<h3 id="improved-1-0-38">improved<a class="anchor" aria-label="anchor" href="#improved-1-0-38"></a></h3>
<ul><li>
<code><a href="../reference/margot_impute_carry_forward.html">margot_impute_carry_forward()</a></code>
<ul><li><p>eligibility now requires an observed value in the <strong>current</strong> or a following wave, rather than only in a future wave.<br></p></li>
<li><p>The baseline wave (<code>t0_</code>) is always checked and reported –even when no later waves exist—preventing silent skips.<br></p></li>
<li>
<p>Internal check now uses</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cols_check</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">col</span>, <span class="va">future_cols</span><span class="op">)</span></span>
<span><span class="va">ok</span>         <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">out</span><span class="op">[</span>, <span class="va">cols_check</span>, drop <span class="op">=</span> <span class="cn">FALSE</span><span class="op">]</span><span class="op">)</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span></span></code></pre></div>
<p>to align behaviour with the documentation.</p>
</li>
</ul></li>
<li>
<code>margot_wide_impute_machine()</code> print flags now set to true</li>
<li>
<code>margot_wide_impute_baseline()</code> soft deprecated</li>
<li>
<code>margot_wide()</code> soft deprecated</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.37" id="id_2025-05-07-margot-1037">[2025-05-07] margot 1.0.37<a class="anchor" aria-label="anchor" href="#id_2025-05-07-margot-1037"></a></h2>
<ul><li>
<code>margot_policy_tree_combo()</code> now exported</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.36" id="id_2025-05-07-margot-1036">[2025-05-07] margot 1.0.36<a class="anchor" aria-label="anchor" href="#id_2025-05-07-margot-1036"></a></h2>
<ul><li>
<code><a href="../reference/margot_policy_tree.html">margot_policy_tree()</a></code> level 2 fixed</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.35" id="id_2025-05-06-margot-1035">[2025-05-06] margot 1.0.35<a class="anchor" aria-label="anchor" href="#id_2025-05-06-margot-1035"></a></h2>
<div class="section level3">
<h3 id="improved-1-0-35">improved<a class="anchor" aria-label="anchor" href="#improved-1-0-35"></a></h3>
<ul><li>
<code><a href="../reference/here_save.html">here_save()</a></code> and <code><a href="../reference/here_save_qs.html">here_save_qs()</a></code> now correctly reports size of saved file.</li>
<li>tidying of roxygen2 code (‘mc_test’ removed and replaced with ‘result_object’)</li>
<li>
<code><a href="../reference/margot_plot_policy_tree.html">margot_plot_policy_tree()</a></code> nicer label placement.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.34" id="id_2025-05-04-margot-1034">[2025-05-04] margot 1.0.34<a class="anchor" aria-label="anchor" href="#id_2025-05-04-margot-1034"></a></h2>
<div class="section level3">
<h3 id="fixed-1-0-34">fixed<a class="anchor" aria-label="anchor" href="#fixed-1-0-34"></a></h3>
<ul><li>restored <code><a href="../reference/margot_interpret_qini.html">margot_interpret_qini()</a></code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.33" id="id_2025-05-04-margot-1033">[2025-05-04] margot 1.0.33<a class="anchor" aria-label="anchor" href="#id_2025-05-04-margot-1033"></a></h2>
<div class="section level3">
<h3 id="fixed-1-0-33">fixed<a class="anchor" aria-label="anchor" href="#fixed-1-0-33"></a></h3>
<ul><li>namespace issues for <code>margot_plot_policy()</code> and <code><a href="../reference/margot_rescue_qini.html">margot_rescue_qini()</a></code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.32" id="id_2025-05-04-margot-1032">[2025-05-04] margot 1.0.32<a class="anchor" aria-label="anchor" href="#id_2025-05-04-margot-1032"></a></h2>
<div class="section level3">
<h3 id="new-1-0-32">New<a class="anchor" aria-label="anchor" href="#new-1-0-32"></a></h3>
<ul><li>
<code>margot_planned_subgroup_batch()</code> overhauled to work with <code><a href="../reference/margot_plot.html">margot_plot()</a></code> updates.</li>
<li>restored decision tree plot results labelling</li>
<li>restored margot_interpret_marginal cutpoint results on datascale</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.31" id="id_2025-05-04-margot-1031">[2025-05-04] margot 1.0.31<a class="anchor" aria-label="anchor" href="#id_2025-05-04-margot-1031"></a></h2>
<div class="section level3">
<h3 id="new-1-0-31">New<a class="anchor" aria-label="anchor" href="#new-1-0-31"></a></h3>
<ul><li>
<code><a href="../reference/margot_get_labels.html">margot_get_labels()</a></code> utility function for fetching labels.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.30" id="id_2025-05-03-margot-1030">[2025-05-03] margot 1.0.30<a class="anchor" aria-label="anchor" href="#id_2025-05-03-margot-1030"></a></h2>
<ul><li>
<code><a href="../reference/margot_plot_decision_tree.html">margot_plot_decision_tree()</a></code>- colours robustly match decisions ‘control’, ‘treat’</li>
<li>internal helpers <code>transform_label()</code>, and <code><a href="../reference/transform_var_name.html">transform_var_name()</a></code> labelling handles SDO and RWA correctly, also <code>get_original_value_plot()</code> and <code>get_original_var_info()</code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.29" id="id_2025-05-03-margot-1029">[2025-05-03] margot 1.0.29<a class="anchor" aria-label="anchor" href="#id_2025-05-03-margot-1029"></a></h2>
<div class="section level3">
<h3 id="new-1-0-29">New<a class="anchor" aria-label="anchor" href="#new-1-0-29"></a></h3>
<ul><li>
<code><a href="../reference/margot_rate_batch.html">margot_rate_batch()</a></code> - Two allocation rules are available: <strong>“treat_best”</strong> (default) ─ administer treatment to those with the largest predicted benefits; <strong>“withhold_best”</strong> ─ <em>remove</em> treatment from that same subgroup, useful when the intervention harmful. The CATE vector is flipped (multiplied by −1) <em>after</em> model fitting and <em>before</em> calling <code><a href="https://rdrr.io/pkg/grf/man/rank_average_treatment_effect.html" class="external-link">grf::rank_average_treatment_effect()</a></code>. Outcome direction flips performed earlier by <code><a href="../reference/margot_flip_forests.html">margot_flip_forests()</a></code> are thus kept conceptually separate from the policy flip implemented here.</li>
<li>removed <code>add_resistance</code>
</li>
</ul></div>
<div class="section level3">
<h3 id="refactored-to-acceptl-depth-policy-trees-thumbsup-1-0-29">Refactored to accept 1L depth policy trees 👍<a class="anchor" aria-label="anchor" href="#refactored-to-acceptl-depth-policy-trees-thumbsup-1-0-29"></a></h3>
<ul><li>
<code><a href="../reference/margot_plot_policy_tree.html">margot_plot_policy_tree()</a></code> will plot a tree of depth = 1L.</li>
<li><code><a href="../reference/margot_recalculate_policy_trees.html">margot_recalculate_policy_trees()</a></code></li>
<li><code><a href="../reference/margot_flip_forests.html">margot_flip_forests()</a></code></li>
<li><code><a href="../reference/margot_interpret_policy_batch.html">margot_interpret_policy_batch()</a></code></li>
<li><code><a href="../reference/margot_interpret_policy_tree.html">margot_interpret_policy_tree()</a></code></li>
<li><code><a href="../reference/margot_interpret_rate.html">margot_interpret_rate()</a></code></li>
<li><code><a href="../reference/margot_plot_decision_tree.html">margot_plot_decision_tree()</a></code></li>
<li><code><a href="../reference/margot_plot_policy_combo.html">margot_plot_policy_combo()</a></code></li>
<li><code><a href="../reference/margot_policy.html">margot_policy()</a></code></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.28" id="id_2025-05-02-margot-1028">[2025-05-02] margot 1.0.28<a class="anchor" aria-label="anchor" href="#id_2025-05-02-margot-1028"></a></h2>
<div class="section level3">
<h3 id="new-1-0-28">New<a class="anchor" aria-label="anchor" href="#new-1-0-28"></a></h3>
<ul><li>
<code><a href="../reference/margot_rate.html">margot_rate()</a></code> now computes resistance to exposure (if requested) using <code>add_resistance</code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.27" id="id_2025-05-02-margot-1027">[2025-05-02] margot 1.0.27<a class="anchor" aria-label="anchor" href="#id_2025-05-02-margot-1027"></a></h2>
<div class="section level3">
<h3 id="new-1-0-27">New<a class="anchor" aria-label="anchor" href="#new-1-0-27"></a></h3>
<ul><li>
<code><a href="../reference/margot_flip_forests.html">margot_flip_forests()</a></code> automatic recomputing of the policy trees by default.</li>
<li>
<code><a href="../reference/margot_inspect_qini.html">margot_inspect_qini()</a></code> helper to evaluate extreme propensity scores from grf models.</li>
<li>
<code><a href="../reference/margot_rescue_qini.html">margot_rescue_qini()</a></code> (developing) - to recompute qini data for grf models when <code>qini_objects</code> are null / empty.</li>
</ul></div>
<div class="section level3">
<h3 id="improve-1-0-27">Improve<a class="anchor" aria-label="anchor" href="#improve-1-0-27"></a></h3>
<ul><li>
<code><a href="../reference/margot_bind_models.html">margot_bind_models()</a></code> – accommodates changes</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.26" id="id_2025-05-02-margot-1026">[2025-05-02] margot 1.0.26<a class="anchor" aria-label="anchor" href="#id_2025-05-02-margot-1026"></a></h2>
<div class="section level3">
<h3 id="improved-1-0-26">Improved<a class="anchor" aria-label="anchor" href="#improved-1-0-26"></a></h3>
<ul><li>
<code><a href="../reference/margot_wide_machine.html">margot_wide_machine()</a></code> now handles allows for <code>imputation_method</code> = “none”. new parameters <code>extend_baseline</code> effectively pivots all date from long to wide, and allows for time indexing of columns - userful for <code>grf</code> models.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.25" id="id_2025-05-02-margot-1025">[2025-05-02] margot 1.0.25<a class="anchor" aria-label="anchor" href="#id_2025-05-02-margot-1025"></a></h2>
<div class="section level3">
<h3 id="improved-1-0-25">Improved<a class="anchor" aria-label="anchor" href="#improved-1-0-25"></a></h3>
<ul><li>
<code><a href="../reference/margot_plot_shift.html">margot_plot_shift()</a></code> and <code>margot_plot_categorical</code> more tightly integrated. Both now plot the mean/median and flexibly plot sds. (Both are now in the <code>margot_plot_categorical.R</code> script).</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.24" id="id_2025-05-01-margot-1024">[2025-05-01] margot 1.0.24<a class="anchor" aria-label="anchor" href="#id_2025-05-01-margot-1024"></a></h2>
<div class="section level3">
<h3 id="improved-1-0-24">Improved<a class="anchor" aria-label="anchor" href="#improved-1-0-24"></a></h3>
<ul><li>
<code><a href="../reference/margot_bind_models.html">margot_bind_models()</a></code> works with <code>lmtp</code> batched outputs with more than two conditions.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.23" id="id_2025-04-30-margot-1023">[2025-04-30] margot 1.0.23<a class="anchor" aria-label="anchor" href="#id_2025-04-30-margot-1023"></a></h2>
<div class="section level3">
<h3 id="improved-1-0-23">Improved<a class="anchor" aria-label="anchor" href="#improved-1-0-23"></a></h3>
<ul><li>
<code><a href="../reference/margot_plot.html">margot_plot()</a></code> interpretation tracks user specified E-value</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.22" id="id_2025-04-30-margot-1022">[2025-04-30] margot 1.0.22<a class="anchor" aria-label="anchor" href="#id_2025-04-30-margot-1022"></a></h2>
<div class="section level3">
<h3 id="new-1-0-22">NEW<a class="anchor" aria-label="anchor" href="#new-1-0-22"></a></h3>
<ul><li>
<code><a href="../reference/margot_trim_sample_weights.html">margot_trim_sample_weights()</a></code>: standardises the (possibly trimmed) weights to have a mean of 1. Missing values are preserved.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.21" id="id_2025-04-29-margot-1021">[2025-04-29] margot 1.0.21<a class="anchor" aria-label="anchor" href="#id_2025-04-29-margot-1021"></a></h2>
<div class="section level3">
<h3 id="improved-1-0-21">Improved<a class="anchor" aria-label="anchor" href="#improved-1-0-21"></a></h3>
<ul><li>
<code><a href="../reference/margot_plot_rate_batch.html">margot_plot_rate_batch()</a></code> user can pass specific model names</li>
<li>
<code>margot_rate_comparision()</code> outputs correct model names (and never statistically significant negative results.)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.20" id="id_2025-04-28-margot-1020">[2025-04-28] margot 1.0.20<a class="anchor" aria-label="anchor" href="#id_2025-04-28-margot-1020"></a></h2>
<div class="section level3">
<h3 id="improved-1-0-20">Improved<a class="anchor" aria-label="anchor" href="#improved-1-0-20"></a></h3>
<ul><li>
<code><a href="../reference/margot_rate.html">margot_rate()</a></code>, <code>margot_rate_interpret()</code> now output model names for reliable result estimates.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.19" id="id_2025-04-21-margot-1019">[2025-04-21] margot 1.0.19<a class="anchor" aria-label="anchor" href="#id_2025-04-21-margot-1019"></a></h2>
<div class="section level3">
<h3 id="improved-1-0-19">Improved<a class="anchor" aria-label="anchor" href="#improved-1-0-19"></a></h3>
<ul><li>
<code>margot_bind_table()</code> flexibly modify column names</li>
<li>
<code><a href="../reference/margot_plot.html">margot_plot()</a></code> - added options to transform colname for the estimand to “ATE”, also the E_value colnames.</li>
<li>
<code><a href="../reference/margot_interpret_marginal.html">margot_interpret_marginal()</a></code> and <code><a href="../reference/group_tab.html">group_tab()</a></code> now return order consistent with the plot</li>
<li>
<code><a href="../reference/margot_interpret_rate.html">margot_interpret_rate()</a></code> better language, <code><a href="../reference/margot_interpret_rate_comparison.html">margot_interpret_rate_comparison()</a></code> now a helper (not exported).</li>
<li>
<code><a href="../reference/margot_plot_policy_tree.html">margot_plot_policy_tree()</a></code> and <code>margot_policy</code> now defaults to shading out regions where there is no interest.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.18" id="id_2025-04-21-margot-1018">[2025-04-21] margot 1.0.18<a class="anchor" aria-label="anchor" href="#id_2025-04-21-margot-1018"></a></h2>
<div class="section level3">
<h3 id="improved-1-0-18">Improved<a class="anchor" aria-label="anchor" href="#improved-1-0-18"></a></h3>
<ul><li>
<code><a href="../reference/margot_log_transform_vars.html">margot_log_transform_vars()</a></code> handles edge cases better by (1) requiring numeric input (2) requiring no NAs.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.18" id="id_2025-04-21-margot-1018-1">[2025-04-21] margot 1.0.18<a class="anchor" aria-label="anchor" href="#id_2025-04-21-margot-1018-1"></a></h2>
<div class="section level3">
<h3 id="improved-1-0-18-1">Improved<a class="anchor" aria-label="anchor" href="#improved-1-0-18-1"></a></h3>
<ul><li>
<code><a href="../reference/margot_plot_categorical.html">margot_plot_categorical()</a></code> robust to wider range of data values</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.17" id="id_2025-04-20-margot-1017">[2025-04-20] margot 1.0.17<a class="anchor" aria-label="anchor" href="#id_2025-04-20-margot-1017"></a></h2>
<div class="section level3">
<h3 id="improved-1-0-17">Improved<a class="anchor" aria-label="anchor" href="#improved-1-0-17"></a></h3>
<ul><li>
<code><a href="../reference/margot_lmtp_tab.html">margot_lmtp_tab()</a></code> – fixes breaking change introduced by <code>lmtp v1.50</code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.16" id="id_2025-04-20-margot-1016">[2025-04-20] margot 1.0.16<a class="anchor" aria-label="anchor" href="#id_2025-04-20-margot-1016"></a></h2>
<div class="section level3">
<h3 id="improved-1-0-16">Improved<a class="anchor" aria-label="anchor" href="#improved-1-0-16"></a></h3>
<ul><li>
<code><a href="../reference/margot_transition_table.html">margot_transition_table()</a></code> – allows filtering by observation/censoring variable, can be useful where data are entirely missing from certain waves.</li>
<li>
<code><a href="../reference/margot_bind_tables.html">margot_bind_tables()</a></code> – correct output retaining outcome names</li>
<li>
<code><a href="../reference/margot_impute_carry_forward.html">margot_impute_carry_forward()</a></code> – better error handling/ if observation is seen in a year, may impute forward.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.15" id="id_2025-04-19-margot-1015">[2025-04-19] margot 1.0.15<a class="anchor" aria-label="anchor" href="#id_2025-04-19-margot-1015"></a></h2>
<div class="section level3">
<h3 id="improved-1-0-15">Improved<a class="anchor" aria-label="anchor" href="#improved-1-0-15"></a></h3>
<ul><li>
<code><a href="../reference/margot_interpret_marginal.html">margot_interpret_marginal()</a></code> - clearer wording, outcomes listed rather than dull sentences.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.14" id="id_2025-04-19-margot-1014">[2025-04-19] margot 1.0.14<a class="anchor" aria-label="anchor" href="#id_2025-04-19-margot-1014"></a></h2>
<div class="section level3">
<h3 id="improved-1-0-14">Improved<a class="anchor" aria-label="anchor" href="#improved-1-0-14"></a></h3>
<ul><li>
<code><a href="../reference/margot_bind_tables.html">margot_bind_tables()</a></code> has additional parameter, <code>sort_E_val_bound = c("none", "asc", "desc")</code>, which allows users to order multiple tables by E_value thresholds.</li>
<li>fixed multiple functions to get assending order for <code><a href="../reference/margot_plot.html">margot_plot()</a></code>, these are <code><a href="../reference/margot_plot.html">margot_plot()</a></code>, <code><a href="../reference/group_tab.html">group_tab()</a></code>, <code><a href="../reference/margot_interpret_marginal.html">margot_interpret_marginal()</a></code> <code>transform_label()</code>, <code>transform_table_rownames()</code> – and removing stray <code>transform_label()</code> label functions from various functions. <code>transform_table_rownames()</code> now internal.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.13" id="id_2025-04-10-margot-1013">[2025-04-10] margot 1.0.13<a class="anchor" aria-label="anchor" href="#id_2025-04-10-margot-1013"></a></h2>
<div class="section level3">
<h3 id="improved-1-0-13">Improved<a class="anchor" aria-label="anchor" href="#improved-1-0-13"></a></h3>
<ul><li>
<code><a href="../reference/margot_bind_tables.html">margot_bind_tables()</a></code> streamlined the function by focusing on markdown and LaTeX outputs. reduced dependencies by eliminating reliance on dplyr, stringr, and cli packages. enhanced markdown output with bold variable names for better readability, improved LaTeX output with better multi-page support and alternating row colors, maintained all core functionality.</li>
<li>
<code><a href="../reference/margot_omnibus_hetero_test.html">margot_omnibus_hetero_test()</a></code> - considerably improved for clarity.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.12" id="id_2025-04-10-margot-1012">[2025-04-10] margot 1.0.12<a class="anchor" aria-label="anchor" href="#id_2025-04-10-margot-1012"></a></h2>
<div class="section level3">
<h3 id="improved-1-0-12">Improved<a class="anchor" aria-label="anchor" href="#improved-1-0-12"></a></h3>
<ul><li>
<code><a href="../reference/margot_bind_models.html">margot_bind_models()</a></code> now bolds reliable results in markdown</li>
<li>
<code><a href="../reference/margot_interpret_rate.html">margot_interpret_rate()</a></code> and <code><a href="../reference/margot_interpret_rate_comparison.html">margot_interpret_rate_comparison()</a></code> more accurate reporting and deal with edge cases (no RATE reliable) better.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.11" id="id_2025-04-09-margot-1011">[2025-04-09] margot 1.0.11<a class="anchor" aria-label="anchor" href="#id_2025-04-09-margot-1011"></a></h2>
<div class="section level3">
<h3 id="new-1-0-11">New<a class="anchor" aria-label="anchor" href="#new-1-0-11"></a></h3>
<ul><li>
<code><a href="../reference/margot_bind_models.html">margot_bind_models()</a></code> - bind model outputs (currently implemented for batch caual forest models)</li>
<li>
<code>margot_interprete_rate_comparison()</code> compare qini and auto RATE estimates, also called by <code><a href="../reference/margot_interpret_rate.html">margot_interpret_rate()</a></code>
</li>
<li>
<code><a href="../reference/margot_bind_tables.html">margot_bind_tables()</a></code> - better markdown</li>
</ul></div>
<div class="section level3">
<h3 id="improved-1-0-11">Improved<a class="anchor" aria-label="anchor" href="#improved-1-0-11"></a></h3>
<ul><li>
<code><a href="../reference/margot_interpret_rate.html">margot_interpret_rate()</a></code> combines qini and rate estimates.</li>
<li>
<code><a href="../reference/margot_rate.html">margot_rate()</a></code> output better worded, still reate “rate_result” for backward compatibility; table only highlight “significant” if RATE is positive.</li>
<li>
<code><a href="../reference/margot_interpret_qini.html">margot_interpret_qini()</a></code> - better outputs</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.10" id="id_2025-04-07-margot-1010">[2025-04-07] margot 1.0.10<a class="anchor" aria-label="anchor" href="#id_2025-04-07-margot-1010"></a></h2>
<div class="section level3">
<h3 id="improved-1-0-10">Improved<a class="anchor" aria-label="anchor" href="#improved-1-0-10"></a></h3>
<ul><li>
<code><a href="../reference/margot_causal_forest.html">margot_causal_forest()</a></code> consistent use of training proportion rather than mixing training/test.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.9" id="id_2025-04-07-margot-109">[2025-04-07] margot 1.0.9<a class="anchor" aria-label="anchor" href="#id_2025-04-07-margot-109"></a></h2>
<div class="section level3">
<h3 id="improved-1-0-9">Improved<a class="anchor" aria-label="anchor" href="#improved-1-0-9"></a></h3>
<ul><li>
<code><a href="../reference/margot_causal_forest.html">margot_causal_forest()</a></code> reverted –enhancements failing</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.8" id="id_2025-04-07-margot-108">[2025-04-07] margot 1.0.8<a class="anchor" aria-label="anchor" href="#id_2025-04-07-margot-108"></a></h2>
<div class="section level3">
<h3 id="improved-1-0-8">Improved<a class="anchor" aria-label="anchor" href="#improved-1-0-8"></a></h3>
<ul><li>
<code><a href="../reference/margot_causal_forest.html">margot_causal_forest()</a></code> added checks</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.7" id="id_2025-04-07-margot-107">[2025-04-07] margot 1.0.7<a class="anchor" aria-label="anchor" href="#id_2025-04-07-margot-107"></a></h2>
<div class="section level3">
<h3 id="improved-1-0-7">Improved<a class="anchor" aria-label="anchor" href="#improved-1-0-7"></a></h3>
<ul><li>
<code><a href="../reference/margot_plot_decision_tree.html">margot_plot_decision_tree()</a></code>, <code><a href="../reference/margot_plot_policy_tree.html">margot_plot_policy_tree()</a></code> – enhancements</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.7" id="id_2025-04-07-margot-107-1">[2025-04-07] margot 1.0.7<a class="anchor" aria-label="anchor" href="#id_2025-04-07-margot-107-1"></a></h2>
<div class="section level3">
<h3 id="improved-1-0-7-1">Improved<a class="anchor" aria-label="anchor" href="#improved-1-0-7-1"></a></h3>
<ul><li>
<code><a href="../reference/margot_interpret_qini.html">margot_interpret_qini()</a></code> language improved for clarity.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.6" id="id_2025-04-06-margot-106">[2025-04-06] margot 1.0.6<a class="anchor" aria-label="anchor" href="#id_2025-04-06-margot-106"></a></h2>
<div class="section level3">
<h3 id="improved-1-0-6">Improved<a class="anchor" aria-label="anchor" href="#improved-1-0-6"></a></h3>
<ul><li>
<code><a href="../reference/margot_interpret_policy_tree.html">margot_interpret_policy_tree()</a></code> language improved for clarity.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.5" id="id_2025-04-06-margot-105">[2025-04-06] margot 1.0.5<a class="anchor" aria-label="anchor" href="#id_2025-04-06-margot-105"></a></h2>
<div class="section level3">
<h3 id="improved-1-0-5">Improved<a class="anchor" aria-label="anchor" href="#improved-1-0-5"></a></h3>
<ul><li>
<code><a href="../reference/margot_interpret_qini.html">margot_interpret_qini()</a></code> and <code><a href="../reference/margot_interpret_rate.html">margot_interpret_rate()</a></code> and <code><a href="../reference/margot_interpret_qini.html">margot_interpret_qini()</a></code> more aggressive error handlings</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.4" id="id_2025-04-06-margot-104">[2025-04-06] margot 1.0.4<a class="anchor" aria-label="anchor" href="#id_2025-04-06-margot-104"></a></h2>
<div class="section level3">
<h3 id="improved-1-0-4">Improved<a class="anchor" aria-label="anchor" href="#improved-1-0-4"></a></h3>
<ul><li>
<code><a href="../reference/margot_interpret_qini.html">margot_interpret_qini()</a></code> and <code><a href="../reference/margot_interpret_rate.html">margot_interpret_rate()</a></code> even better with LaTeX.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.3" id="id_2025-04-06-margot-103">[2025-04-06] margot 1.0.3<a class="anchor" aria-label="anchor" href="#id_2025-04-06-margot-103"></a></h2>
<div class="section level3">
<h3 id="improved-1-0-3">Improved<a class="anchor" aria-label="anchor" href="#improved-1-0-3"></a></h3>
<ul><li>
<code><a href="../reference/margot_interpret_qini.html">margot_interpret_qini()</a></code> and <code><a href="../reference/margot_interpret_rate.html">margot_interpret_rate()</a></code> play better with LaTeX. Use “statistically reliable” in place of statistically significant.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.2" id="id_2025-04-06-margot-102">[2025-04-06] margot 1.0.2<a class="anchor" aria-label="anchor" href="#id_2025-04-06-margot-102"></a></h2>
<div class="section level3">
<h3 id="improved-1-0-2">Improved<a class="anchor" aria-label="anchor" href="#improved-1-0-2"></a></h3>
<ul><li>
<code><a href="../reference/margot_interpret_qini.html">margot_interpret_qini()</a></code> and <code><a href="../reference/margot_interpret_rate.html">margot_interpret_rate()</a></code> improved warnings for negative estimates</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.1" id="id_2025-04-06-margot-101">[2025-04-06] margot 1.0.1<a class="anchor" aria-label="anchor" href="#id_2025-04-06-margot-101"></a></h2>
<div class="section level3">
<h3 id="fixed-1-0-1">Fixed<a class="anchor" aria-label="anchor" href="#fixed-1-0-1"></a></h3>
<ul><li>restored accidentally deleted helpers</li>
<li>
<code><a href="../reference/margot_omnibus_hetero_test.html">margot_omnibus_hetero_test()</a></code> now works as it should</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.0" id="id_2025-04-05-margot-100">[2025-04-05] margot 1.0.0<a class="anchor" aria-label="anchor" href="#id_2025-04-05-margot-100"></a></h2>
<div class="section level3">
<h3 id="improved-1-0-0">Improved<a class="anchor" aria-label="anchor" href="#improved-1-0-0"></a></h3>
<ul><li>we are now using semantic versioning.</li>
<li>
<code>margot_omnibus_hetero_test</code> now has label mapping</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.3.3" id="id_2025-03-26-margot-0333">[2025-03-26] margot 0.3.3.3<a class="anchor" aria-label="anchor" href="#id_2025-03-26-margot-0333"></a></h2>
<div class="section level3">
<h3 id="improved-0-3-3-3">Improved<a class="anchor" aria-label="anchor" href="#improved-0-3-3-3"></a></h3>
<ul><li>
<code><a href="../reference/margot_censor.html">margot_censor()</a></code> - explicit call for ‘cli’ to avoid conflict with crayon</li>
<li>
<code><a href="../reference/create_ordered_variable.html">create_ordered_variable()</a></code> - removed crayon</li>
<li>
<code>margot_summary_tables_cat()</code> - deleted this experimental table</li>
<li>
<code><a href="../reference/margot_log_transform_vars.html">margot_log_transform_vars()</a></code> removed crayon, made all function calls explicit, removed <code>require</code> for packages.</li>
<li>
<code>margot_summary_tables()</code> - remove <code>require</code> and explicit function calls now.</li>
<li>
<code><a href="../reference/causal_contrast_engine.html">causal_contrast_engine()</a></code> - refactored - removes <code>require</code>
</li>
<li>
<code><a href="../reference/margot_wide_machine.html">margot_wide_machine()</a></code> - removes <code>require</code>
</li>
<li>
<code>margot_wide()</code> - removes <code>require</code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.3.2" id="id_2025-03-26-margot-0332">[2025-03-26] margot 0.3.3.2<a class="anchor" aria-label="anchor" href="#id_2025-03-26-margot-0332"></a></h2>
<div class="section level3">
<h3 id="improved-0-3-3-2">Improved<a class="anchor" aria-label="anchor" href="#improved-0-3-3-2"></a></h3>
<ul><li>
<code><a href="../reference/margot_causal_forest.html">margot_causal_forest()</a></code>: we now default to honest splitting for computing qini curves.</li>
<li>
<code><a href="../reference/margot_plot_categorical.html">margot_plot_categorical()</a></code>: fixed error in handling of binary variables.</li>
<li>
<code><a href="../reference/margot_bind_tables.html">margot_bind_tables()</a></code> - nicer printout, user can change column names.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.3.1" id="id_2025-03-22-margot-0331">[2025-03-22] margot 0.3.3.1<a class="anchor" aria-label="anchor" href="#id_2025-03-22-margot-0331"></a></h2>
<div class="section level3">
<h3 id="improved-0-3-3-1">Improved<a class="anchor" aria-label="anchor" href="#improved-0-3-3-1"></a></h3>
<ul><li>
<code><a href="../reference/margot_causal_forest.html">margot_causal_forest()</a></code>- correct calculation of qini ate (reverted to older function)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.3.0" id="id_2025-03-21-margot-0330">[2025-03-21] margot 0.3.3.0<a class="anchor" aria-label="anchor" href="#id_2025-03-21-margot-0330"></a></h2>
<div class="section level3">
<h3 id="improved-0-3-3-0">Improved<a class="anchor" aria-label="anchor" href="#improved-0-3-3-0"></a></h3>
<ul><li>
<code><a href="../reference/margot_causal_forest.html">margot_causal_forest()</a></code>- refactored to save qini_data and qini_objects for each model. (was not working before).</li>
<li>
<code>margot_multi_arm_causal_forest()</code> - refactored.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.2.9" id="id_2025-03-21-margot-0329">[2025-03-21] margot 0.3.2.9<a class="anchor" aria-label="anchor" href="#id_2025-03-21-margot-0329"></a></h2>
<div class="section level3">
<h3 id="improved-0-3-2-9">Improved<a class="anchor" aria-label="anchor" href="#improved-0-3-2-9"></a></h3>
<ul><li>
<code><a href="../reference/margot_causal_forest.html">margot_causal_forest()</a></code> now passes doubly robust scores to policy decision trees. We now compute policy trees using doubly robust (DR) scores from  rather than the previous IPW-based approach. DR scores combine outcome and propensity estimates, yielding improved statistical power and more efficient estimation of treatment effects. This change is backward compatible – no modifications to user code are required – and a note is printed during execution indicating that DR scores are used.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.2.8" id="id_2025-03-21-margot-0328">[2025-03-21] margot 0.3.2.8<a class="anchor" aria-label="anchor" href="#id_2025-03-21-margot-0328"></a></h2>
<div class="section level3">
<h3 id="improved-0-3-2-8">Improved<a class="anchor" aria-label="anchor" href="#improved-0-3-2-8"></a></h3>
<ul><li>
<code><a href="../reference/margot_interpret_qini.html">margot_interpret_qini()</a></code> prints out more economical explanation, only giving explanations for reliable results.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.2.7" id="id_2025-03-21-margot-0327">[2025-03-21] margot 0.3.2.7<a class="anchor" aria-label="anchor" href="#id_2025-03-21-margot-0327"></a></h2>
<div class="section level3">
<h3 id="new-0-3-2-7">New<a class="anchor" aria-label="anchor" href="#new-0-3-2-7"></a></h3>
<ul><li>margot_bind_tables(): binds results from multiple out-comewide studies into one table</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.2.6" id="id_2025-03-21-margot-0326">[2025-03-21] margot 0.3.2.6<a class="anchor" aria-label="anchor" href="#id_2025-03-21-margot-0326"></a></h2>
<div class="section level3">
<h3 id="new-0-3-2-6">New<a class="anchor" aria-label="anchor" href="#new-0-3-2-6"></a></h3>
<ul><li>
<code><a href="../reference/margot_planned_subgroups_batch.html">margot_planned_subgroups_batch()</a></code> – batch the batched analysis of planned subgroups analysis for causal forests (time-saver).</li>
<li>
<code>backtransform_log_z()</code> utility function to backtranform scores from logged values to original data values.</li>
</ul></div>
<div class="section level3">
<h3 id="improved-0-3-2-6">Improved<a class="anchor" aria-label="anchor" href="#improved-0-3-2-6"></a></h3>
<ul><li>
<code><a href="../reference/margot_subset_batch.html">margot_subset_batch()</a></code> now working as it should for complex conditions.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.2.5" id="id_2025-03-21-margot-0325">[2025-03-21] margot 0.3.2.5<a class="anchor" aria-label="anchor" href="#id_2025-03-21-margot-0325"></a></h2>
<div class="section level3">
<h3 id="improved-0-3-2-5">Improved<a class="anchor" aria-label="anchor" href="#improved-0-3-2-5"></a></h3>
<ul><li>
<code>margot_process_binary()</code>: if a variable already ends with “_binary” it is not processed again as binary. Also removed dependency on the <code>color</code> package.</li>
<li>
<code><a href="../reference/coloured_histogram_shift.html">coloured_histogram_shift()</a></code>… and other deprecated functions no longer exported or maintained.</li>
<li>
<code><a href="../reference/margot_plot_shift.html">margot_plot_shift()</a></code> - improved to print mean value and also to show +/- sd of distribution</li>
<li>
<code><a href="../reference/margot_causal_forest.html">margot_causal_forest()</a></code> - default parameter is 0.5 training.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.2.4" id="id_2025-03-19-margot-0324">[2025-03-19] margot 0.3.2.4<a class="anchor" aria-label="anchor" href="#id_2025-03-19-margot-0324"></a></h2>
<div class="section level3">
<h3 id="improved-0-3-2-4">Improved<a class="anchor" aria-label="anchor" href="#improved-0-3-2-4"></a></h3>
<ul><li>
<code><a href="../reference/margot_subset_batch.html">margot_subset_batch()</a></code> - now correctly passes all parameters required by <code><a href="../reference/margot_plot.html">margot_plot()</a></code>.</li>
<li>
<code><a href="../reference/margot_plot.html">margot_plot()</a></code> - default is now: interpret_all_E_gt1 = TRUE (all results with non-null Evalues reported).</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.2.3" id="id_2025-03-19-margot-0323">[2025-03-19] margot 0.3.2.3<a class="anchor" aria-label="anchor" href="#id_2025-03-19-margot-0323"></a></h2>
<div class="section level3">
<h3 id="improved-0-3-2-3">Improved<a class="anchor" aria-label="anchor" href="#improved-0-3-2-3"></a></h3>
<ul><li>
<code><a href="../reference/margot_subset_batch.html">margot_subset_batch()</a></code> - now exports plots and explanations for all submodels models (causal forests).</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.2.2" id="id_2025-03-19-margot-0322">[2025-03-19] margot 0.3.2.2<a class="anchor" aria-label="anchor" href="#id_2025-03-19-margot-0322"></a></h2>
<div class="section level3">
<h3 id="new-0-3-2-2">New<a class="anchor" aria-label="anchor" href="#new-0-3-2-2"></a></h3>
<ul><li>
<code><a href="../reference/margot_subset_batch.html">margot_subset_batch()</a></code> batch process subsetted models (causal forests)</li>
<li>
<code><a href="../reference/margot_plot_rate_batch.html">margot_plot_rate_batch()</a></code> replaces <code>margot_plot_batch_rate()</code>, which is deprecated.</li>
</ul></div>
<div class="section level3">
<h3 id="improved-0-3-2-2">Improved<a class="anchor" aria-label="anchor" href="#improved-0-3-2-2"></a></h3>
<ul><li>
<code><a href="../reference/margot_subset_model.html">margot_subset_model()</a></code> - streamlined</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.2.1" id="id_2025-03-19-margot-0321">[2025-03-19] margot 0.3.2.1<a class="anchor" aria-label="anchor" href="#id_2025-03-19-margot-0321"></a></h2>
<div class="section level3">
<h3 id="improved-0-3-2-1">Improved<a class="anchor" aria-label="anchor" href="#improved-0-3-2-1"></a></h3>
<ul><li>
<code><a href="../reference/group_tab.html">group_tab()</a></code> now only in helper functions</li>
<li>
<code><a href="../reference/margot_plot.html">margot_plot()</a></code> reverted to remove errors.</li>
<li>
<code><a href="../reference/margot_compare_groups.html">margot_compare_groups()</a></code>, <code><a href="../reference/margot_interpret_qini.html">margot_interpret_qini()</a></code> removed redundant function.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.2.0" id="id_2025-03-19-margot-0320">[2025-03-19] margot 0.3.2.0<a class="anchor" aria-label="anchor" href="#id_2025-03-19-margot-0320"></a></h2>
<div class="section level3">
<h3 id="new-0-3-2-0">New<a class="anchor" aria-label="anchor" href="#new-0-3-2-0"></a></h3>
<ul><li>added <code><a href="../reference/dot-strict_exposure_outcome_censoring.html">.strict_exposure_outcome_censoring()</a></code> helper function for strict dyadic censoring – now encompassed by <code><a href="../reference/margot_process_longitudinal_data_wider.html">margot_process_longitudinal_data_wider()</a></code> but added for backward compatibility.</li>
</ul></div>
<div class="section level3">
<h3 id="improved-0-3-2-0">Improved<a class="anchor" aria-label="anchor" href="#improved-0-3-2-0"></a></h3>
<ul><li>
<code><a href="../reference/coloured_histogram.html">coloured_histogram()</a></code>, <code><a href="../reference/margot_impute_carry_forward.html">margot_impute_carry_forward()</a></code>, <code><a href="../reference/margot_process_longitudinal_data_wider.html">margot_process_longitudinal_data_wider()</a></code>, <code><a href="../reference/margot_lmtp_evalue.html">margot_lmtp_evalue()</a></code>,<code>margot_plot_batch_rate()</code>, <code><a href="../reference/margot_plot_boxplot.html">margot_plot_boxplot()</a></code>, <code><a href="../reference/margot_plot_boxplot_covariate.html">margot_plot_boxplot_covariate()</a></code>, <code><a href="../reference/margot_plot_discontinuity.html">margot_plot_discontinuity()</a></code>, <code><a href="../reference/margot_plot_histogram.html">margot_plot_histogram()</a></code>, <code><a href="../reference/margot_plot_slope_covariate_batch.html">margot_plot_slope_covariate_batch()</a></code>, <code><a href="../reference/margot_plot_slope_covariate_combo.html">margot_plot_slope_covariate_combo()</a></code>, <code><a href="../reference/margot_plot_slope_covariate.html">margot_plot_slope_covariate()</a></code>, <code><a href="../reference/margot_plot_slope.html">margot_plot_slope()</a></code>, <code><a href="../reference/margot_plot_individual_responses.html">margot_plot_individual_responses()</a></code>, <code><a href="../reference/margot_wide_machine.html">margot_wide_machine()</a></code>, <code><a href="../reference/margot_process_longitudinal_data.html">margot_process_longitudinal_data()</a></code>, <code><a href="../reference/margot_count_dyads.html">margot_count_dyads()</a></code>, <code><a href="../reference/margot_count_ids.html">margot_count_ids()</a></code> correct package calls, explicit namespace calls.</li>
<li>
<code><a href="../reference/group_tab.html">group_tab()</a></code> function re-factored</li>
<li>
<code><a href="../reference/margot_interpret_marginal.html">margot_interpret_marginal()</a></code> corrected order &amp; small improvements</li>
<li>
<code><a href="../reference/margot_plot.html">margot_plot()</a></code> function refactored for clarity.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.1.9" id="id_2025-03-18-margot-0319">[2025-03-18] margot 0.3.1.9<a class="anchor" aria-label="anchor" href="#id_2025-03-18-margot-0319"></a></h2>
<div class="section level3">
<h3 id="improved-0-3-1-9">Improved<a class="anchor" aria-label="anchor" href="#improved-0-3-1-9"></a></h3>
<ul><li>
<code><a href="../reference/here_save.html">here_save()</a></code> removed the call to base R</li>
<li>
<code><a href="../reference/here_read.html">here_read()</a></code> removed the call to base R</li>
<li>
<code><a href="../reference/margot_combine_results.html">margot_combine_results()</a></code> - made helper function</li>
<li>
<code><a href="../reference/margot_summary_panel.html">margot_summary_panel()</a></code> - specified functions required</li>
<li>
<code><a href="../reference/margot_censor.html">margot_censor()</a></code> - specified functions required by data.table (#’ <a href="https://github.com/importFrom" class="external-link">@importFrom</a> data.table as.data.table copy set get uniqueN)</li>
<li>
<code><a href="../reference/read_multiple_images.html">read_multiple_images()</a></code> - made internal</li>
<li>
<code><a href="../reference/margot_wide_machine.html">margot_wide_machine()</a></code> - stated explicit functions in dependencies (removed zoo)</li>
<li>
<code><a href="../reference/margot_interpret_qini.html">margot_interpret_qini()</a></code> - improved for reporting</li>
<li>
<code><a href="../reference/margot_policy.html">margot_policy()</a></code> - now allows subsetting specific models</li>
<li>
<code><a href="../reference/margot_interpret_policy_batch.html">margot_interpret_policy_batch()</a></code> - now allows subsetting specific models</li>
<li>
<code><a href="../reference/margot_causal_forest.html">margot_causal_forest()</a></code> - added roxygen code (forgotten in last update).</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.1.8" id="id_2025-03-17-margot-0318">[2025-03-17] margot 0.3.1.8<a class="anchor" aria-label="anchor" href="#id_2025-03-17-margot-0318"></a></h2>
<div class="section level3">
<h3 id="new-0-3-1-8">New<a class="anchor" aria-label="anchor" href="#new-0-3-1-8"></a></h3>
<ul><li>
<code><a href="../reference/margot_rate.html">margot_rate()</a></code> produce a table for RATE estimates from batched processed causal forests.</li>
<li>
<code><a href="../reference/margot_flip_forests.html">margot_flip_forests()</a></code> when interpreting the effect as <em>benefitial</em> we may need to invert the outcomes. This function does this on already processed models.</li>
<li>
<code><a href="../reference/margot_interpret_rate.html">margot_interpret_rate()</a></code> provides automated reporting of rate outputs, allowing users to specify whether AUTOC or QINI was targeted.</li>
</ul></div>
<div class="section level3">
<h3 id="improved-0-3-1-8">Improved<a class="anchor" aria-label="anchor" href="#improved-0-3-1-8"></a></h3>
<ul><li>
<code><a href="../reference/margot_causal_forest.html">margot_causal_forest()</a></code> - now also computes RATE targeting the QINI when this is selected.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.1.7" id="id_2025-03-15-margot-0317">[2025-03-15] margot 0.3.1.7<a class="anchor" aria-label="anchor" href="#id_2025-03-15-margot-0317"></a></h2>
<div class="section level3">
<h3 id="improved-0-3-1-7">Improved<a class="anchor" aria-label="anchor" href="#improved-0-3-1-7"></a></h3>
<ul><li>
<code><a href="../reference/create_ordered_variable.html">create_ordered_variable()</a></code> appends “_binary” when binary variables are made</li>
<li>
<code><a href="../reference/margot_transition_table.html">margot_transition_table()</a></code> user may specify a table name.</li>
<li>
<code>margot_process_longitudinal_wider()</code> new parameters so that no continuous vars are scaled</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.1.6" id="id_2025-03-14-margot-0316">[2025-03-14] margot 0.3.1.6<a class="anchor" aria-label="anchor" href="#id_2025-03-14-margot-0316"></a></h2>
<div class="section level3">
<h3 id="improved-0-3-1-6">Improved<a class="anchor" aria-label="anchor" href="#improved-0-3-1-6"></a></h3>
<ul><li>
<code><a href="../reference/margot_interpret_marginal.html">margot_interpret_marginal()</a></code> made robust when when units are not given in the the input model.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.1.5" id="id_2025-03-13-margot-0315">[2025-03-13] margot 0.3.1.5<a class="anchor" aria-label="anchor" href="#id_2025-03-13-margot-0315"></a></h2>
<div class="section level3">
<h3 id="improved-0-3-1-5">Improved<a class="anchor" aria-label="anchor" href="#improved-0-3-1-5"></a></h3>
<ul><li>
<code><a href="../reference/margot_compute_gender_weights_by_wave.html">margot_compute_gender_weights_by_wave()</a></code> actually added (was not omitted by accident in 0.3.1.4).</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.1.4" id="id_2025-03-12-margot-0314">[2025-03-12] margot 0.3.1.4<a class="anchor" aria-label="anchor" href="#id_2025-03-12-margot-0314"></a></h2>
<div class="section level3">
<h3 id="improved-0-3-1-4">Improved<a class="anchor" aria-label="anchor" href="#improved-0-3-1-4"></a></h3>
<ul><li>
<code><a href="../reference/margot_compute_gender_weights_by_wave.html">margot_compute_gender_weights_by_wave()</a></code> correctly assigns weights to a target population, specified by the <code>target_wave</code> parameters.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.1.3" id="id_2025-03-12-margot-0313">[2025-03-12] margot 0.3.1.3<a class="anchor" aria-label="anchor" href="#id_2025-03-12-margot-0313"></a></h2>
<div class="section level3">
<h3 id="improved-0-3-1-3">Improved<a class="anchor" aria-label="anchor" href="#improved-0-3-1-3"></a></h3>
<ul><li>
<code><a href="../reference/margot_censor.html">margot_censor()</a></code>: censoring is conditional on both the condition and the wave: if <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtext mathvariant="monospace">𝚌𝚎𝚗𝚜𝚘𝚛_𝚏𝚒𝚗𝚊𝚕_𝚠𝚊𝚟𝚎 = 𝙵𝙰𝙻𝚂𝙴</mtext><annotation encoding="application/x-tex">\texttt{censor_final_wave = FALSE}</annotation></semantics></math> then rows in the final wave (determined as <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtext mathvariant="monospace">𝚖𝚊𝚡(𝚍𝚝[[𝚠𝚊𝚟𝚎_𝚟𝚊𝚛]])</mtext><annotation encoding="application/x-tex">\texttt{max(dt[[wave_var]])}</annotation></semantics></math>) are preserved (default behaviour). This allows for estimating a per-protocal effect where changing a censoring condition is part of the causal effect of the intervention for the population at baseline.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.1.2" id="id_2025-03-05-margot-0312">[2025-03-05] margot 0.3.1.2<a class="anchor" aria-label="anchor" href="#id_2025-03-05-margot-0312"></a></h2>
<div class="section level3">
<h3 id="new-0-3-1-2">New<a class="anchor" aria-label="anchor" href="#new-0-3-1-2"></a></h3>
<ul><li>
<code><a href="../reference/margot_transition_table.html">margot_transition_table()</a></code> replaces <code>transition_table()</code> and <code><a href="../reference/create_transition_matrix.html">create_transition_matrix()</a></code> and will print out state change for multiple waves. Useful for longitudinal modified treatment policies. (Old functions soft deprecated as helper functions.)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.1.1" id="id_2025-02-06-margot-0311">[2025-02-06] margot 0.3.1.1<a class="anchor" aria-label="anchor" href="#id_2025-02-06-margot-0311"></a></h2>
<div class="section level3">
<h3 id="improved-0-3-1-1">Improved<a class="anchor" aria-label="anchor" href="#improved-0-3-1-1"></a></h3>
<ul><li><p><code>margot_plot</code> and <code>margot_interpret_marginal</code> now all reporting of all coefficients if E-value is above 1 (instead of 1.1, the default threshold).</p></li>
<li><p><code>margot_censor</code> now deletes all values of a variable if the censoring indicator is set to 1 (or year_measured == 0), instead of merely changing the indicator. This can be helpful downstream of this function when handling dyadic data.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.1.0" id="id_2025-02-05-margot-0310">[2025-02-05] margot 0.3.1.0<a class="anchor" aria-label="anchor" href="#id_2025-02-05-margot-0310"></a></h2>
<div class="section level3">
<h3 id="improved-0-3-1-0">Improved<a class="anchor" aria-label="anchor" href="#improved-0-3-1-0"></a></h3>
<ul><li>
<code>margot_process_longitudinal_data_wider</code> can now handle dyadic data, so that if an agent’s partner is censored, then the agent is also censored.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.0.9" id="id_2025-01-18-margot-0309">[2025-01-18] margot 0.3.0.9<a class="anchor" aria-label="anchor" href="#id_2025-01-18-margot-0309"></a></h2>
<div class="section level3">
<h3 id="new-0-3-0-9">New<a class="anchor" aria-label="anchor" href="#new-0-3-0-9"></a></h3>
<ul><li>
<code>margot_combine_results</code> Takes multiple results tables from <code>margot_plot</code> objects and combines them into a single formatted table using <code>kableExtra</code>, with optional group headers for each section.</li>
</ul></div>
<div class="section level3">
<h3 id="improved-0-3-0-9">Improved<a class="anchor" aria-label="anchor" href="#improved-0-3-0-9"></a></h3>
<p>-<code>margot_plot</code> has option <code>standardize_label</code> which when to display Standardised, Standardized, or to remove it altogether (“none”). - For Risk Ratios (type = “RR”), the code always omits that word and shows the label as “Effect (Risk Ratio Scale)”. - For Risk Differences (type = “RD”), if standardize_label = “NZ” you get “Standardised Effect (Difference Scale)”; if standardize_label = “US” you get “Standardized Effect (Difference Scale)”; and if standardize_label = “none”, you get “Effect (Difference Scale)”.</p>
</div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.0.8" id="id_2025-01-17-margot-0308">[2025-01-17] margot 0.3.0.8<a class="anchor" aria-label="anchor" href="#id_2025-01-17-margot-0308"></a></h2>
<div class="section level3">
<h3 id="improved-0-3-0-8">Improved<a class="anchor" aria-label="anchor" href="#improved-0-3-0-8"></a></h3>
<ul><li>
<code>margot_plot</code> has a new parameter <code>include_coefficients</code> which if set to TRUE will remove the coefficients from a graph. This makes it easier to view the results.</li>
<li>minor fix to <code>margot_save_png</code> so that it defaults to the output folder set by <code>push_mods</code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.0.7" id="id_2024-12-29-margot-0307">[2024-12-29] margot 0.3.0.7<a class="anchor" aria-label="anchor" href="#id_2024-12-29-margot-0307"></a></h2>
<div class="section level3">
<h3 id="improved-0-3-0-7">Improved<a class="anchor" aria-label="anchor" href="#improved-0-3-0-7"></a></h3>
<p><code><a href="../reference/margot_impute_carry_forward.html">margot_impute_carry_forward()</a></code> - prevents imputing variables at end of study if they are included as time-varying variables.</p>
</div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.0.6" id="id_2024-12-29-margot-0306">[2024-12-29] margot 0.3.0.6<a class="anchor" aria-label="anchor" href="#id_2024-12-29-margot-0306"></a></h2>
<div class="section level3">
<h3 id="improved-0-3-0-6">Improved<a class="anchor" aria-label="anchor" href="#improved-0-3-0-6"></a></h3>
<p><code><a href="../reference/margot_impute_carry_forward.html">margot_impute_carry_forward()</a></code> is more efficient. Can carry forward more than one-wave if a future observation is made and ‘require_one_observed’ is set to “TRUE”.</p>
</div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.0.5" id="id_2024-12-08-margot-0305">[2024-12-08] margot 0.3.0.5<a class="anchor" aria-label="anchor" href="#id_2024-12-08-margot-0305"></a></h2>
<div class="section level3">
<h3 id="new-0-3-0-5">New<a class="anchor" aria-label="anchor" href="#new-0-3-0-5"></a></h3>
<ul><li>re-factored <code><a href="../reference/margot_make_tables.html">margot_make_tables()</a></code> to work with the table1 package, for extending flexibility of tables (esp with latex.)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.0.4" id="id_2024-12-07-margot-0304">[2024-12-07] margot 0.3.0.4<a class="anchor" aria-label="anchor" href="#id_2024-12-07-margot-0304"></a></h2>
<div class="section level3">
<h3 id="new-0-3-0-4">New<a class="anchor" aria-label="anchor" href="#new-0-3-0-4"></a></h3>
<ul><li>
<code><a href="../reference/margot_prop_missing.html">margot_prop_missing()</a></code> - utility function to get propoportion of missing data at baseline.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.0.3" id="id_2024-11-26-margot-0303">[2024-11-26] margot 0.3.0.3<a class="anchor" aria-label="anchor" href="#id_2024-11-26-margot-0303"></a></h2>
<div class="section level3">
<h3 id="fixed-0-3-0-3">Fixed<a class="anchor" aria-label="anchor" href="#fixed-0-3-0-3"></a></h3>
<ul><li>
<code><a href="../reference/margot_amelia_to_mice.html">margot_amelia_to_mice()</a></code> - fixed to be unconstrained to previous workflow.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.0.2" id="id_2024-11-11-margot-0302">[2024-11-11] margot 0.3.0.2<a class="anchor" aria-label="anchor" href="#id_2024-11-11-margot-0302"></a></h2>
<div class="section level3">
<h3 id="fixed-0-3-0-2">Fixed<a class="anchor" aria-label="anchor" href="#fixed-0-3-0-2"></a></h3>
<ul><li>
<code><a href="../reference/margot_plot.html">margot_plot()</a></code> label now reads “causal difference” rather than “causal risk difference”.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.0.1" id="id_2024-11-09-margot-0301">[2024-11-09] margot 0.3.0.1<a class="anchor" aria-label="anchor" href="#id_2024-11-09-margot-0301"></a></h2>
<div class="section level3">
<h3 id="new-0-3-0-1">New<a class="anchor" aria-label="anchor" href="#new-0-3-0-1"></a></h3>
<p>-<code>margot_impute_carry_forward</code> - carry forward last observed value (for handling ‘prodigal’ id’s that are lost and found).</p>
</div>
<div class="section level3">
<h3 id="fixed-0-3-0-1">Fixed<a class="anchor" aria-label="anchor" href="#fixed-0-3-0-1"></a></h3>
<ul><li>
<code>margot_wide_machine</code> - removed functionality now handled by <code>margot_impute_carry_forward</code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.0.0" id="id_2024-11-06-margot-0300">[2024-11-06] margot 0.3.0.0<a class="anchor" aria-label="anchor" href="#id_2024-11-06-margot-0300"></a></h2>
<div class="section level3">
<h3 id="new-0-3-0-0">New<a class="anchor" aria-label="anchor" href="#new-0-3-0-0"></a></h3>
<ul><li>
<code>margot_make_table()</code> - flexible longitudinal tables</li>
<li>
<code><a href="../reference/margot_amelia_to_mice.html">margot_amelia_to_mice()</a></code> - converts <code>Amelia</code> output to <code>mice</code> output.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.3.80" id="id_2024-10-30-margot-02380">[2024-10-30] margot 0.2.3.80<a class="anchor" aria-label="anchor" href="#id_2024-10-30-margot-02380"></a></h2>
<div class="section level3">
<h3 id="new-0-2-3-80">New<a class="anchor" aria-label="anchor" href="#new-0-2-3-80"></a></h3>
<ul><li>
<code><a href="../reference/margot_count_ids.html">margot_count_ids()</a></code> - track cumulative counts of participants, returning participants,</li>
</ul></div>
<div class="section level3">
<h3 id="improved-0-2-3-80">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-3-80"></a></h3>
<ul><li>
<code><a href="../reference/margot_count_dyads.html">margot_count_dyads()</a></code> - more informative information.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.3.70" id="id_2024-10-30-margot-02370">[2024-10-30] margot 0.2.3.70<a class="anchor" aria-label="anchor" href="#id_2024-10-30-margot-02370"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-3-70">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-3-70"></a></h3>
<ul><li>
<code>margot_interpret_marginal</code> clean appearance</li>
</ul></div>
<div class="section level3">
<h3 id="improved-0-2-3-70-1">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-3-70-1"></a></h3>
<ul><li>
<code>margot_plot</code> and <code>margot_interpret_marginal</code> functions overhauled again to focus on compact reporting.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.3.60" id="id_2024-10-29-margot-02360">[2024-10-29] margot 0.2.3.60<a class="anchor" aria-label="anchor" href="#id_2024-10-29-margot-02360"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-3-60">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-3-60"></a></h3>
<ul><li>
<code>margot_plot</code> and <code>margot_interpret_marginal</code> functions overhauled again to focus on compact reporting.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.3.50" id="id_2024-10-29-margot-02350">[2024-10-29] margot 0.2.3.50<a class="anchor" aria-label="anchor" href="#id_2024-10-29-margot-02350"></a></h2>
<ul><li>
<code>margot_plot</code> and <code>margot_interpret_marginal</code> functions</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.3.40" id="id_2024-10-29-margot-02340">[2024-10-29] margot 0.2.3.40<a class="anchor" aria-label="anchor" href="#id_2024-10-29-margot-02340"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-3-40">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-3-40"></a></h3>
<ul><li>
<code>margot_plot</code> to work with new <code>margot_interpret_marginal</code> function</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.3.16" id="id_2024-10-29-margot-02316">[2024-10-29] margot 0.2.3.16<a class="anchor" aria-label="anchor" href="#id_2024-10-29-margot-02316"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-3-16">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-3-16"></a></h3>
<ul><li>
<code>margot_interpret_marginal</code> removed cli formatting for compatibility with quarto documents</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.3.15" id="id_2024-10-28-margot-02315">[2024-10-28] margot 0.2.3.15<a class="anchor" aria-label="anchor" href="#id_2024-10-28-margot-02315"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-3-15">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-3-15"></a></h3>
<ul><li>
<code>margot_wide_impute</code> - small bug fix, na indicators not automatically created (functionality was lost at previous iteration)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.3.14" id="id_2024-10-27-margot-02314">[2024-10-27] margot 0.2.3.14<a class="anchor" aria-label="anchor" href="#id_2024-10-27-margot-02314"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-3-14">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-3-14"></a></h3>
<ul><li>
<code>margot_process_longitudinal_data_wider</code> - more robust.</li>
<li>
<code>margot_wide_impute</code> - small bug fix.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.3.13" id="id_2024-10-26-margot-02313">[2024-10-26] margot 0.2.3.13<a class="anchor" aria-label="anchor" href="#id_2024-10-26-margot-02313"></a></h2>
<div class="section level3">
<h3 id="new-0-2-3-13">New<a class="anchor" aria-label="anchor" href="#new-0-2-3-13"></a></h3>
<ul><li>
<code>margot_censor</code> create censoring indictors for correct handling of lost-to-follow-up when conditions are not met, includes a clustering variable (useful for romantic dyads)</li>
</ul></div>
<div class="section level3">
<h3 id="improved-0-2-3-13">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-3-13"></a></h3>
<ul><li>
<code>margot_wide_machine</code> now correctly handling multiple time points.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.3.12" id="id_2024-10-26-margot-02312">[2024-10-26] margot 0.2.3.12<a class="anchor" aria-label="anchor" href="#id_2024-10-26-margot-02312"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-3-12">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-3-12"></a></h3>
<ul><li>
<code><a href="../reference/margot_wide_machine.html">margot_wide_machine()</a></code> correctly handles NA values at baseline, and prints out message</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.3.11" id="id_2024-10-23-margot-02311">[2024-10-23] margot 0.2.3.11<a class="anchor" aria-label="anchor" href="#id_2024-10-23-margot-02311"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-3-11">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-3-11"></a></h3>
<ul><li>
<code><a href="../reference/margot_save_png.html">margot_save_png()</a></code> better defaults</li>
<li>
<code><a href="../reference/margot_plot.html">margot_plot()</a></code> enhancements, and improved documentation</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.3.10" id="id_2024-10-23-margot-02310">[2024-10-23] margot 0.2.3.10<a class="anchor" aria-label="anchor" href="#id_2024-10-23-margot-02310"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-3-10">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-3-10"></a></h3>
<ul><li>
<code><a href="../reference/margot_save_png.html">margot_save_png()</a></code> flexibly handles any plot object, not merely ggplot2 objects.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.3.9" id="id_2024-10-22-margot-0239">[2024-10-22] margot 0.2.3.9<a class="anchor" aria-label="anchor" href="#id_2024-10-22-margot-0239"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-3-9">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-3-9"></a></h3>
<ul><li>
<code><a href="../reference/margot_interpret_marginal.html">margot_interpret_marginal()</a></code> gives correct interpretation of ‘strong’ evidence using Evalues.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.3.8" id="id_2024-10-02-margot-0238">[2024-10-02] margot 0.2.3.8<a class="anchor" aria-label="anchor" href="#id_2024-10-02-margot-0238"></a></h2>
<ul><li>
<code><a href="../reference/margot_process_longitudinal_data_wider.html">margot_process_longitudinal_data_wider()</a></code> performance enhancement. Users can save the outcome variable even if previous exposures are missing. Useful for <code>lmtp</code> survival models</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.3.7" id="id_2024-09-27-margot-0237-">[2024-09-27] margot 0.2.3.7 :)!<a class="anchor" aria-label="anchor" href="#id_2024-09-27-margot-0237-"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-3-7">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-3-7"></a></h3>
<ul><li>
<code><a href="../reference/margot_process_longitudinal_data_wider.html">margot_process_longitudinal_data_wider()</a></code> performance enhancement</li>
<li>
<code><a href="../reference/margot_wide_machine.html">margot_wide_machine()</a></code> simplified. We now have a time-varying treatment workflow in place!</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.3.6" id="id_2024-09-27-margot-0236">[2024-09-27] margot 0.2.3.6<a class="anchor" aria-label="anchor" href="#id_2024-09-27-margot-0236"></a></h2>
<div class="section level3">
<h3 id="new-0-2-3-6">New<a class="anchor" aria-label="anchor" href="#new-0-2-3-6"></a></h3>
<ul><li><p><code><a href="../reference/margot_wide_machine.html">margot_wide_machine()</a></code> converts wide data to long data so using indicators for missing observations, which allows for non-parametric stacked learning in <code>lmtp</code> without multiple-imputation assumptions. Also handles more than three time-points. Optional <code>imputation_method = 'mice</code> allows users to impute, while also creating NA dummy variables for non-parametric learning.</p></li>
<li><p><code><a href="../reference/margot_process_longitudinal_data_wider.html">margot_process_longitudinal_data_wider()</a></code> extends flexibility of <code><a href="../reference/margot_process_longitudinal_data.html">margot_process_longitudinal_data()</a></code> to more than three waves, and allows users to specify variable names.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.3.5" id="id_2024-09-26-margot-0235">[2024-09-26] margot 0.2.3.5<a class="anchor" aria-label="anchor" href="#id_2024-09-26-margot-0235"></a></h2>
<div class="section level3">
<h3 id="new-0-2-3-5">New<a class="anchor" aria-label="anchor" href="#new-0-2-3-5"></a></h3>
<ul><li>helper function <code>back_transform_estimates()</code> is unique for the marginal plots and marginal interpretation, to avoid confusions with back-transforming helpers for split-points in policy trees.</li>
</ul></div>
<div class="section level3">
<h3 id="improved-0-2-3-5">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-3-5"></a></h3>
<ul><li>
<code><a href="../reference/margot_plot.html">margot_plot()</a></code>, and <code><a href="../reference/margot_interpret_marginal.html">margot_interpret_marginal()</a></code> produce interpretable results. Fixed issue with <code><a href="../reference/margot_plot.html">margot_plot()</a></code> when risk ratios are selected, where colours were not being plotted.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.3.4" id="id_2024-09-25-margot-0234">[2024-09-25] margot 0.2.3.4<a class="anchor" aria-label="anchor" href="#id_2024-09-25-margot-0234"></a></h2>
<div class="section level3">
<h3 id="new-0-2-3-4">New<a class="anchor" aria-label="anchor" href="#new-0-2-3-4"></a></h3>
<ul><li>
<code><a href="../reference/margot_plot_slope_covariate_combo.html">margot_plot_slope_covariate_combo()</a></code> - batch multiple <code><a href="../reference/margot_plot_slope_covariate.html">margot_plot_slope_covariate()</a></code> plots onto one graph using <code>patchwork</code>.</li>
</ul></div>
<div class="section level3">
<h3 id="improved-0-2-3-4">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-3-4"></a></h3>
<ul><li>
<code><a href="../reference/margot_plot_slope_covariate.html">margot_plot_slope_covariate()</a></code> improved for flexibility</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.3.3" id="id_2024-09-25-margot-0233">[2024-09-25] margot 0.2.3.3<a class="anchor" aria-label="anchor" href="#id_2024-09-25-margot-0233"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-3-3">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-3-3"></a></h3>
<ul><li>
<code><a href="../reference/margot_plot_histogram.html">margot_plot_histogram()</a></code> now take optional <code>vertical_facets</code> parameter, allowing for more interpretable time-series graphs.</li>
<li>placed all internal function under <code>helpers.R</code> in the R directory, to avoid clutter.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.3.2" id="id_2024-09-25-margot-0232">[2024-09-25] margot 0.2.3.2<a class="anchor" aria-label="anchor" href="#id_2024-09-25-margot-0232"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-3-2">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-3-2"></a></h3>
<ul><li>
<code><a href="../reference/margot_plot.html">margot_plot()</a></code> <code><a href="../reference/margot_interpret_marginal.html">margot_interpret_marginal()</a></code> now back transform values to data scale.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.3.1" id="id_2024-09-24-margot-0231">[2024-09-24] margot 0.2.3.1<a class="anchor" aria-label="anchor" href="#id_2024-09-24-margot-0231"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-3-1">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-3-1"></a></h3>
<ul><li>
<code><a href="../reference/margot_plot_policy_tree.html">margot_plot_policy_tree()</a></code>, <code><a href="../reference/margot_plot_decision_tree.html">margot_plot_decision_tree()</a></code>, <code><a href="../reference/margot_interpret_policy_tree.html">margot_interpret_policy_tree()</a></code>, <code>margot_plot_qini_tree()</code> use same global function names. New helper functions back-transform logged values (as well as z-transformed values) so that we get interpretations on the data scale for variables that have been log-transformed. This aids with interpretation.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.3.0" id="id_2024-09-20-margot-0230">[2024-09-20] margot 0.2.3.0<a class="anchor" aria-label="anchor" href="#id_2024-09-20-margot-0230"></a></h2>
<div class="section level3">
<h3 id="new-0-2-3-0">New<a class="anchor" aria-label="anchor" href="#new-0-2-3-0"></a></h3>
<ul><li>Refactored causal tree graphs and interpretations for flexible labelling and for providing both standardised results (where relevant), and results on the data scale. Makes the interpretation of policies easier to understand.</li>
<li>
<code><a href="../reference/margot_count_dyads.html">margot_count_dyads()</a></code> counts dyads in a longitudinal dataset.</li>
<li>
<code><a href="../reference/margot_summary_panel.html">margot_summary_panel()</a></code> summaries participants by panel wave; counts unique participants by wave, …</li>
<li>
<code><a href="../reference/margot_interpret_policy_batch.html">margot_interpret_policy_batch()</a></code> interprets the policytree results.</li>
</ul></div>
<div class="section level3">
<h3 id="improved-0-2-3-0">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-3-0"></a></h3>
<ul><li>
<code>margot_summary_tables()</code> - now pass multiple tables, better exposure plots.</li>
<li>
<code><a href="../reference/margot_interpret_policy_tree.html">margot_interpret_policy_tree()</a></code> - refactored: now returns results on data scale, better labels.</li>
<li>
<code><a href="../reference/margot_plot_policy_tree.html">margot_plot_policy_tree()</a></code> - refactored: now returns results on data scale, better labels.</li>
</ul></div>
<div class="section level3">
<h3 id="deprecated-0-2-3-0">Deprecated<a class="anchor" aria-label="anchor" href="#deprecated-0-2-3-0"></a></h3>
<ul><li><code><a href="../reference/margot_batch_policy.html">margot_batch_policy()</a></code></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.64" id="id_2024-09-19-margot-02164">[2024-09-19] margot 0.2.1.64<a class="anchor" aria-label="anchor" href="#id_2024-09-19-margot-02164"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-1-64">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-64"></a></h3>
<ul><li>
<code><a href="../reference/margot_plot.html">margot_plot()</a></code>,<code><a href="../reference/margot_interpret_marginal.html">margot_interpret_marginal()</a></code>, <code><a href="../reference/group_tab.html">group_tab()</a></code> overhauled so that now we get reporting back-tranformed from standardised effects to effects on the data scale – greatly benefiting interpretations.</li>
<li>
<code>transform_to_original_scale()</code> new helper introduced to back-transform estimates.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.63" id="id_2024-09-18-margot-02163">[2024-09-18] margot 0.2.1.63<a class="anchor" aria-label="anchor" href="#id_2024-09-18-margot-02163"></a></h2>
<ul><li>
<code><a href="../reference/margot_save_png.html">margot_save_png()</a></code> replaces <code>margot_plot_save_png()</code> for consistent function labelling, and to spare a burden of remembering function names.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.62" id="id_2024-09-17-margot-02162">[2024-09-17] margot 0.2.1.62<a class="anchor" aria-label="anchor" href="#id_2024-09-17-margot-02162"></a></h2>
<ul><li>
<code><a href="../reference/margot_compare_groups.html">margot_compare_groups()</a></code> added bold formatting to alert readers to reliable group differences</li>
</ul><div class="section level3">
<h3 id="improved-0-2-1-62">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-62"></a></h3>
<ul><li>
<code><a href="../reference/margot_interpret_qini.html">margot_interpret_qini()</a></code> - now formats tables to alert readers to where prioritising results are reliably <em>worse</em> or <strong>better</strong> than than none.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.60" id="id_2024-09-17-margot-02160">[2024-09-17] margot 0.2.1.60<a class="anchor" aria-label="anchor" href="#id_2024-09-17-margot-02160"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-1-60">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-60"></a></h3>
<ul><li>
<code><a href="../reference/margot_plot_create_options.html">margot_plot_create_options()</a></code> updated to work with improve plotting workflow</li>
</ul></div>
<div class="section level3">
<h3 id="deprecated-0-2-1-60">Deprecated<a class="anchor" aria-label="anchor" href="#deprecated-0-2-1-60"></a></h3>
<ul><li>
<code><a href="../reference/compute_difference.html">compute_difference()</a></code> now use the more general <code><a href="../reference/margot_compare_groups.html">margot_compare_groups()</a></code> workflow.</li>
</ul></div>
<div class="section level3">
<h3 id="removed-0-2-1-60">Removed<a class="anchor" aria-label="anchor" href="#removed-0-2-1-60"></a></h3>
<ul><li>Removed the following deprecated functions from vignettes, instead use <a href="https://github.com/go-bayes/boilerplate" class="external-link">https://github.com/go-bayes/boilerplate</a>
<ul><li><code>boilerplate_measures</code></li>
<li><code>boilerplate_methods_additional_sections</code></li>
<li><code>boilerplate_methods</code></li>
<li><code>boilerplate_methods_causal_interventions</code></li>
<li><code>boilerplate_methods_confounding_control</code></li>
<li><code>boilerplate_methods_eligibility_criteria</code></li>
<li><code>boilerplate_methods_identification_assumptions</code></li>
<li><code>boilerplate_methods_missing_data</code></li>
<li><code>boilerplate_methods_sample</code></li>
<li><code>boilerplate_methods_statistical_estimator</code></li>
<li><code>boilerplate_methods_target_population</code></li>
<li><code>boilerplate_methods_variables</code></li>
<li><code>create_ordered_variable_custom</code></li>
<li><code>margot_compute_gender_weights</code></li>
<li><code>margot_create_bibliography</code></li>
<li><code>margot_create_database</code></li>
<li><code>margot_grf_subset_table</code></li>
<li><code>margot_merge_databases</code></li>
<li><code>manager_boilerplate_measures</code></li>
<li><code><a href="../reference/compute_difference.html">compute_difference()</a></code></li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.59" id="id_2024-09-17-margot-02159">[2024-09-17] margot 0.2.1.59<a class="anchor" aria-label="anchor" href="#id_2024-09-17-margot-02159"></a></h2>
<div class="section level3">
<h3 id="new-0-2-1-59">New<a class="anchor" aria-label="anchor" href="#new-0-2-1-59"></a></h3>
<ul><li>
<code>margot_plot_save_png()</code> saves a margot_plot output graph as a png, user can change width, heigh, dpi, and specify a path…</li>
</ul></div>
<div class="section level3">
<h3 id="improved-0-2-1-59">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-59"></a></h3>
<ul><li>
<code><a href="../reference/margot_plot.html">margot_plot()</a></code> automatic saving of the output with optional timestamps</li>
<li>
<code><a href="../reference/margot_plot_multi_arm.html">margot_plot_multi_arm()</a></code> modified to work with new and improved <code><a href="../reference/margot_plot.html">margot_plot()</a></code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.58" id="id_2024-09-16-margot-02158">[2024-09-16] margot 0.2.1.58<a class="anchor" aria-label="anchor" href="#id_2024-09-16-margot-02158"></a></h2>
<div class="section level3">
<h3 id="new-0-2-1-58">New<a class="anchor" aria-label="anchor" href="#new-0-2-1-58"></a></h3>
<ul><li>
<code><a href="../reference/margot_compare_groups.html">margot_compare_groups()</a></code> compare treatment effects by groups and evaluate evidence for differences</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.57" id="id_2024-09-16-margot-02157">[2024-09-16] margot 0.2.1.57<a class="anchor" aria-label="anchor" href="#id_2024-09-16-margot-02157"></a></h2>
<div class="section level3">
<h3 id="new-0-2-1-57">New<a class="anchor" aria-label="anchor" href="#new-0-2-1-57"></a></h3>
<ul><li>
<code><a href="../reference/margot_plot_multi_arm.html">margot_plot_multi_arm()</a></code> wrapper for <code>margot_plot</code> that enables each plots/tables for multi arm treatment models</li>
</ul></div>
<div class="section level3">
<h3 id="improved-0-2-1-57">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-57"></a></h3>
<ul><li>reporting of multi arm treatment models in <code><a href="../reference/margot_plot_qini.html">margot_plot_qini()</a></code> is easier to follow.</li>
<li>
<code><a href="../reference/margot_lmtp.html">margot_lmtp()</a></code> now has automatic saving of models with optional prefix label and optional time-stamping. Also actually saves table when computing contrasts with only the null model.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.56" id="id_2024-09-16-margot-02156">[2024-09-16] margot 0.2.1.56<a class="anchor" aria-label="anchor" href="#id_2024-09-16-margot-02156"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-1-56">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-56"></a></h3>
<ul><li>
<code>margot_interpet_qini()</code> robust for both binary and multi-arm treatments.</li>
<li>
<code><a href="../reference/margot_plot_qini.html">margot_plot_qini()</a></code> correct label for binarhy treatments</li>
<li>
<code>margot_batch_policy_tree()</code> correctly modified function added: commputes multiple ‘spends’</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.55" id="id_2024-09-15-margot-02155">[2024-09-15] margot 0.2.1.55<a class="anchor" aria-label="anchor" href="#id_2024-09-15-margot-02155"></a></h2>
<div class="section level3">
<h3 id="new-0-2-1-55">New<a class="anchor" aria-label="anchor" href="#new-0-2-1-55"></a></h3>
<ul><li>
<code>margot_interpet_qini()</code> interprets results of the qini curves at pre-specified levels.</li>
</ul></div>
<div class="section level3">
<h3 id="improved-0-2-1-55">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-55"></a></h3>
<ul><li>
<code>extract_qini_data()</code> improved handling of <code>margot_multi_arm_causal_forest()</code>
</li>
<li>numerous plot functions enhanced to produce “NZ” instead of “Nz”</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.54" id="id_2024-09-12-margot-02154">[2024-09-12] margot 0.2.1.54<a class="anchor" aria-label="anchor" href="#id_2024-09-12-margot-02154"></a></h2>
<div class="section level3">
<h3 id="new-0-2-1-54">New<a class="anchor" aria-label="anchor" href="#new-0-2-1-54"></a></h3>
<ul><li>
<code><a href="../reference/margot_summary_cate_difference_gain.html">margot_summary_cate_difference_gain()</a></code> computes the difference in average gains and the integrated difference between a reference curve (maq object) and a comparison curve at a specified spend level – to see if there is support for CATEs</li>
</ul></div>
<div class="section level3">
<h3 id="improved-0-2-1-54">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-54"></a></h3>
<ul><li>
<code>compute_qini_curves_multi_arm()</code> - modified so that we can now get quantitative estimates for support for CATEs</li>
<li>
<code>margot_multi_arm_causal_forest()</code> - enhanced in several ways, for example to support <code>margot_summary_cate_differences()</code>
</li>
<li>
<code><a href="../reference/margot_causal_forest.html">margot_causal_forest()</a></code> - likewise enhanced.</li>
<li>
<code><a href="../reference/margot_batch_policy.html">margot_batch_policy()</a></code> now outputs `margot_summary_cate_difference_gain() models by default</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.53" id="id_2024-09-12-margot-02153">[2024-09-12] margot 0.2.1.53<a class="anchor" aria-label="anchor" href="#id_2024-09-12-margot-02153"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-1-53">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-53"></a></h3>
<ul><li>
<code>margot_summary_tables()</code> plots take upper case letters, remove ’_’</li>
<li>
<code><a href="../reference/margot_adjust_weights.html">margot_adjust_weights()</a></code> censored individuals are assigned zero weights, and only uncensored individuals contribute to the final analysis.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.52" id="id_2024-09-12-margot-02152">[2024-09-12] margot 0.2.1.52<a class="anchor" aria-label="anchor" href="#id_2024-09-12-margot-02152"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-1-52">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-52"></a></h3>
<ul><li>Fixed <code><a href="../reference/margot_plot_response_timeline.html">margot_plot_response_timeline()</a></code> to print dates, and to optionally save a ’png` image.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.51" id="id_2024-09-12-margot-02151">[2024-09-12] margot 0.2.1.51<a class="anchor" aria-label="anchor" href="#id_2024-09-12-margot-02151"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-1-51">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-51"></a></h3>
<ul><li>
<code><a href="../reference/margot_plot_discontinuity.html">margot_plot_discontinuity()</a></code> and <code><a href="../reference/margot_plot_slope.html">margot_plot_slope()</a></code> have correct end years (+1 final wave, as waves overlap years)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.50" id="id_2024-09-12-margot-02150">[2024-09-12] margot 0.2.1.50<a class="anchor" aria-label="anchor" href="#id_2024-09-12-margot-02150"></a></h2>
<div class="section level3">
<h3 id="new-0-2-1-50">New<a class="anchor" aria-label="anchor" href="#new-0-2-1-50"></a></h3>
<ul><li>
<code><a href="../reference/margot_plot_boxplot_covariate.html">margot_plot_boxplot_covariate()</a></code> descriptive trends by groups</li>
</ul></div>
<div class="section level3">
<h3 id="improved-0-2-1-50">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-50"></a></h3>
<ul><li>
<code><a href="../reference/margot_plot_slope_covariate.html">margot_plot_slope_covariate()</a></code> automatic title, save png, and optional time stamp</li>
<li>
<code><a href="../reference/margot_plot_individual_responses.html">margot_plot_individual_responses()</a></code> fixed so there is no missingness</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.49" id="id_2024-09-12-margot-02149">[2024-09-12] margot 0.2.1.49<a class="anchor" aria-label="anchor" href="#id_2024-09-12-margot-02149"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-1-49">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-49"></a></h3>
<ul><li>reverted <code>compute_qini_curves</code> (only works with binary vars)</li>
<li>
<code><a href="../reference/margot_causal_forest.html">margot_causal_forest()</a></code> now working again</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.48" id="id_2024-09-12-margot-02148">[2024-09-12] margot 0.2.1.48<a class="anchor" aria-label="anchor" href="#id_2024-09-12-margot-02148"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-1-48">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-48"></a></h3>
<ul><li><code>margot_multi_arm_causal_forest()</code></li>
<li>
<code>extract_qini_data()</code> improved to work with <code>margot_multi_arm_causal_forest()</code>
</li>
</ul></div>
<div class="section level3">
<h3 id="new-0-2-1-48">New<a class="anchor" aria-label="anchor" href="#new-0-2-1-48"></a></h3>
<ul><li>
<code>compute_qini_curves_multi_arm()</code> internal function to support <code>margot_multi_arm_causal_forest()</code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.47" id="id_2024-09-11-margot-02147">[2024-09-11] margot 0.2.1.47<a class="anchor" aria-label="anchor" href="#id_2024-09-11-margot-02147"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-1-47">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-47"></a></h3>
<ul><li>Coordinated the following functions to play well with <code>margot_multi_arm_causal_forest()</code>
</li>
<li><code><a href="../reference/margot_plot_qini.html">margot_plot_qini()</a></code></li>
<li>`extract_qini_data()``</li>
<li><code><a href="../reference/compute_qini_curves.html">compute_qini_curves()</a></code></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.46" id="id_2024-09-11-margot-02146">[2024-09-11] margot 0.2.1.46<a class="anchor" aria-label="anchor" href="#id_2024-09-11-margot-02146"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-1-46">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-46"></a></h3>
<ul><li>
<code>hear_read</code> does not require that an <code>.rds</code> file is passed.</li>
<li>
<code>extract_qini_data</code> made robust</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.45" id="id_2024-09-11-margot-02145">[2024-09-11] margot 0.2.1.45<a class="anchor" aria-label="anchor" href="#id_2024-09-11-margot-02145"></a></h2>
<div class="section level3">
<h3 id="new-0-2-1-45">New<a class="anchor" aria-label="anchor" href="#new-0-2-1-45"></a></h3>
<p><code>build_formula_str</code> - helper function now documented. Used in <code>causal_contrast_engine</code> and <code>causal_contraset_marginal</code></p>
</div>
<div class="section level3">
<h3 id="improved-0-2-1-45">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-45"></a></h3>
<ul><li>
<code>causal_contrast_marginal</code> and <code>causal_contrast_marginal</code> modified to accommated breaking change in <code>WeigthIt</code> package.</li>
<li>
<code>double_robust_marginal</code> checks if object is a winmids object.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.44" id="id_2024-09-02-margot-02144">[2024-09-02] margot 0.2.1.44<a class="anchor" aria-label="anchor" href="#id_2024-09-02-margot-02144"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-1-44">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-44"></a></h3>
<ul><li>
<code><a href="../reference/margot_plot_individual_responses.html">margot_plot_individual_responses()</a></code> now plotting all cases by default. Default <code>random_draws</code> of 100.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.43" id="id_2024-09-02-margot-02143">[2024-09-02] margot 0.2.1.43<a class="anchor" aria-label="anchor" href="#id_2024-09-02-margot-02143"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-1-43">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-43"></a></h3>
<ul><li>
<code><a href="../reference/margot_plot_histogram.html">margot_plot_histogram()</a></code>, optional coloured mean/sd lines.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.42" id="id_2024-09-02-margot-02142">[2024-09-02] margot 0.2.1.42<a class="anchor" aria-label="anchor" href="#id_2024-09-02-margot-02142"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-1-42">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-42"></a></h3>
<ul><li>
<code><a href="../reference/margot_plot_individual_responses.html">margot_plot_individual_responses()</a></code>. Now handles factors, and robust to missing waves.</li>
<li>
<code><a href="../reference/margot_plot_boxplot.html">margot_plot_boxplot()</a></code> different colours for boxplots if a single variable is passed over multiple waves.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.41" id="id_2024-09-02-margot-02141">[2024-09-02] margot 0.2.1.41<a class="anchor" aria-label="anchor" href="#id_2024-09-02-margot-02141"></a></h2>
<div class="section level3">
<h3 id="new-features-0-2-1-41">New features<a class="anchor" aria-label="anchor" href="#new-features-0-2-1-41"></a></h3>
<ul><li>
<code><a href="../reference/margot_plot_individual_responses.html">margot_plot_individual_responses()</a></code>. New function to allow random plotting of responses in a subset of the sample, useful for investigating individual trajectories of change.</li>
<li>
<code><a href="../reference/margot_plot_boxplot.html">margot_plot_boxplot()</a></code> Now user supplies <code>wave</code> values, allowing more flexible and precise plotting of intervals. Has optional prefixes. The coordinates of the graph may be optionally flipped.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.40" id="id_2024-09-02-margot-02140">[2024-09-02] margot 0.2.1.40<a class="anchor" aria-label="anchor" href="#id_2024-09-02-margot-02140"></a></h2>
<div class="section level3">
<h3 id="new-features-0-2-1-40">New features<a class="anchor" aria-label="anchor" href="#new-features-0-2-1-40"></a></h3>
<ul><li>
<code><a href="../reference/margot_plot_categorical.html">margot_plot_categorical()</a></code> for visualising categorical data distributions.</li>
<li>
<code><a href="../reference/margot_plot_shift.html">margot_plot_shift()</a></code> for visualising shifts in data distributions with highlighted ranges.</li>
</ul></div>
<div class="section level3">
<h3 id="deprecations-0-2-1-40">Deprecations<a class="anchor" aria-label="anchor" href="#deprecations-0-2-1-40"></a></h3>
<p>The following functions have been deprecated in favor of the new functions:</p>
<ul><li>
<code><a href="../reference/margot_plot_hist.html">margot_plot_hist()</a></code> is deprecated. Use <code><a href="../reference/margot_plot_histogram.html">margot_plot_histogram()</a></code> instead.</li>
<li>
<code><a href="../reference/coloured_histogram.html">coloured_histogram()</a></code> is deprecated. Use <code><a href="../reference/margot_plot_histogram.html">margot_plot_histogram()</a></code> instead.</li>
<li>
<code><a href="../reference/coloured_histogram_shift.html">coloured_histogram_shift()</a></code> is deprecated. Use <code><a href="../reference/margot_plot_shift.html">margot_plot_shift()</a></code> instead. <code><a href="../reference/coloured_histogram_quantiles.html">coloured_histogram_quantiles()</a></code> is deprecated. Use <code><a href="../reference/margot_plot_categorical.html">margot_plot_categorical()</a></code> instead.</li>
</ul><p>These deprecated functions will continue to work but will issue warnings. They will be removed in a future version of the package.</p>
</div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.39" id="id_2024-09-02-margot-02139">[2024-09-02] margot 0.2.1.39<a class="anchor" aria-label="anchor" href="#id_2024-09-02-margot-02139"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-1-39">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-39"></a></h3>
<ul><li>
<code><a href="../reference/margot_plot_slope.html">margot_plot_slope()</a></code> allows faceting</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.38" id="id_2024-09-02-margot-02138">[2024-09-02] margot 0.2.1.38<a class="anchor" aria-label="anchor" href="#id_2024-09-02-margot-02138"></a></h2>
<div class="section level3">
<h3 id="new-0-2-1-38">New<a class="anchor" aria-label="anchor" href="#new-0-2-1-38"></a></h3>
<ul><li>
<code><a href="../reference/margot_plot_histogram.html">margot_plot_histogram()</a></code> new histogram that’s more informative and more robust than previous attempts. Can be used for multiple variables and multiple waves.</li>
</ul></div>
<div class="section level3">
<h3 id="improved-0-2-1-38">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-38"></a></h3>
<ul><li>
<code><a href="../reference/margot_plot_boxplot.html">margot_plot_boxplot()</a></code> made robust to single outcome in single wave.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.37" id="id_2024-09-02-margot-02137">[2024-09-02] margot 0.2.1.37<a class="anchor" aria-label="anchor" href="#id_2024-09-02-margot-02137"></a></h2>
<ul><li>
<code><a href="../reference/margot_plot_discontinuity.html">margot_plot_discontinuity()</a></code>, <code><a href="../reference/margot_plot_slope.html">margot_plot_slope()</a></code>, <code><a href="../reference/margot_plot_slope_covariate.html">margot_plot_slope_covariate()</a></code> automatically print number of unique participants and unique number of observations in the title, if no title is passed.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.36" id="id_2024-09-02-margot-02136">[2024-09-02] margot 0.2.1.36<a class="anchor" aria-label="anchor" href="#id_2024-09-02-margot-02136"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-1-36">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-36"></a></h3>
<ul><li>
<code><a href="../reference/margot_plot_discontinuity.html">margot_plot_discontinuity()</a></code> now being read to namespace.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.35" id="id_2024-09-01-margot-02135">[2024-09-01] margot 0.2.1.35<a class="anchor" aria-label="anchor" href="#id_2024-09-01-margot-02135"></a></h2>
<div class="section level3">
<h3 id="new-0-2-1-35">New<a class="anchor" aria-label="anchor" href="#new-0-2-1-35"></a></h3>
<ul><li>
<code><a href="../reference/margot_plot_slope.html">margot_plot_slope()</a></code> descriptive trends in continuous variables over time; user may pass historical events which are denoted by dashed vertical lines on the plot.</li>
<li>
<code><a href="../reference/margot_plot_slope_covariate.html">margot_plot_slope_covariate()</a></code> descriptive trends by covariates over time.</li>
<li>
<code>margot_plot_bloxplot()</code> descriptive trends using boxplots + facets.</li>
<li>
<code><a href="../reference/prepare_panel_data.html">prepare_panel_data()</a></code>helper function to get panel data into shape for plotting response timelines for repeated measures studies.</li>
<li>
<code>margot_response_timeline()</code> plot histogram of response timelines for repeated measures studies.</li>
</ul></div>
<div class="section level3">
<h3 id="improved-0-2-1-35">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-35"></a></h3>
<ul><li>
<code><a href="../reference/here_save_qs.html">here_save_qs()</a></code> and <code><a href="../reference/here_read_qs.html">here_read_qs()</a></code> report where and object was saved and how large it is.</li>
<li>
<code><a href="../reference/here_save.html">here_save()</a></code>and <code><a href="../reference/here_read.html">here_read()</a></code>, ditto, and also ask users to specify a directory path, defaulting to <code>push_mods</code> if none is supplied</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.34" id="id_2024-09-01-margot-02134">[2024-09-01] margot 0.2.1.34<a class="anchor" aria-label="anchor" href="#id_2024-09-01-margot-02134"></a></h2>
<div class="section level3">
<h3 id="new-0-2-1-34">New<a class="anchor" aria-label="anchor" href="#new-0-2-1-34"></a></h3>
<ul><li>
<code><a href="../reference/margot_plot_discontinuity.html">margot_plot_discontinuity()</a></code> create longitudinal graphs</li>
</ul></div>
<div class="section level3">
<h3 id="improved-0-2-1-34">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-34"></a></h3>
<ul><li>
<code><a href="../reference/margot_size.html">margot_size()</a></code> has cli alerts</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.33" id="id_2024-08-30-margot-02133">[2024-08-30] margot 0.2.1.33<a class="anchor" aria-label="anchor" href="#id_2024-08-30-margot-02133"></a></h2>
<div class="section level3">
<h3 id="new-0-2-1-33">New<a class="anchor" aria-label="anchor" href="#new-0-2-1-33"></a></h3>
<ul><li>
<code><a href="../reference/read_multiple_images.html">read_multiple_images()</a></code> utility function to read batchs of images, for presentations, articles etc.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.32" id="id_2024-08-30-margot-02132">[2024-08-30] margot 0.2.1.32<a class="anchor" aria-label="anchor" href="#id_2024-08-30-margot-02132"></a></h2>
<div class="section level3">
<h3 id="new-0-2-1-32">New<a class="anchor" aria-label="anchor" href="#new-0-2-1-32"></a></h3>
<ul><li>
<code>margot_plot_batch_rate</code>, creates and save rate plots from multiple causal forests outputs..</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.31" id="id_2024-08-29-margot-02131">[2024-08-29] margot 0.2.1.31<a class="anchor" aria-label="anchor" href="#id_2024-08-29-margot-02131"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-1-31">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-31"></a></h3>
<ul><li>
<code><a href="../reference/margot_batch_policy.html">margot_batch_policy()</a></code> allows user to save plots automatically, with different sizes and resolutions.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.30" id="id_2024-08-29-margot-02130">[2024-08-29] margot 0.2.1.30<a class="anchor" aria-label="anchor" href="#id_2024-08-29-margot-02130"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-1-30">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-30"></a></h3>
<ul><li>
<code><a href="../reference/margot_subset_model.html">margot_subset_model()</a></code> returns subset of results the user requests.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.29" id="id_2024-08-29-margot-02129">[2024-08-29] margot 0.2.1.29<a class="anchor" aria-label="anchor" href="#id_2024-08-29-margot-02129"></a></h2>
<div class="section level3">
<h3 id="new-0-2-1-29">New<a class="anchor" aria-label="anchor" href="#new-0-2-1-29"></a></h3>
<ul><li>
<code><a href="../reference/margot_subset_model.html">margot_subset_model()</a></code> subsets causal forests for both categorial and binary exposures.</li>
</ul></div>
<div class="section level3">
<h3 id="deprecated-0-2-1-29">Deprecated<a class="anchor" aria-label="anchor" href="#deprecated-0-2-1-29"></a></h3>
<ul><li>
<code>margot_grf_subset_table()</code>, functions replaced by <code><a href="../reference/margot_subset_model.html">margot_subset_model()</a></code>, use this new function instead.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.28" id="id_2024-08-28-margot-02128">[2024-08-28] margot 0.2.1.28<a class="anchor" aria-label="anchor" href="#id_2024-08-28-margot-02128"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-1-28">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-28"></a></h3>
<ul><li>
<code>margot_qini_plot()</code> better labels for binary models.</li>
</ul></div>
<div class="section level3">
<h3 id="new-0-2-1-28">New<a class="anchor" aria-label="anchor" href="#new-0-2-1-28"></a></h3>
<ul><li>
<code><a href="../reference/margot_plot_exposure.html">margot_plot_exposure()</a></code> - utility to plot change in the exposure variable from baseline.</li>
<li>
<code><a href="../reference/margot_size.html">margot_size()</a></code> - utility to check size of object</li>
</ul></div>
<div class="section level3">
<h3 id="improved-0-2-1-28-1">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-28-1"></a></h3>
<ul><li>
<code>margot_summary_table()</code> - now provides optional graphs to show densities/distributions of the exposure and outcomes at baseline, exposure waves, and end of study.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.26" id="id_2024-08-27-margot-02126">[2024-08-27] margot 0.2.1.26<a class="anchor" aria-label="anchor" href="#id_2024-08-27-margot-02126"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-1-26">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-26"></a></h3>
<ul><li>
<code><a href="../reference/margot_plot.html">margot_plot()</a></code> - consistent names for results table if these are modified using the new <code>label_mapping</code> option.</li>
<li>
<code><a href="../reference/here_save_qs.html">here_save_qs()</a></code> and <code><a href="../reference/here_read_qs.html">here_read_qs()</a></code> minor tweaks.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.25" id="id_2024-08-27-margot-02125">[2024-08-27] margot 0.2.1.25<a class="anchor" aria-label="anchor" href="#id_2024-08-27-margot-02125"></a></h2>
<ul><li>
<code><a href="../reference/margot_plot.html">margot_plot()</a></code> and <code><a href="../reference/margot_plot_create_options.html">margot_plot_create_options()</a></code> now allow custom labels, which flexibly combine with defaults.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.24" id="id_2024-08-27-margot-02124">[2024-08-27] margot 0.2.1.24<a class="anchor" aria-label="anchor" href="#id_2024-08-27-margot-02124"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-1-24">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-24"></a></h3>
<ul><li>robust reporting/error handling in <code><a href="../reference/margot_causal_forest.html">margot_causal_forest()</a></code>, and its helper funciton <code><a href="../reference/compute_qini_curves.html">compute_qini_curves()</a></code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.23" id="id_2024-08-26-margot-02123">[2024-08-26] margot 0.2.1.23<a class="anchor" aria-label="anchor" href="#id_2024-08-26-margot-02123"></a></h2>
<div class="section level3">
<h3 id="deprecations-0-2-1-23">Deprecations<a class="anchor" aria-label="anchor" href="#deprecations-0-2-1-23"></a></h3>
<ul><li><p><code>boilerplate_measures()</code> is deprecated. Use <code>boilerplate::boilerplate_report_variables()</code> instead.</p></li>
<li><p><code>boilerplate_methods_causal_interventions()</code> is deprecated. Use <code>boilerplate::boilerplate_report_causal_interventions()</code> instead.</p></li>
<li><p><code>boilerplate_methods_confounding_control()</code> is deprecated. Use <code>boilerplate::boilerplate_report_confounding_control()</code> instead.</p></li>
<li><p><code>boilerplate_methods()</code> is deprecated. Use <code>boilerplate::boilerplate_report_methods()</code> instead.</p></li>
<li><p><code>boilerplate_methods_eligibility_criteria()</code> is deprecated. Use <code>boilerplate::boilerplate_report_eligibility_criteria()</code> instead.</p></li>
<li><p><code>boilerplate_methods_identification_assumptions()</code> is deprecated. Use <code>boilerplate::boilerplate_report_identification_assumptions()</code> instead.</p></li>
<li><p><code>boilerplate_methods_missing_data()</code> is deprecated. Use <code>boilerplate::boilerplate_report_missing_data()</code> instead.</p></li>
<li><p><code>boilerplate_methods_sample()</code> is deprecated. Use <code>boilerplate::boilerplate_report_sample()</code> instead.</p></li>
<li><p><code>boilerplate_methods_statistical_estimator()</code> is deprecated. Use <code>boilerplate::boilerplate_report_statistical_estimator()</code> instead.</p></li>
<li><p><code>boilerplate_methods_target_population()</code> is deprecated. Use <code>boilerplate::boilerplate_report_target_population()</code> instead.</p></li>
<li><p><code>boilerplate_methods_variables()</code> is deprecated. Use <code>boilerplate::boilerplate_report_variables()</code> instead.</p></li>
<li><p><code>margot_create_database()</code> is deprecated. Use <code>boilerplate::boilerplate_manage_measures()</code> instead.</p></li>
<li><p><code>manager_boilerplate_measures()</code> is deprecated. Use <code>boilerplate::boilerplate_manage_measures()</code> instead.</p></li>
<li><p><code>margot_create_bibliography()</code> is deprecated. Use <code>boilerplate::boilerplate_report_measures()</code> instead.</p></li>
<li><p><code>margot_merge_databases()</code> is deprecated. Use <code>boilerplate::boilerplate_merge_databases()</code> instead. (Note the plural ‘databases’ in the new function name.)</p></li>
<li><p>to obtain these new functions, use <code>devtools::install_github("go-bayes/boilerplate")</code></p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.22" id="id_2024-08-22-margot-02122">[2024-08-22] margot 0.2.1.22<a class="anchor" aria-label="anchor" href="#id_2024-08-22-margot-02122"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-1-22">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-22"></a></h3>
<ul><li><p><code>margot_create_bibliography</code> now prints binary tags correctly. Improved presentation of items, with measures first.</p></li>
<li><p><code>boilerplate_methods_variables</code> now accepts <code>margot_create_bibliography</code>.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.21" id="id_2024-08-22-margot-02121">[2024-08-22] margot 0.2.1.21<a class="anchor" aria-label="anchor" href="#id_2024-08-22-margot-02121"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-1-21">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-21"></a></h3>
<ul><li>
<code>margot_create_database</code> further improved: deleted unnecessary prompts, back_up function in place.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.20" id="id_2024-08-21-margot-02120">[2024-08-21] margot 0.2.1.20<a class="anchor" aria-label="anchor" href="#id_2024-08-21-margot-02120"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-1-20">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-20"></a></h3>
<ul><li>
<code>boilerplate_measures</code> and <code>margot_create_bibliography</code> better printout. However, again, must develop a package specifically for boilerplates.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.19" id="id_2024-08-21-margot-02119">[2024-08-21] margot 0.2.1.19<a class="anchor" aria-label="anchor" href="#id_2024-08-21-margot-02119"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-1-19">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-19"></a></h3>
<ul><li>
<code>margot_create_database</code> made more robust, menus work better, and you can copy information from other citations. (It’s clear this will need to be a separate package,… expect a move down the track)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.18" id="id_2024-08-21-margot-02118">[2024-08-21] margot 0.2.1.18<a class="anchor" aria-label="anchor" href="#id_2024-08-21-margot-02118"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-1-18">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-18"></a></h3>
<ul><li>
<code>margot_lmtp</code> more informative reporting and progress bars using <code>cli</code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.17" id="id_2024-08-21-margot-02117">[2024-08-21] margot 0.2.1.17<a class="anchor" aria-label="anchor" href="#id_2024-08-21-margot-02117"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-1-17">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-17"></a></h3>
<ul><li>
<code>margot_plot_decision_tree</code> - user may remove ’Action” labels for cleaner graph, if desired (default is to remove them.)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.16" id="id_2024-08-21-margot-02116">[2024-08-21] margot 0.2.1.16<a class="anchor" aria-label="anchor" href="#id_2024-08-21-margot-02116"></a></h2>
<div class="section level3">
<h3 id="new-0-2-1-16">New<a class="anchor" aria-label="anchor" href="#new-0-2-1-16"></a></h3>
<ul><li>
<code>margot_plot_create_options</code> helper function to automate graph production.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.15" id="id_2024-08-21-margot-02115">[2024-08-21] margot 0.2.1.15<a class="anchor" aria-label="anchor" href="#id_2024-08-21-margot-02115"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-1-15">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-15"></a></h3>
<ul><li>
<code><a href="../reference/margot_plot_policy_tree.html">margot_plot_policy_tree()</a></code>, <code>margot_plot_qini</code>, <code>margot_plot_decision_tree</code> defaults to nice labels, with informative messages.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.14" id="id_2024-08-21-margot-02114">[2024-08-21] margot 0.2.1.14<a class="anchor" aria-label="anchor" href="#id_2024-08-21-margot-02114"></a></h2>
<div class="section level3">
<h3 id="new-0-2-1-14">New<a class="anchor" aria-label="anchor" href="#new-0-2-1-14"></a></h3>
<ul><li>
<code>margot_interpret_marginal</code> has consistent syntax with <code>margot_plot</code>.</li>
<li>
<code>transform_table_rownames</code> to allow for nicer tables with clear labels.</li>
<li>overhauled <code>margot_plot</code> function so that it produces nice labels, and so that it also generates an interpretation.</li>
</ul></div>
<div class="section level3">
<h3 id="improved-0-2-1-14">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-14"></a></h3>
<ul><li>
<code>margot_create_bibliography</code> markdown output improved with <code>cli</code>
</li>
<li>considerably decluttered output of <code>boilerplate_methods</code>
</li>
</ul></div>
<div class="section level3">
<h3 id="deprecations-0-2-1-14">Deprecations<a class="anchor" aria-label="anchor" href="#deprecations-0-2-1-14"></a></h3>
<ul><li>
<code>margot_interpret_table</code> replaced by <code>margot_interpret_marginal</code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.13" id="id_2024-08-20-margot-02113">[2024-08-20] margot 0.2.1.13<a class="anchor" aria-label="anchor" href="#id_2024-08-20-margot-02113"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-1-13">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-13"></a></h3>
<ul><li>informative <code>cli</code> messages for <code>create_ordered_variable</code>, <code>margot_process_binary_vars</code>, <code>margot_summary_tables</code>, <code>margot_log_transform_vars</code>, <code>margot_propensity_model_and_plots</code>, <code>margot_process_longitudinal_data</code>, <code>margot_causal_forest</code>, <code>margot_multiarm_causal_forest</code>, <code>margot_batch_policy</code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.12" id="id_2024-08-19-margot-02112">[2024-08-19] margot 0.2.1.12<a class="anchor" aria-label="anchor" href="#id_2024-08-19-margot-02112"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-1-12">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-12"></a></h3>
<ul><li>integrated <code>cli</code> messages for user experience, in <code>margot_create_database</code>, <code>margot_merge_databases</code>, and <code>boilerplate_methods</code> (more to follow.)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.11" id="id_2024-08-19-margot-02111">[2024-08-19] margot 0.2.1.11<a class="anchor" aria-label="anchor" href="#id_2024-08-19-margot-02111"></a></h2>
<div class="section level3">
<h3 id="new-0-2-1-11">New<a class="anchor" aria-label="anchor" href="#new-0-2-1-11"></a></h3>
<ul><li>
<code>margot_create_database</code>: allows for creation of bibliography databases.</li>
<li>
<code>margot_merge_databases</code>: allows for merging of bibliography databases.</li>
<li>
<code>margot_create_bibliography</code>: purpose-build for appendices in which all measures are reported.</li>
</ul></div>
<div class="section level3">
<h3 id="improved-0-2-1-11">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-11"></a></h3>
<ul><li>restored <code>coloured_histogram</code> to package (still useful)</li>
</ul></div>
<div class="section level3">
<h3 id="deprecations-0-2-1-11">Deprecations<a class="anchor" aria-label="anchor" href="#deprecations-0-2-1-11"></a></h3>
<ul><li>
<code>manager_biolerplate_measures</code> surpassed by <code>margot_create_database</code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.10" id="id_2024-08-19-margot-02110">[2024-08-19] margot 0.2.1.10<a class="anchor" aria-label="anchor" href="#id_2024-08-19-margot-02110"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-1-10">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-10"></a></h3>
<ul><li>
<code>boilerplate_measures</code> overhauled to allow bibliography by sections (for outcomewide studies)</li>
<li>considerably improved reporting in <code>boilerplate_methods</code>, including: selective sections to report.</li>
<li>overhauled <code>boilerplate_methods</code> for simple and clear reporting</li>
<li>simplified <code>biolerplate_methods_variables</code> to act mostly as a wrapper for <code>boilerplate_measures</code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.9" id="id_2024-08-19-margot-0219">[2024-08-19] margot 0.2.1.9<a class="anchor" aria-label="anchor" href="#id_2024-08-19-margot-0219"></a></h2>
<div class="section level3">
<h3 id="new-0-2-1-9">New<a class="anchor" aria-label="anchor" href="#new-0-2-1-9"></a></h3>
<ul><li><code>boilerplate_methods_additional_sections</code></li>
</ul></div>
<div class="section level3">
<h3 id="improved-0-2-1-9">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-9"></a></h3>
<ul><li>baseline_missing_data_proportion passed to <code>boilerplate_methods_missing_data</code>.</li>
<li>all boilerplate functions now accessible with package (not just internal), allowing for better selective use.</li>
<li>allow selective printing of <code>boilerplate_methods</code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.8" id="id_2024-08-18-margot-0218">[2024-08-18] margot 0.2.1.8<a class="anchor" aria-label="anchor" href="#id_2024-08-18-margot-0218"></a></h2>
<div class="section level3">
<h3 id="new-0-2-1-8">New<a class="anchor" aria-label="anchor" href="#new-0-2-1-8"></a></h3>
<ul><li>
<code>boilerplate_methods</code> function allows first pass automated reporting.</li>
<li>helper functions include: <code>boilerplate_methods_sample</code>, <code>boilerplate_methods_eligibility_criteria</code>, <code>boilerplate_methods_identification_assumptions</code>, <code>boilerplate_methods_statistical_estimator</code>, <code>boilerplate_methods_confounding_control</code>, <code>boilerplate_methods_missing_data</code>, <code>boilerplate_methods_causal_interventions</code>
</li>
<li>implemented</li>
</ul></div>
<div class="section level3">
<h3 id="improved-0-2-1-8">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-8"></a></h3>
<ul><li><p><code>manager_boilerplate_measures</code> now flexibly handles strings for references when ‘string_is …’ is used in the reference category that <code>manager_boilerplate_measures</code> creates.</p></li>
<li><p><code>manager_boilerplate_measures</code> has been streamlined.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.7" id="id_2024-08-17-margot-0217">[2024-08-17] margot 0.2.1.7<a class="anchor" aria-label="anchor" href="#id_2024-08-17-margot-0217"></a></h2>
<div class="section level3">
<h3 id="new-0-2-1-7">New<a class="anchor" aria-label="anchor" href="#new-0-2-1-7"></a></h3>
<ul><li>added <code>batch_edit_measures</code> within <code>manager_boilerplate_measures</code> to allow batch editing of measures database.</li>
</ul></div>
<div class="section level3">
<h3 id="improved-0-2-1-7">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-7"></a></h3>
<ul><li>
<code>manager_boilerplate_measures</code> improved by allowing user-friendly navigation forward and backward, and more sensible defaults. requires <code>rlang</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.6" id="id_2024-08-16-margot-0216">[2024-08-16] margot 0.2.1.6<a class="anchor" aria-label="anchor" href="#id_2024-08-16-margot-0216"></a></h2>
<div class="section level3">
<h3 id="new-0-2-1-6">New<a class="anchor" aria-label="anchor" href="#new-0-2-1-6"></a></h3>
<ul><li>
<code>boilerplate_measures</code> produces an appendix of measures and items uses from variable inputs (for Quarto manuscripts).</li>
<li>
<code>manager_boilerplate_measures</code> allows to you add / modify an existing database.</li>
</ul></div>
<div class="section level3">
<h3 id="improved-0-2-1-6">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-6"></a></h3>
<ul><li>
<code>margot_plot</code> consistent syntax: user specifies save_plot as TRUE or FALSE (default = TRUE).</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.5" id="id_2024-08-15-margot-0215">[2024-08-15] margot 0.2.1.5<a class="anchor" aria-label="anchor" href="#id_2024-08-15-margot-0215"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-1-5">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-5"></a></h3>
<ul><li>
<code>margot_plot</code> has auto-save and numerous small improvements.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.4" id="id_2024-08-14-margot-0214">[2024-08-14] margot 0.2.1.4<a class="anchor" aria-label="anchor" href="#id_2024-08-14-margot-0214"></a></h2>
<div class="section level3">
<h3 id="new-0-2-1-4">New<a class="anchor" aria-label="anchor" href="#new-0-2-1-4"></a></h3>
<ul><li>
<code>margot_adjust_weights</code> to streamline creating inverse probability of censoring weights longitudinally, allowing for sample_weights at baseline.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.3" id="id_2024-08-14-margot-0213">[2024-08-14] margot 0.2.1.3<a class="anchor" aria-label="anchor" href="#id_2024-08-14-margot-0213"></a></h2>
<div class="section level3">
<h3 id="new-0-2-1-3">New<a class="anchor" aria-label="anchor" href="#new-0-2-1-3"></a></h3>
<ul><li>
<code>margot_propensity_model_and_plots</code> a one stop shop for evaluating balance on the treatment: plots &amp; diagnostics generated.</li>
</ul></div>
<div class="section level3">
<h3 id="restored-0-2-1-3">Restored<a class="anchor" aria-label="anchor" href="#restored-0-2-1-3"></a></h3>
<ul><li>
<code><a href="../reference/coloured_histogram.html">coloured_histogram()</a></code> back by popular demand.</li>
</ul></div>
<div class="section level3">
<h3 id="improved-0-2-1-3">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-3"></a></h3>
<ul><li>tweaks to defaults for plots to make them more legible on small computer screens.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.2" id="id_2024-08-13-margot-0212">[2024-08-13] margot 0.2.1.2<a class="anchor" aria-label="anchor" href="#id_2024-08-13-margot-0212"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-1-2">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-2"></a></h3>
<ul><li><p><code>margot_plot_policy_combo</code>, <code>margot_policy_tree</code>, <code>margot_batch_policy</code> and now accepts arguments for <code>margot_plot_decision_tree</code> and <code>margot_plot_policy_tree</code>, leading to customisable policy visualisations.</p></li>
<li><p>Bigger defaults for x and y axis text in <code>margot_plot_policy_tree</code> for legibility.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.1" id="id_2024-08-12-margot-0211">[2024-08-12] margot 0.2.1.1<a class="anchor" aria-label="anchor" href="#id_2024-08-12-margot-0211"></a></h2>
<div class="section level3">
<h3 id="new-0-2-1-1">New<a class="anchor" aria-label="anchor" href="#new-0-2-1-1"></a></h3>
<ul><li>
<code>margot_batch_policy</code> runs <code>margot_policy_tree</code> for all outcomes in a model.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1.0" id="id_2024-08-11-margot-0210">[2024-08-11] margot 0.2.1.0<a class="anchor" aria-label="anchor" href="#id_2024-08-11-margot-0210"></a></h2>
<div class="section level3">
<h3 id="new-0-2-1-0">New<a class="anchor" aria-label="anchor" href="#new-0-2-1-0"></a></h3>
<ul><li>
<code>margot_plot_policy_combo</code>: creates a combination plot for <code>margot_plot_decision_tree</code> and <code><a href="../reference/margot_plot_policy_tree.html">margot_plot_policy_tree()</a></code>, easing the burden of interpretation.</li>
</ul></div>
<div class="section level3">
<h3 id="improved-0-2-1-0">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-1-0"></a></h3>
<ul><li>
<code>margot_plot_decision_tree</code>: policy action leafs different colours (user may specify palette). Defaults to <code><a href="https://malcolmbarrett.github.io/ggokabeito/reference/scale_okabe_ito.html" class="external-link">ggokabeito::scale_fill_okabe_ito()</a></code> to match <code><a href="../reference/margot_plot_policy_tree.html">margot_plot_policy_tree()</a></code>
</li>
<li>
<code>margot_policy_tree</code> outputs a <code>margot_plot_policy_combo</code> in addition to the other otuputs.</li>
</ul></div>
<div class="section level3">
<h3 id="fixed-0-2-1-0">Fixed<a class="anchor" aria-label="anchor" href="#fixed-0-2-1-0"></a></h3>
<ul><li>removed <code>split_vars</code> from the <code>margot_causal_forest</code> and <code>margot_mulit_arm_causal_forest</code>
</li>
<li>
<code>margot_plot_decision_tree</code> correct tree arrangement</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.0.9" id="id_2024-08-11-margot-0209">[2024-08-11] margot 0.2.0.9<a class="anchor" aria-label="anchor" href="#id_2024-08-11-margot-0209"></a></h2>
<div class="section level3">
<h3 id="fixed-0-2-0-9">Fixed<a class="anchor" aria-label="anchor" href="#fixed-0-2-0-9"></a></h3>
<ul><li>
<code>margot_plot_policy_tree</code> correctly renders decision tree, allows for individual plots for decision leafs, and collects guides.</li>
<li>error in rendering of <code>margot_plot_decision_tree</code>, fixed: function now includes internal tests.</li>
<li>removed <code>split_vars</code> from the <code>margot_causal_forest</code> and <code>margot_mulit_arm_causal_forest</code>
</li>
</ul></div>
<div class="section level3">
<h3 id="removed-0-2-0-9">Removed<a class="anchor" aria-label="anchor" href="#removed-0-2-0-9"></a></h3>
<ul><li>
<code>debug_node_data_with_positions</code>, internal function - utility now included with <code>margot_plot_decision_tree</code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.0.8" id="id_2024-08-10-margot-0208">[2024-08-10] margot 0.2.0.8<a class="anchor" aria-label="anchor" href="#id_2024-08-10-margot-0208"></a></h2>
<div class="section level3">
<h3 id="new-0-2-0-8">New<a class="anchor" aria-label="anchor" href="#new-0-2-0-8"></a></h3>
<ul><li><p><code>margot_plot_decision_tree</code> creates policy tree decision rule graphs in a ggplot2 format, so that the graph may be combined <code>margot_plot_policy</code> to more effectively communicate decision rules to policy makers.</p></li>
<li><p><code>debug_node_data_with_positions</code> internal so that <code>margot_plot_decision_tree</code> works properly</p></li>
</ul></div>
<div class="section level3">
<h3 id="fixed-0-2-0-8">Fixed<a class="anchor" aria-label="anchor" href="#fixed-0-2-0-8"></a></h3>
<ul><li>
<code>margot_plot_decision_tree</code> requires <code>debug_node_data_with_positions</code>
</li>
</ul></div>
<div class="section level3">
<h3 id="improved-0-2-0-8">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-0-8"></a></h3>
<ul><li>Enhanced <code>margot_plot_policy</code> so that it produces a <code>margot_plot_decision_tree</code> graph, as well as its previous outputs.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.0.7" id="id_2024-08-9-margot-0207">[2024-08-9] margot 0.2.0.7<a class="anchor" aria-label="anchor" href="#id_2024-08-9-margot-0207"></a></h2>
<div class="section level3">
<h3 id="new-0-2-0-7">New<a class="anchor" aria-label="anchor" href="#new-0-2-0-7"></a></h3>
<ul><li>
<code>margot_interpret_policy_tree</code> interprets policy_tree outputs with outputs in either markdown or formats.</li>
<li>
<code>margot_policy_tree</code> wraps <code>margot_interpret_policy_tree</code>, <code>margot_plot_policy_tree</code>, <code>margot_qini_plot</code> and a decision tree visualisation within one function.</li>
</ul></div>
<div class="section level3">
<h3 id="improved-0-2-0-7">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-0-7"></a></h3>
<ul><li>
<code>margot_plot</code> will now work even if no title or subtitle is passed.</li>
<li>
<code>margot_plot_policy_tree</code>: focus is not simply on plotting, rather than doing both plotting and interpreting.</li>
<li>
<code>margot_interpret_table</code>: no longer requires specification of estimate. General explanation printed separately (as it is only used once).</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.0.6" id="id_2024-08-8-margot-0206">[2024-08-8] margot 0.2.0.6<a class="anchor" aria-label="anchor" href="#id_2024-08-8-margot-0206"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-0-6">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-0-6"></a></h3>
<ul><li>Greatly enhanced the functionality of <code>margot_plot_policy_tree</code> so that it explains the result.</li>
</ul></div>
<div class="section level3">
<h3 id="fixed-0-2-0-6">Fixed<a class="anchor" aria-label="anchor" href="#fixed-0-2-0-6"></a></h3>
<ul><li>broken indexing when I changed <code>margot_causal_forest</code> and <code>margot_multi_arm_causal_forest</code> to use outcome names, rather than model names.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.0.5" id="id_2024-08-8-margot-0205">[2024-08-8] margot 0.2.0.5<a class="anchor" aria-label="anchor" href="#id_2024-08-8-margot-0205"></a></h2>
<div class="section level3">
<h3 id="improved-0-2-0-5">Improved<a class="anchor" aria-label="anchor" href="#improved-0-2-0-5"></a></h3>
<ul><li>
<code>margot_causal_forest</code> and <code>margot_multi_arm_causal_forest</code> now use outcome names, rather than model names, to name the outcomes</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.0.4" id="id_2024-08-7-margot-0204">[2024-08-7] margot 0.2.0.4<a class="anchor" aria-label="anchor" href="#id_2024-08-7-margot-0204"></a></h2>
<div class="section level3">
<h3 id="new-0-2-0-4">New<a class="anchor" aria-label="anchor" href="#new-0-2-0-4"></a></h3>
<ul><li>
<code>margot_process_longitudinal_data</code> orders correctly for <code>lmtp</code> models by updating the censoring column <code>not_lost</code> such that it handles missing responses as well as attrition. The function additionally automatically dummy codes ordinal variables and standardises continuous variables. Presently it is only implemented for three waves, but in the future it will be expanded to handle arbitrarily many.</li>
</ul></div>
<div class="section level3">
<h3 id="fixed-0-2-0-4">Fixed<a class="anchor" aria-label="anchor" href="#fixed-0-2-0-4"></a></h3>
<ul><li>Functions <code>compute_qini_curves</code> and <code>extract_qini_data</code> to work with binary interventions</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.0.3" id="id_2024-08-7-margot-0203">[2024-08-7] margot 0.2.0.3<a class="anchor" aria-label="anchor" href="#id_2024-08-7-margot-0203"></a></h2>
<div class="section level3">
<h3 id="new-0-2-0-3">New<a class="anchor" aria-label="anchor" href="#new-0-2-0-3"></a></h3>
<ul><li>
<code>margot_summary_tables</code> creates summary tables of baseline variables, exposure(s), and outcome(s) using the <code>gtsummary</code> package.</li>
</ul></div>
<div class="section level3">
<h3 id="deprecations-0-2-0-3">Deprecations<a class="anchor" aria-label="anchor" href="#deprecations-0-2-0-3"></a></h3>
<ul><li>
<code>margot_compute_gender_weights</code> is deprecated. Now use <code>margot_compute_gender_weights_by_wave</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.0.2" id="id_2024-08-7-margot-0202">[2024-08-7] margot 0.2.0.2<a class="anchor" aria-label="anchor" href="#id_2024-08-7-margot-0202"></a></h2>
<div class="section level3">
<h3 id="deprecations-0-2-0-2">Deprecations<a class="anchor" aria-label="anchor" href="#deprecations-0-2-0-2"></a></h3>
<ul><li>
<code><a href="../reference/coloured_histogram.html">coloured_histogram()</a></code> and <code>coloured_histogram_quantile()</code> are deprecated. Now use the new <code><a href="../reference/margot_plot_hist.html">margot_plot_hist()</a></code> instead.</li>
<li>
<code>create_ordered_variable_custom</code> is deprecated. Now use <code>created_ordered_variable</code>function with <code>custom_breaks = c(..)</code> to obtain custom breaks.</li>
</ul></div>
<div class="section level3">
<h3 id="new-0-2-0-2">New<a class="anchor" aria-label="anchor" href="#new-0-2-0-2"></a></h3>
<ul><li>
<code><a href="../reference/margot_plot_hist.html">margot_plot_hist()</a></code> for plotting distributions of the exposure variable</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.0.1" id="margot-0201">margot 0.2.0.1<a class="anchor" aria-label="anchor" href="#margot-0201"></a></h2>
<ul><li>new table and plot functions for <code>grf</code> outputs</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.0" id="margot-020">margot 0.2.0<a class="anchor" aria-label="anchor" href="#margot-020"></a></h2>
<ul><li>improved subgroup comparison function</li>
<li>deprecated <code>compare_group_means</code> function, with <code>compare_group</code>allowing for contrasts of on both the causal difference and relative risk scales.</li>
<li>new wrapper functions functions for <code>grf</code> plus visualising results.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.2.1" id="margot-0121">margot 0.1.2.1<a class="anchor" aria-label="anchor" href="#margot-0121"></a></h2>
<ul><li>group_tab now works under the hood of margot_plot, so no need to specify explicitly</li>
<li>group_tab now allows custom order for plot, not just by decreasing effect size</li>
<li>numerous small enhancements to older parametric model options</li>
<li>new logo</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.2" id="margot-012">margot 0.1.2<a class="anchor" aria-label="anchor" href="#margot-012"></a></h2>
<ul><li>minor fixes</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.1" id="margot-011">margot 0.1.1<a class="anchor" aria-label="anchor" href="#margot-011"></a></h2>
<ul><li>functions to interpret outputs of <code>lmtp</code> models</li>
<li>functions to create tables</li>
<li>functions to create graphs</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.0.1" id="margot-0101">margot 0.1.0.1<a class="anchor" aria-label="anchor" href="#margot-0101"></a></h2>
<ul><li>Minor bug fixes and performance improvements.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.0" id="margot-010">margot 0.1.0<a class="anchor" aria-label="anchor" href="#margot-010"></a></h2>
<ul><li>Initial release: includes data exploration, model preparation, utility functions. # [2025-09-18] margot 1.0.236</li>
</ul><div class="section level4">
<h4 id="new-0-1-0">New<a class="anchor" aria-label="anchor" href="#new-0-1-0"></a></h4>
<ul><li>Added <code><a href="../reference/margot_report_consensus_policy_value.html">margot_report_consensus_policy_value()</a></code> to report how much better a consensus policy performs than (a) treat-all (ATE baseline) and (b) treat-none (universal control), with 95% CIs from bootstrap SEs.</li>
<li>Added <code><a href="../reference/margot_table_consensus_policy_value.html">margot_table_consensus_policy_value()</a></code> to produce a compact, manuscript-ready table for consensus policy values per outcome and depth, for both contrasts.</li>
</ul></div>
<div class="section level4">
<h4 id="improvements-0-1-0">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-1-0"></a></h4>
<ul><li>
<code><a href="../reference/margot_policy_tree_stability.html">margot_policy_tree_stability()</a></code> now persists consensus splits in the stability metrics to support threshold-aware interpretation and reporting.</li>
<li>Depth-2 consensus now includes <code>threshold_sd</code> for both first-level nodes.</li>
<li>
<code><a href="../reference/margot_interpret_stability.html">margot_interpret_stability()</a></code> and <code><a href="../reference/margot_interpret_stability_batch.html">margot_interpret_stability_batch()</a></code> can optionally include simple CIs for selection frequencies and thresholds in technical output (<code>include_ci = TRUE</code>).</li>
<li>
<code><a href="../reference/summary.margot_stability_policy_tree.html">summary.margot_stability_policy_tree()</a></code> displays a quick consensus policy value summary vs treat-all and control-all (light bootstrap, R=199).</li>
</ul></div>
<div class="section level4">
<h4 id="notes-0-1-0">Notes<a class="anchor" aria-label="anchor" href="#notes-0-1-0"></a></h4>
<ul><li>All changes are backward compatible. New parameters default to previous behavior. # [2025-09-19] margot 1.0.240 - 1.0.241</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.242" id="id_2025-09-25-margot-10242">[2025-09-25] margot 1.0.242<a class="anchor" aria-label="anchor" href="#id_2025-09-25-margot-10242"></a></h2>
<div class="section level4">
<h4 id="new-1-0-242-1">New<a class="anchor" aria-label="anchor" href="#new-1-0-242-1"></a></h4>
<ul><li>
<code><a href="../reference/margot_policy_workflow.html">margot_policy_workflow()</a></code>: one-call policy workflow that orchestrates depth selection (<code><a href="../reference/margot_policy_summary_compare_depths.html">margot_policy_summary_compare_depths()</a></code>), mixed-depth summary reporting (<code><a href="../reference/margot_policy_summary_report.html">margot_policy_summary_report()</a></code>), and optional interpretations (<code><a href="../reference/margot_interpret_policy_batch.html">margot_interpret_policy_batch()</a></code>). Adds <code>brief_include_group</code> to control whether the policy brief includes the Group column.</li>
<li>Shared text helper <code><a href="../reference/margot_policy_value_explainer.html">margot_policy_value_explainer()</a></code> for consistent definitions of policy value vs control-all/treat-all, coverage, uplift, and the identity PV(control-all) = Coverage × Uplift_Treated.</li>
</ul></div>
<div class="section level4">
<h4 id="improvements-1-0-242-1">Improvements<a class="anchor" aria-label="anchor" href="#improvements-1-0-242-1"></a></h4>
<ul><li>
<code><a href="../reference/margot_policy_summary_compare_depths.html">margot_policy_summary_compare_depths()</a></code> adds <code>min_gain_for_depth_switch</code> (default 0.005) to prefer depth-1 unless depth-2 yields a material out-of-sample gain.</li>
<li>
<code><a href="../reference/margot_policy_summary_report.html">margot_policy_summary_report()</a></code> now supports <code>audience = c("policy","research")</code> to drive policy-facing wording and includes <code>return_unit_masks</code> to return per-model evaluation masks (including <code>not_excluded_ids</code>) for downstream plotting and drill-downs. The compact policy brief now includes <code>Depth</code>, and an issue dropping depth-1 rows from the summary table when precomputed reports were supplied was fixed.</li>
<li>
<code><a href="../reference/margot_interpret_policy_batch.html">margot_interpret_policy_batch()</a></code> gains <code>policy_value_source = c("compute","use_coherent")</code> and <code>coherent_values</code> so interpretations can reuse PV rows from the summary report instead of recomputing CIs.</li>
</ul></div>
<div class="section level4">
<h4 id="documentation-1-0-242">Documentation<a class="anchor" aria-label="anchor" href="#documentation-1-0-242"></a></h4>
<ul><li>Added <code>README.qmd</code> with quick-start usage of the new policy workflow and a summary of 1.0.242 changes.</li>
</ul></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/go-bayes" class="external-link">Joseph A Bulbulia</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

