<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Plot Policy Tree Results — margot_plot_policy_tree • margot</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Fira_Code-0.4.9/font.css" rel="stylesheet"><link href="../deps/Fira_Sans-0.4.9/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Plot Policy Tree Results — margot_plot_policy_tree"><meta name="description" content="This function creates a visualization of policy tree results from a causal forest or multi-arm causal forest model.
It generates two plots showing the relationships between the top three split variables,
with points colored by the predicted optimal treatment. The function now includes label transformation options
and provides informative CLI messages throughout the process."><meta property="og:description" content="This function creates a visualization of policy tree results from a causal forest or multi-arm causal forest model.
It generates two plots showing the relationships between the top three split variables,
with points colored by the predicted optimal treatment. The function now includes label transformation options
and provides informative CLI messages throughout the process."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">margot</a>

    <small class="nav-text text-default me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.1.60</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/go-bayes/margot/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Plot Policy Tree Results</h1>
      <small class="dont-index">Source: <a href="https://github.com/go-bayes/margot/blob/HEAD/R/margot_plot_policy_tree.R" class="external-link"><code>R/margot_plot_policy_tree.R</code></a></small>
      <div class="d-none name"><code>margot_plot_policy_tree.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function creates a visualization of policy tree results from a causal forest or multi-arm causal forest model.
It generates two plots showing the relationships between the top three split variables,
with points colored by the predicted optimal treatment. The function now includes label transformation options
and provides informative CLI messages throughout the process.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">margot_plot_policy_tree</span><span class="op">(</span></span>
<span>  <span class="va">mc_test</span>,</span>
<span>  <span class="va">model_name</span>,</span>
<span>  color_scale <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  point_alpha <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  theme_function <span class="op">=</span> <span class="va">theme_classic</span>,</span>
<span>  title_size <span class="op">=</span> <span class="fl">14</span>,</span>
<span>  subtitle_size <span class="op">=</span> <span class="fl">11</span>,</span>
<span>  axis_title_size <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  legend_title_size <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  jitter_width <span class="op">=</span> <span class="fl">0.3</span>,</span>
<span>  jitter_height <span class="op">=</span> <span class="fl">0.3</span>,</span>
<span>  split_line_color <span class="op">=</span> <span class="st">"darkgray"</span>,</span>
<span>  split_line_alpha <span class="op">=</span> <span class="fl">0.7</span>,</span>
<span>  split_line_type <span class="op">=</span> <span class="st">"dashed"</span>,</span>
<span>  split_line_linewidth <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  split_label_size <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  split_label_color <span class="op">=</span> <span class="st">"darkgray"</span>,</span>
<span>  custom_action_names <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  legend_position <span class="op">=</span> <span class="st">"bottom"</span>,</span>
<span>  plot_selection <span class="op">=</span> <span class="st">"both"</span>,</span>
<span>  remove_tx_prefix <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  remove_z_suffix <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  use_title_case <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  remove_underscores <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-mc-test">mc_test<a class="anchor" aria-label="anchor" href="#arg-mc-test"></a></dt>
<dd><p>A list containing the results from a multi-arm causal forest model.</p></dd>


<dt id="arg-model-name">model_name<a class="anchor" aria-label="anchor" href="#arg-model-name"></a></dt>
<dd><p>A string specifying which model's results to plot.</p></dd>


<dt id="arg-color-scale">color_scale<a class="anchor" aria-label="anchor" href="#arg-color-scale"></a></dt>
<dd><p>An optional ggplot2 color scale. If NULL (default), a color scale based on the Okabe-Ito palette is created,
with blue for the first level, orange for the second, and subsequent colors for additional levels.</p></dd>


<dt id="arg-point-alpha">point_alpha<a class="anchor" aria-label="anchor" href="#arg-point-alpha"></a></dt>
<dd><p>Numeric value between 0 and 1 for point transparency. Default is 0.5.</p></dd>


<dt id="arg-theme-function">theme_function<a class="anchor" aria-label="anchor" href="#arg-theme-function"></a></dt>
<dd><p>A ggplot2 theme function. Default is theme_classic.</p></dd>


<dt id="arg-title-size">title_size<a class="anchor" aria-label="anchor" href="#arg-title-size"></a></dt>
<dd><p>Numeric value for the size of the plot title. Default is 14.</p></dd>


<dt id="arg-subtitle-size">subtitle_size<a class="anchor" aria-label="anchor" href="#arg-subtitle-size"></a></dt>
<dd><p>Numeric value for the size of the plot subtitle. Default is 11.</p></dd>


<dt id="arg-axis-title-size">axis_title_size<a class="anchor" aria-label="anchor" href="#arg-axis-title-size"></a></dt>
<dd><p>Numeric value for the size of axis titles. Default is 10.</p></dd>


<dt id="arg-legend-title-size">legend_title_size<a class="anchor" aria-label="anchor" href="#arg-legend-title-size"></a></dt>
<dd><p>Numeric value for the size of the legend title. Default is 10.</p></dd>


<dt id="arg-jitter-width">jitter_width<a class="anchor" aria-label="anchor" href="#arg-jitter-width"></a></dt>
<dd><p>Numeric value for the amount of horizontal jitter. Default is 0.3.</p></dd>


<dt id="arg-jitter-height">jitter_height<a class="anchor" aria-label="anchor" href="#arg-jitter-height"></a></dt>
<dd><p>Numeric value for the amount of vertical jitter. Default is 0.3.</p></dd>


<dt id="arg-split-line-color">split_line_color<a class="anchor" aria-label="anchor" href="#arg-split-line-color"></a></dt>
<dd><p>Color of the split lines. Default is "darkgray".</p></dd>


<dt id="arg-split-line-alpha">split_line_alpha<a class="anchor" aria-label="anchor" href="#arg-split-line-alpha"></a></dt>
<dd><p>Numeric value between 0 and 1 for split line transparency. Default is 0.7.</p></dd>


<dt id="arg-split-line-type">split_line_type<a class="anchor" aria-label="anchor" href="#arg-split-line-type"></a></dt>
<dd><p>Line type for split lines. Default is "dashed".</p></dd>


<dt id="arg-split-line-linewidth">split_line_linewidth<a class="anchor" aria-label="anchor" href="#arg-split-line-linewidth"></a></dt>
<dd><p>Numeric value for the thickness of split lines. Default is 0.5.</p></dd>


<dt id="arg-split-label-size">split_label_size<a class="anchor" aria-label="anchor" href="#arg-split-label-size"></a></dt>
<dd><p>Numeric value for the size of split value labels. Default is 10.</p></dd>


<dt id="arg-split-label-color">split_label_color<a class="anchor" aria-label="anchor" href="#arg-split-label-color"></a></dt>
<dd><p>Color of split value labels. Default is "darkgray".</p></dd>


<dt id="arg-custom-action-names">custom_action_names<a class="anchor" aria-label="anchor" href="#arg-custom-action-names"></a></dt>
<dd><p>Optional vector of custom names for the actions. Must match the number of actions in the policy tree.</p></dd>


<dt id="arg-legend-position">legend_position<a class="anchor" aria-label="anchor" href="#arg-legend-position"></a></dt>
<dd><p>String specifying the position of the legend. Can be "top", "bottom", "left", or "right". Default is "bottom".</p></dd>


<dt id="arg-plot-selection">plot_selection<a class="anchor" aria-label="anchor" href="#arg-plot-selection"></a></dt>
<dd><p>String specifying which plots to display: "both", "p1", or "p2". Default is "both".</p></dd>


<dt id="arg-remove-tx-prefix">remove_tx_prefix<a class="anchor" aria-label="anchor" href="#arg-remove-tx-prefix"></a></dt>
<dd><p>Logical value indicating whether to remove the "tx_" prefix from labels. Default is TRUE.</p></dd>


<dt id="arg-remove-z-suffix">remove_z_suffix<a class="anchor" aria-label="anchor" href="#arg-remove-z-suffix"></a></dt>
<dd><p>Logical value indicating whether to remove the "_z" suffix from labels. Default is TRUE.</p></dd>


<dt id="arg-use-title-case">use_title_case<a class="anchor" aria-label="anchor" href="#arg-use-title-case"></a></dt>
<dd><p>Logical value indicating whether to convert labels to title case. Default is TRUE.</p></dd>


<dt id="arg-remove-underscores">remove_underscores<a class="anchor" aria-label="anchor" href="#arg-remove-underscores"></a></dt>
<dd><p>Logical value indicating whether to remove underscores from labels. Default is TRUE.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A ggplot object containing the specified plot(s) of the policy tree results.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Default (both plots, legend at bottom)</span></span></span>
<span class="r-in"><span><span class="va">plot</span> <span class="op">&lt;-</span> <span class="fu">margot_plot_policy_tree</span><span class="op">(</span><span class="va">mc_test</span>, <span class="st">"model_t2_belong_z"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Only the first plot (p1)</span></span></span>
<span class="r-in"><span><span class="va">plot</span> <span class="op">&lt;-</span> <span class="fu">margot_plot_policy_tree</span><span class="op">(</span><span class="va">mc_test</span>, <span class="st">"model_t2_belong_z"</span>, plot_selection <span class="op">=</span> <span class="st">"p1"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Both plots with legend on the right</span></span></span>
<span class="r-in"><span><span class="va">plot</span> <span class="op">&lt;-</span> <span class="fu">margot_plot_policy_tree</span><span class="op">(</span><span class="va">mc_test</span>, <span class="st">"model_t2_belong_z"</span>, legend_position <span class="op">=</span> <span class="st">"right"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Custom color scale</span></span></span>
<span class="r-in"><span><span class="va">custom_scale</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_colour_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"red"</span>, <span class="st">"green"</span>, <span class="st">"blue"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">plot</span> <span class="op">&lt;-</span> <span class="fu">margot_plot_policy_tree</span><span class="op">(</span><span class="va">mc_test</span>, <span class="st">"model_t2_belong_z"</span>, color_scale <span class="op">=</span> <span class="va">custom_scale</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Customize label transformations</span></span></span>
<span class="r-in"><span><span class="va">plot</span> <span class="op">&lt;-</span> <span class="fu">margot_plot_policy_tree</span><span class="op">(</span><span class="va">mc_test</span>, <span class="st">"model_t2_belong_z"</span>,</span></span>
<span class="r-in"><span>                                remove_tx_prefix <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>                                remove_z_suffix <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>                                use_title_case <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>                                remove_underscores <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/go-bayes" class="external-link">Joseph A Bulbulia</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

