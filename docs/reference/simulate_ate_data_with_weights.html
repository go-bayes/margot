<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Simulate Data for Average Treatment Effect (ATE) with Sample Weights — simulate_ate_data_with_weights • margot</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Fira_Code-0.4.9/font.css" rel="stylesheet"><link href="../deps/Fira_Sans-0.4.9/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Simulate Data for Average Treatment Effect (ATE) with Sample Weights — simulate_ate_data_with_weights"><meta name="description" content="Generates simulated data for a sample and a population to study average treatment effects (ATE),
considering the presence of an effect modifier. The function simulates differences in the
distribution of effect modifiers between the sample and the population without altering the treatment
effect or the effect-modification. Weights are calculated to adjust for the distribution differences
of the effect modifier between the sample and the population."><meta property="og:description" content="Generates simulated data for a sample and a population to study average treatment effects (ATE),
considering the presence of an effect modifier. The function simulates differences in the
distribution of effect modifiers between the sample and the population without altering the treatment
effect or the effect-modification. Weights are calculated to adjust for the distribution differences
of the effect modifier between the sample and the population."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">margot</a>

    <small class="nav-text text-default me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.1.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/go-bayes/margot/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Simulate Data for Average Treatment Effect (ATE) with Sample Weights</h1>
      <small class="dont-index">Source: <a href="https://github.com/go-bayes/margot/blob/HEAD/R/simulate_ate_data_with_weights.R" class="external-link"><code>R/simulate_ate_data_with_weights.R</code></a></small>
      <div class="d-none name"><code>simulate_ate_data_with_weights.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Generates simulated data for a sample and a population to study average treatment effects (ATE),
considering the presence of an effect modifier. The function simulates differences in the
distribution of effect modifiers between the sample and the population without altering the treatment
effect or the effect-modification. Weights are calculated to adjust for the distribution differences
of the effect modifier between the sample and the population.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">simulate_ate_data_with_weights</span><span class="op">(</span></span>
<span>  n_sample <span class="op">=</span> <span class="fl">10000</span>,</span>
<span>  n_population <span class="op">=</span> <span class="fl">1e+05</span>,</span>
<span>  p_z_sample <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  p_z_population <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  beta_a <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  beta_z <span class="op">=</span> <span class="fl">2.5</span>,</span>
<span>  beta_az <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  noise_sd <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  seed <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-n-sample">n_sample<a class="anchor" aria-label="anchor" href="#arg-n-sample"></a></dt>
<dd><p>Integer, the size of the sample. Default is 10000.</p></dd>


<dt id="arg-n-population">n_population<a class="anchor" aria-label="anchor" href="#arg-n-population"></a></dt>
<dd><p>Integer, the size of the population. Default is 100000.</p></dd>


<dt id="arg-p-z-sample">p_z_sample<a class="anchor" aria-label="anchor" href="#arg-p-z-sample"></a></dt>
<dd><p>Numeric, the probability of the effect modifier in the sample. Default is 0.1.</p></dd>


<dt id="arg-p-z-population">p_z_population<a class="anchor" aria-label="anchor" href="#arg-p-z-population"></a></dt>
<dd><p>Numeric, the probability of the effect modifier in the population. Default is 0.5.</p></dd>


<dt id="arg-beta-a">beta_a<a class="anchor" aria-label="anchor" href="#arg-beta-a"></a></dt>
<dd><p>Numeric, the treatment effect. Default is 1.</p></dd>


<dt id="arg-beta-z">beta_z<a class="anchor" aria-label="anchor" href="#arg-beta-z"></a></dt>
<dd><p>Numeric, the coefficient of the effect modifier. Default is 2.5.</p></dd>


<dt id="arg-beta-az">beta_az<a class="anchor" aria-label="anchor" href="#arg-beta-az"></a></dt>
<dd><p>Numeric, the interaction term representing the effect modification of treatment by the effect modifier. Default is 0.5.</p></dd>


<dt id="arg-noise-sd">noise_sd<a class="anchor" aria-label="anchor" href="#arg-noise-sd"></a></dt>
<dd><p>Numeric, the standard deviation of the noise in the outcome variable. Default is 0.5.</p></dd>


<dt id="arg-seed">seed<a class="anchor" aria-label="anchor" href="#arg-seed"></a></dt>
<dd><p>Optional. An integer value for setting the seed to ensure reproducibility. Default is `NULL`, which does not set a seed.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list containing two data frames: `sample_data` and `population_data`, each comprising the outcome variable `y`, the treatment variable `a`, and the effect modifier `z`. The `sample_data` data frame also includes the calculated weights for each observation.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">simulate_ate_data_with_weights</span><span class="op">(</span></span></span>
<span class="r-in"><span>  n_sample <span class="op">=</span> <span class="fl">10000</span>,</span></span>
<span class="r-in"><span>  n_population <span class="op">=</span> <span class="fl">100000</span>,</span></span>
<span class="r-in"><span>  p_z_sample <span class="op">=</span> <span class="fl">0.1</span>,</span></span>
<span class="r-in"><span>  p_z_population <span class="op">=</span> <span class="fl">0.5</span>,</span></span>
<span class="r-in"><span>  beta_a <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  beta_z <span class="op">=</span> <span class="fl">2.5</span>,</span></span>
<span class="r-in"><span>  noise_sd <span class="op">=</span> <span class="fl">0.5</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/go-bayes" class="external-link">Joseph A Bulbulia</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

