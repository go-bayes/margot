<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This function runs multiple GRF models for specified outcome variables,
calculates average treatment effects, tests calibration, creates custom
evaluation tables, and includes additional features such as tau.hat estimates,
RATE calculations, policy trees, variable importance rankings, best linear
projections, and depth-2 policy trees."><title>Run Multiple Generalized Random Forest (GRF) Models with Enhanced Features — margot_run_models_grf • margot</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.9/font.css" rel="stylesheet"><link href="../deps/Fira_Code-0.4.9/font.css" rel="stylesheet"><link href="../deps/Roboto_Slab-0.4.9/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Run Multiple Generalized Random Forest (GRF) Models with Enhanced Features — margot_run_models_grf"><meta property="og:description" content="This function runs multiple GRF models for specified outcome variables,
calculates average treatment effects, tests calibration, creates custom
evaluation tables, and includes additional features such as tau.hat estimates,
RATE calculations, policy trees, variable importance rankings, best linear
projections, and depth-2 policy trees."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">margot</a>

    <small class="nav-text text-default me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Run Multiple Generalized Random Forest (GRF) Models with Enhanced Features</h1>
      
      <div class="d-none name"><code>margot_run_models_grf.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function runs multiple GRF models for specified outcome variables,
calculates average treatment effects, tests calibration, creates custom
evaluation tables, and includes additional features such as tau.hat estimates,
RATE calculations, policy trees, variable importance rankings, best linear
projections, and depth-2 policy trees.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">margot_run_models_grf</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">outcome_vars</span>,</span>
<span>  <span class="va">covariates</span>,</span>
<span>  <span class="va">W</span>,</span>
<span>  <span class="va">weights</span>,</span>
<span>  grf_defaults <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  save_data <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  compute_rate <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  top_n_vars <span class="op">=</span> <span class="fl">10</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>data</dt>
<dd><p>A data frame containing all necessary variables.</p></dd>


<dt>outcome_vars</dt>
<dd><p>A character vector of outcome variable names to be modeled.</p></dd>


<dt>covariates</dt>
<dd><p>A matrix of covariates to be used in the GRF models.</p></dd>


<dt>W</dt>
<dd><p>A matrix of treatment assignments.</p></dd>


<dt>weights</dt>
<dd><p>A vector of weights for the observations.</p></dd>


<dt>grf_defaults</dt>
<dd><p>A list of default parameters for the GRF models.</p></dd>


<dt>save_data</dt>
<dd><p>Logical indicating whether to save data, covariates, and weights. Default is FALSE.</p></dd>


<dt>compute_rate</dt>
<dd><p>Logical indicating whether to compute RATE for each model. Default is TRUE.</p></dd>


<dt>top_n_vars</dt>
<dd><p>Integer specifying the number of top variables to use for additional computations. Default is 10.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A list containing:</p>
<dl><dt>results</dt>
<dd><p>A list of model results, one for each outcome variable.</p></dd>

  <dt>combined_table</dt>
<dd><p>A data frame combining all custom evaluation tables.</p></dd>

  <dt>outcome_vars</dt>
<dd><p>The character vector of outcome variable names that were modeled.</p></dd>

  <dt>tau_hats</dt>
<dd><p>A list of tau.hat estimates for each model.</p></dd>

  <dt>tau_hat_plots</dt>
<dd><p>A list of ggplot objects for tau.hat histograms.</p></dd>

  <dt>rate_results</dt>
<dd><p>A list of RATE results (if compute_rate is TRUE).</p></dd>

  <dt>dr_scores</dt>
<dd><p>A list of double robust scores for each model.</p></dd>

  <dt>policy_trees</dt>
<dd><p>A list of policy trees of depth 1 for each model.</p></dd>

  <dt>not_missing</dt>
<dd><p>A vector of indices for complete cases.</p></dd>

  <dt>variable_importance_rankings</dt>
<dd><p>A list of top n variables by importance for each model, where n is specified by top_n_vars.</p></dd>

  <dt>best_linear_projections</dt>
<dd><p>A list of best linear projection results using top n variables for each model, where n is specified by top_n_vars.</p></dd>

  <dt>policy_trees_depth_2</dt>
<dd><p>A list of policy trees of depth 2 using top n variables for each model, where n is specified by top_n_vars.</p></dd>

  <dt>data</dt>
<dd><p>The input data (if save_data is TRUE).</p></dd>

  <dt>covariates</dt>
<dd><p>The input covariates (if save_data is TRUE).</p></dd>

  <dt>weights</dt>
<dd><p>The input weights (if save_data is TRUE).</p></dd>

</dl></div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/go-bayes" class="external-link">Joseph A Bulbulia</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

