<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Batch Process Subset Models for Causal Forests — margot_subset_batch • margot</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Fira_Code-0.4.10/font.css" rel="stylesheet"><link href="../deps/Fira_Sans-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Batch Process Subset Models for Causal Forests — margot_subset_batch"><meta name="description" content="We compared treatment effects across multiple subsets derived from causal forest models (using the grf package).
For each subset, the number of participants, the total sample size, and the corresponding percentage are computed,
describing the composition of each targeted subpopulation. In addition, for each subset the plot, interpretation, and
transformed table are generated to summarise the causal effect estimates. Note that exploratory comparisons in causal
forest analyses should be interpreted with caution, as subsetting targeted subpopulations may yield unstable treatment
effect estimates, typically indicated by large standard errors and wide confidence intervals."><meta property="og:description" content="We compared treatment effects across multiple subsets derived from causal forest models (using the grf package).
For each subset, the number of participants, the total sample size, and the corresponding percentage are computed,
describing the composition of each targeted subpopulation. In addition, for each subset the plot, interpretation, and
transformed table are generated to summarise the causal effect estimates. Note that exploratory comparisons in causal
forest analyses should be interpreted with caution, as subsetting targeted subpopulations may yield unstable treatment
effect estimates, typically indicated by large standard errors and wide confidence intervals."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">margot</a>

    <small class="nav-text text-default me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.280</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/go-bayes/margot/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Batch Process Subset Models for Causal Forests</h1>
      <small class="dont-index">Source: <a href="https://github.com/go-bayes/margot/blob/HEAD/R/margot_subset_batch.R" class="external-link"><code>R/margot_subset_batch.R</code></a></small>
      <div class="d-none name"><code>margot_subset_batch.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>We compared treatment effects across multiple subsets derived from causal forest models (using the grf package).
For each subset, the number of participants, the total sample size, and the corresponding percentage are computed,
describing the composition of each targeted subpopulation. In addition, for each subset the plot, interpretation, and
transformed table are generated to summarise the causal effect estimates. Note that exploratory comparisons in causal
forest analyses should be interpreted with caution, as subsetting targeted subpopulations may yield unstable treatment
effect estimates, typically indicated by large standard errors and wide confidence intervals.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">margot_subset_batch</span><span class="op">(</span></span>
<span>  <span class="va">model_results</span>,</span>
<span>  <span class="va">X</span>,</span>
<span>  base_defaults <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  title <span class="op">=</span> <span class="st">""</span>,</span>
<span>  label_mapping <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">subsets</span>,</span>
<span>  debug <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  original_df <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-model-results">model_results<a class="anchor" aria-label="anchor" href="#arg-model-results"></a></dt>
<dd><p>Results from the causal forest model.</p></dd>


<dt id="arg-x">X<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>Covariate matrix.</p></dd>


<dt id="arg-base-defaults">base_defaults<a class="anchor" aria-label="anchor" href="#arg-base-defaults"></a></dt>
<dd><p>A list of default plotting options.</p></dd>


<dt id="arg-title">title<a class="anchor" aria-label="anchor" href="#arg-title"></a></dt>
<dd><p>A character string for the main title of the plots.</p></dd>


<dt id="arg-label-mapping">label_mapping<a class="anchor" aria-label="anchor" href="#arg-label-mapping"></a></dt>
<dd><p>A named vector mapping variable names to labels.</p></dd>


<dt id="arg-subsets">subsets<a class="anchor" aria-label="anchor" href="#arg-subsets"></a></dt>
<dd><p>A named list of subset definitions. Each element should be a list containing:</p><dl><dt>var</dt>
<dd><p>A character string specifying the variable to subset on.</p></dd>

  <dt>value</dt>
<dd><p>The value used to define the subset.</p></dd>

  <dt>operator</dt>
<dd><p>(Optional) A comparison operator (default is <code>"=="</code>).</p></dd>

  <dt>subset_condition</dt>
<dd><p>(Optional) A pre-computed logical vector defining the subset.</p></dd>

  <dt>description</dt>
<dd><p>(Optional) A character string describing the subset.</p></dd>

  <dt>label</dt>
<dd><p>(Optional) A user-friendly label for the subset. If missing, the list name is used.</p></dd>


</dl></dd>


<dt id="arg-debug">debug<a class="anchor" aria-label="anchor" href="#arg-debug"></a></dt>
<dd><p>Logical; if <code>TRUE</code>, prints debugging information.</p></dd>


<dt id="arg-original-df">original_df<a class="anchor" aria-label="anchor" href="#arg-original-df"></a></dt>
<dd><p>Optional data frame containing the original (non-transformed) data for back-transformation.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments to be passed to margot_plot().</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list with the following elements:</p><dl><dt>results</dt>
<dd><p>A list of subset results, each containing the plot, interpretation, and transformed table along with sample statistics.</p></dd>

    <dt>summary</dt>
<dd><p>A data frame summarising the sample size, total sample size, and percentage for each subset.</p></dd>

    <dt>explanation</dt>
<dd><p>A character string providing a comprehensive explanation of the subsetting process and the results for each model.</p></dd>


</dl></div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/go-bayes" class="external-link">Joseph A Bulbulia</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

