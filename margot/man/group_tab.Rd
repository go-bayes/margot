% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/helpers.R, R/margot_plot.R
\name{group_tab}
\alias{group_tab}
\title{Group and Annotate Treatment Effect Estimates}
\usage{
group_tab(
  df,
  type = c("RD", "RR"),
  order = c("alphabetical", "magnitude_desc", "magnitude_asc", "evaluebound_desc",
    "evaluebound_asc", "custom", "default"),
  custom_order = NULL
)

group_tab(
  df,
  type = c("RD", "RR"),
  order = c("alphabetical", "magnitude_desc", "magnitude_asc", "evaluebound_desc",
    "evaluebound_asc", "custom", "default"),
  custom_order = NULL
)
}
\arguments{
\item{df}{Data frame containing the variables of interest, or a list containing
the results data frame and label mapping from transform_to_original_scale().}

\item{type}{Type of treatment effect to analyze. One of 'RR' (Risk Ratio) or
'RD' (Risk Difference). Defaults to 'RD'.}

\item{order}{Sorting option for outcomes. Options are:
\itemize{
  \item 'alphabetical': sort by outcome name (Aâ€“Z)
  \item 'magnitude_desc': sort by absolute effect size, descending (default for 'magnitude')
  \item 'magnitude_asc': sort by absolute effect size, ascending
  \item 'evaluebound_desc': sort by E-value bound, descending
  \item 'evaluebound_asc': sort by E-value bound, ascending
  \item 'custom': user-defined order (requires custom_order)
  \item 'default': alias for 'magnitude_desc' (deprecated)
}
Default is 'default'.}

\item{custom_order}{Character vector specifying a custom outcome ordering,
used when order = 'custom'. Must contain all outcomes exactly once.}
}
\value{
A data frame arranged according to `order`, annotated with:
  \itemize{
    \item Estimate category (positive, negative, not reliable)
    \item Formatted label for the effect and confidence interval
    \item Optional original-scale label if _original columns are present
  }

A data frame arranged according to `order`, annotated with:
  \itemize{
    \item Estimate category (positive, negative, not reliable)
    \item Formatted label for the effect and confidence interval
    \item Optional original-scale label if _original columns are present
  }
}
\description{
This function arranges and annotates a data frame based on specified
types of treatment effect estimates (RR or RD). It supports a variety of sorting
options including alphabetical, magnitude (ascending or descending), E-value bound
(ascending or descending), custom order, and a default alias for backward compatibility.
It also handles original scale estimates when available.

This function arranges and annotates a data frame based on specified
types of treatment effect estimates (RR or RD). It supports a variety of sorting
options including alphabetical, magnitude (ascending or descending), E-value bound
(ascending or descending), custom order, and a default alias for backward compatibility.
It also handles original scale estimates when available.
}
\details{
The function detects whether `df` is a list output from transform_to_original_scale()
and extracts `results_df` and `label_mapping` accordingly. It then ensures an `outcome`
column, applies any label mapping, and sorts based on the chosen `order`. New options
'magnitude_desc' and 'magnitude_asc' sort by absolute effect size; 'evaluebound_desc'
and 'evaluebound_asc' sort by the E-Value bound; 'alphabetical' sorts by outcome
name; 'custom' respects a user-provided vector; 'default' is an alias for 'magnitude_desc'.

The function detects whether `df` is a list output from transform_to_original_scale()
and extracts `results_df` and `label_mapping` accordingly. It then ensures an `outcome`
column, applies any label mapping, and sorts based on the chosen `order`. New options
'magnitude_desc' and 'magnitude_asc' sort by absolute effect size; 'evaluebound_desc'
and 'evaluebound_asc' sort by the E-Value bound; 'alphabetical' sorts by outcome
name; 'custom' respects a user-provided vector; 'default' is an alias for 'magnitude_desc'.
}
\examples{
# descending magnitude (default for 'default')
result_df <- group_tab(df = analysis_df, order = 'default')

# ascending magnitude
result_df <- group_tab(df = analysis_df, order = 'magnitude_asc')

# strongest E-value bound first
result_df <- group_tab(df = analysis_df, order = 'evaluebound_desc')

# alphabetical
result_df <- group_tab(df = analysis_df, order = 'alphabetical')

# custom ordering
custom_order <- c('Outcome3','Outcome1','Outcome2')
result_df <- group_tab(df = analysis_df, order = 'custom', custom_order = custom_order)

# descending magnitude (default for 'default')
result_df <- group_tab(df = analysis_df, order = 'default')

# ascending magnitude
result_df <- group_tab(df = analysis_df, order = 'magnitude_asc')

# strongest E-value bound first
result_df <- group_tab(df = analysis_df, order = 'evaluebound_desc')

# alphabetical
result_df <- group_tab(df = analysis_df, order = 'alphabetical')

# custom ordering
custom_order <- c('Outcome3','Outcome1','Outcome2')
result_df <- group_tab(df = analysis_df, order = 'custom', custom_order = custom_order)

}
\keyword{internal}
