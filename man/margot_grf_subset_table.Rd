% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/margot_grf_subset_table.R
\name{margot_grf_subset_table}
\alias{margot_grf_subset_table}
\title{Create Combined Tables for Subset Condition Using GRF Models}
\usage{
margot_grf_subset_table(
  model_results,
  outcome_vars = NULL,
  subset_condition = NULL,
  scale = "RD",
  debug = FALSE
)
}
\arguments{
\item{model_results}{A list of model results from `model_causal_forest` or similar functions.
Note that these functions should be called with `save_models = TRUE`.}

\item{outcome_vars}{Optional. A character vector of outcome variable names. If NULL,
the function will use all models in the input.}

\item{subset_condition}{A logical vector indicating the subset of data to use. Default is NULL.}

\item{scale}{A character string indicating the scale to use in `margot_model_evalue`. Default is "RD".}

\item{debug}{Logical. If TRUE, print debug information. Default is FALSE.}
}
\value{
A data frame combining all custom evaluation tables for the specified subset condition.
}
\description{
This function calculates new evaluation tables for specified outcome variables
using a subset condition, and combines them into a single data frame. It uses
the models generated by `model_grf_causal_forest` or similar functions to create these tables.
}
\details{
The function uses `margot_model_evalue` to calculate evaluation metrics for each model
in the subset of data specified by `subset_condition`. If outcome_vars is not provided,
it will use all models in the input. The function can handle models with or without the "model_" prefix.
}
\note{
Ensure that the `model_results` list contains full model objects for all specified `outcome_vars`.
This requires setting `save_models = TRUE` when calling the original GRF model function.
}
\examples{
\dontrun{
# Assuming result_outcomes_social_test is your results object from model_grf_causal_forest
subset_condition <- X_toy[, "t0_self_esteem_z"] < 0
result_subset <- margot_grf_subset_table(
  model_results = result_outcomes_social_test,
  outcome_vars = outcomes_social,
  subset_condition = subset_condition,
  scale = "RD"
)
print(result_subset)
}

}
\seealso{
\code{\link{model_grf_causal_forest}} for generating the initial models.
}
