% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/margot_flip_forests_dev.R
\name{margot_flip_forests_dev}
\alias{margot_flip_forests_dev}
\title{Development Version of Flip CATE Estimates with Custom Covariate Support}
\usage{
margot_flip_forests_dev(
  model_results,
  flip_outcomes = NULL,
  custom_covariates = NULL,
  covariate_mode = c("custom", "add", "all"),
  model_prefix = "model_",
  recalc_policy = TRUE,
  verbose = TRUE
)
}
\arguments{
\item{model_results}{A list containing the model results from margot_causal_forest().}

\item{flip_outcomes}{A character vector of outcome variable names for which CATE estimates should be flipped.
Can be NULL if only recalculating policy trees with custom covariates.}

\item{custom_covariates}{A character vector of covariate names to use for policy tree calculation.
If NULL, uses the original top_n_vars from the model.}

\item{covariate_mode}{Character string specifying how to use custom covariates:
\itemize{
  \item{"custom"}{Use only the specified custom_covariates}
  \item{"add"}{Add custom_covariates to existing top_n_vars}
  \item{"all"}{Use all available covariates (warns if > 20)}
}}

\item{model_prefix}{A character string indicating the prefix used for model names in the results list. Default is "model_".}

\item{recalc_policy}{Logical; if TRUE (default) recalculates policy trees.}

\item{verbose}{Logical indicating whether to display detailed messages during execution. Default is TRUE.}
}
\value{
A modified copy of the model_results list with updated CATE estimates and/or recalculated policy trees.
}
\description{
This development function extends margot_flip_forests to allow custom covariate
specification for policy tree recalculation. Users can flip CATE estimates,
recalculate RATE/QINI results, and explore policy trees with different sets of
covariates than those originally selected by margot_causal_forest.
}
\examples{
\dontrun{
# flip outcomes and use custom covariates
results_dev <- margot_flip_forests_dev(
  model_results,
  flip_outcomes = c("outcome1", "outcome2"),
  custom_covariates = c("age", "gender", "income"),
  covariate_mode = "custom"
)

# only recalculate policy trees with all covariates
results_all <- margot_flip_forests_dev(
  model_results,
  flip_outcomes = NULL,
  covariate_mode = "all"
)
}

}
