% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/margot_plot_lmtp_overlap_grid.R
\name{margot_plot_lmtp_overlap_grid}
\alias{margot_plot_lmtp_overlap_grid}
\title{Plot LMTP density-ratio grid (waves x shifts)}
\usage{
margot_plot_lmtp_overlap_grid(
  x,
  outcome,
  shifts = NULL,
  label_mapping = NULL,
  show_censored = FALSE,
  scale = "linear",
  theme = "empty",
  ymax = NULL,
  digits = 3,
  annotate_graph = c("none", "waves", "shifts"),
  annotate_zeros = FALSE,
  waves = NULL,
  xlim = NULL,
  layout = c("waves_by_shifts", "shifts_by_waves"),
  ymax_harmonize = "none",
  xlim_harmonize = "none",
  headroom = 0.12,
  color_by = c("wave", "shift", "constant"),
  color_by_wave = NULL,
  fill_palette = NULL,
  text_size = 3,
  annotate_wave_size = NULL,
  annotate_shift_size = NULL,
  annotate_zero_size = NULL,
  bins = 40,
  binwidth = NULL
)
}
\arguments{
\item{x}{LMTP run output with `$models` or any input accepted by
`margot_lmtp_overlap()`.}

\item{outcome}{Character outcome to plot (required).}

\item{shifts}{Optional character vector of shifts to include (full or
cleaned names).}

\item{label_mapping}{Optional label map for pretty titles.}

\item{show_censored}{Logical; if FALSE (default), histograms exclude zeros (r = 0).
If TRUE, includes zeros. Censoring rate always shown in titles.}

\item{scale}{Character, "log10" or "linear" for the ratio scale (passed to
`margot_lmtp_overlap()`).}

\item{theme}{Character ggplot theme keyword passed to
`margot_lmtp_overlap()`.}

\item{ymax}{Optional numeric y-axis maximum for histogram counts across
panels (passed to `margot_lmtp_overlap_plot_grid()`).}

\item{digits}{Integer rounding for summaries (not used in plot aesthetics).}

\item{annotate_graph}{Deprecated. Shift labels are always annotated along rows and wave labels appear
as column titles; the supplied value is ignored.}

\item{annotate_zeros}{Logical; if TRUE, adds "zeros: X%" label to top-right of each panel.
Default is FALSE.}

\item{waves}{Optional integer vector specifying which waves to include (e.g., `c(1, 2, 3)`). If NULL,
includes all waves found for the outcome.}

\item{ymax_harmonize}{Character or named vector; controls y-axis harmonization: `"none"` (default) gives
each plot independent y-scale, `"row"` harmonizes within rows, `"column"` harmonizes within columns,
`"global"` harmonizes all plots. Can also be a named vector with custom values (e.g., `c(wave_1 = 1000)`).}

\item{xlim_harmonize}{Character or named vector; controls x-axis harmonization: `"none"` (default) gives
each plot independent x-scale, `"row"` harmonizes within rows, `"column"` harmonizes within columns,
`"global"` harmonizes all plots. Can also be a named vector with custom values.}

\item{color_by}{Character; how histogram fills are coloured (`"wave"`,
`"shift"`, or `"constant"`).}

\item{color_by_wave}{Legacy logical alias for `color_by` (`TRUE` = `"wave"`,
`FALSE` = `"constant"`).}

\item{fill_palette}{Optional vector of colours (named or unnamed) used when colouring histograms.}

\item{text_size}{Numeric size for facet annotations (wave/shift/zeros labels).
Defaults to 3.}

\item{annotate_wave_size}{Numeric; overrides the size of wave titles across columns.
When `NULL`, the downstream grid helper selects a size relative to `text_size`.}

\item{annotate_shift_size}{Numeric; controls the size of shift annotations inside each panel.}

\item{annotate_zero_size}{Numeric; controls the size of zero-percentage annotations.}
}
\value{
A patchwork grid object.
}
\description{
Thin wrapper around `margot_lmtp_overlap()` and
`margot_lmtp_overlap_plot_grid()` that returns a panel grid with optional
harmonised or user-specified y-axis limits for histogram counts.
}
\details{
By default, histograms show only **uncensored observations** (r > 0) as zeros
primarily reflect dropout/censoring. Use `show_censored = TRUE` to include zeros.
}
