% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/margot_plot_tau.R
\name{margot_plot_tau}
\alias{margot_plot_tau}
\title{Create Faceted Tau Hat Distribution Plots}
\usage{
margot_plot_tau(
  models_list,
  label_mapping = NULL,
  binwidth = 0.01,
  base_size = 14,
  ncol = NULL,
  title = NULL,
  subtitle = NULL,
  x_label = expression(tau[i]),
  show_zero_line = TRUE,
  fill_colour = "white",
  border_colour = "black",
  zero_line_colour = "red",
  zero_line_alpha = 0.5,
  remove_tx_prefix = TRUE,
  remove_z_suffix = TRUE,
  use_title_case = TRUE,
  remove_underscores = TRUE,
  free_scales = FALSE
)
}
\arguments{
\item{models_list}{list of models or results object containing models with
tau_hat values. can be a nested list structure like
`models_binary$results`, or the parent `models_binary` object itself
(in which case `$results` will be extracted automatically).}

\item{label_mapping}{optional named list for transforming model names to
display labels. if null, uses automatic label transformation.}

\item{binwidth}{numeric; width of histogram bins. default 0.01.}

\item{base_size}{numeric; base font size for the plot. default 14.}

\item{ncol}{integer; number of columns in facet grid. if null, automatically
determined based on number of models.}

\item{title}{character; main title for the plot. default null.}

\item{subtitle}{character; subtitle for the plot. default null.}

\item{x_label}{character; label for x-axis. default uses expression for tau.}

\item{show_zero_line}{logical; whether to show vertical line at zero. default true.}

\item{fill_colour}{character; fill colour for histogram bars. default "white".}

\item{border_colour}{character; border colour for histogram bars. default "black".}

\item{zero_line_colour}{character; colour for zero line. default "red".}

\item{zero_line_alpha}{numeric; transparency for zero line. default 0.5.}

\item{remove_tx_prefix}{logical; remove time prefixes from model names. default true.}

\item{remove_z_suffix}{logical; remove _z suffix from model names. default true.}

\item{use_title_case}{logical; convert labels to title case. default true.}

\item{remove_underscores}{logical; replace underscores with spaces. default true.}

\item{free_scales}{logical; whether to allow free scales in facets. default false
to maintain fixed range across all facets.}
}
\value{
a ggplot object with faceted tau hat distributions
}
\description{
creates a faceted grid of histograms showing the distribution of tau hat
(individual treatment effects) for multiple models. the range is standardised
across all facets to facilitate comparison. automatically detects and handles
models_binary structures by extracting the $results component.
}
\examples{
\dontrun{
# with label mapping - pass models_binary directly
label_map <- list(
  "model_t2_belong_z" = "Social Belonging",
  "model_t2_trust_z" = "Trust in Others",
  "model_t2_log_charity_donate_z" = "Charitable Donations",
  "model_t2_log_hours_charity_z" = "Volunteer Hours"
)

# method 1: pass the parent object (auto-extracts $results)
tau_plot <- margot_plot_tau(
  models_binary,
  label_mapping = label_map,
  title = "Individual Treatment Effects"
)

# method 2: pass $results directly (also works)
tau_plot <- margot_plot_tau(
  models_binary$results,
  label_mapping = label_map,
  title = "Individual Treatment Effects"
)

# without label mapping (auto transform)
tau_plot <- margot_plot_tau(models_binary)
}

}
