% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/margot_policy_summary_report.R
\name{margot_policy_summary_report}
\alias{margot_policy_summary_report}
\title{Policy Tree Summary Report (text + markdown table)}
\usage{
margot_policy_summary_report(
  object,
  model_names = NULL,
  depth = 2L,
  R = 499L,
  seed = 42L,
  label_mapping = NULL,
  digits = 3,
  include_stability = TRUE,
  include_explanation = TRUE,
  table_type = c("full", "treated_only"),
  original_df = NULL,
  verbose = TRUE,
  report_df = NULL,
  order_by = c("pv_control_all", "uplift_treated", "none"),
  decreasing = TRUE,
  filter_significant = FALSE,
  alpha = 0.05,
  group_by_sign = TRUE,
  compact = FALSE,
  render_markdown = TRUE
)
}
\arguments{
\item{object}{A `margot_stability_policy_tree` object.}

\item{model_names}{Optional character vector of outcome names (with or without
`model_` prefix). Default: all models in `object`.}

\item{depth}{Integer; policy tree depth to summarize (default 2).}

\item{R}{Integer â‰¥ 199; bootstrap replicates for reporter CIs (default 499).}

\item{seed}{Integer or NULL; RNG seed (default 42).}

\item{label_mapping}{Optional named list for display labels.}

\item{digits}{Integer; rounding for numeric displays (default 3).}

\item{include_stability}{Logical; include stability highlights per model (default TRUE).}

\item{include_explanation}{Logical; include policy value explanation block (default TRUE).}

\item{table_type}{Character; one of "full" (default) or "treated_only" for condensed table.}
}
\value{
A list with:
  - `text`: Combined summary text (character scalar)
  - `report`: Narrative policy summary formatted for scientific reporting
  - `interpretation`: Concise sentence-level summary listing wins, caution, and uncertain models
  - `table_md`: Markdown table (character scalar) when `render_markdown = TRUE`
  - `table_df`: Data frame of policy value summary rows (title-case columns)
  - `wins_model_ids`: Character vector of model identifiers where policy vs control-all is strictly positive (CI > 0)
  - `wins_model_names`: Character vector of human-readable labels matching `wins_model_ids`
  - `neutral_model_ids`: Character vector of model identifiers with inconclusive policy vs control-all evidence (CI crosses 0)
  - `neutral_model_names`: Character vector of human-readable labels matching `neutral_model_ids`
  - `caution_model_ids`: Character vector of model identifiers where policy vs control-all is negative (CI < 0)
  - `caution_model_names`: Character vector of human-readable labels matching `caution_model_ids`
  - `group_table`: Named list of grouped brief tables (data frames)
  - `group_table_df`: Combined grouped table with a `Group` column
}
\description{
Generates a concise textual summary and a markdown table for policy tree results
(typically from `margot_policy_tree_stability()`). The report focuses on:
- Policy value vs control-all and vs treat-all (95% CIs)
- Average uplift among treated (95% CI) and coverage treated (%)
- Optional stability highlights (consensus strength and top split variable)
}
