% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/margot_interpret_policy_batch.R
\name{margot_interpret_policy_batch}
\alias{margot_interpret_policy_batch}
\title{Batch process policy tree interpretations}
\usage{
margot_interpret_policy_batch(
  models,
  model_names = NULL,
  max_depth = 2L,
  depths_by_model = NULL,
  save_path = NULL,
  prefix = NULL,
  include_timestamp = FALSE,
  report_policy_value = c("none", "treat_all", "control_all", "both", "treated_only"),
  policy_value_R = 499L,
  policy_value_seed = 42L,
  policy_value_ci_level = 0.95,
  brief = FALSE,
  brief_save_to = NULL,
  return_as_list = FALSE,
  ...
)
}
\arguments{
\item{models}{A list containing the results from multi-arm causal forest models.}

\item{model_names}{A character vector of model names to interpret. If named, the values should be 1 or 2
(depth assignments) and take precedence over `max_depth` and `depths_by_model`. If NULL, all models are processed.}

\item{max_depth}{Integer, 1 or 2; fallback depth used when no per-model depth mapping is provided
via `model_names` or `depths_by_model` (default 2).}

\item{depths_by_model}{Optional named vector/list mapping models (with or without `model_` prefix) to
depth 1 or 2; combined with any depth hints supplied through `model_names`.}

\item{save_path}{The path where the combined interpretation will be saved. If NULL, nothing is saved.}

\item{prefix}{An optional prefix for the filename.}

\item{include_timestamp}{Logical; whether to include a timestamp in the filename (if desired).}

\item{report_policy_value}{Character: one of "none" (default), "treat_all",
"control_all", or "both". If not "none", each model interpretation will include
a one-line policy value summary with 95\% CIs based on bootstrap SEs.}

\item{policy_value_R}{Integer >= 199; bootstrap replicates (default 499).}

\item{policy_value_seed}{Integer or NULL; RNG seed (default 42).}

\item{policy_value_ci_level}{Numeric confidence level (default 0.95).}

\item{brief}{Logical; if TRUE, prepend a compact treated-only summary for each
model (coverage treated and average uplift among treated) and optionally save it.}

\item{brief_save_to}{Optional path to save the brief treated-only summary as text.}

\item{...}{Additional arguments to pass to margot_interpret_policy_tree(), including
include_conditional_means (default TRUE), use_math_notation (default FALSE),
output_format ("bullet" or "prose"), original_df, label_mapping, and policy value options.}
}
\value{
A single character string containing the combined markdown output. When
  `return_as_list = TRUE`, returns a list with the full report, brief summary,
  per-model sections, policy value explanation, and `model_depths`/`depth_map`.
}
\description{
This function now accepts a vector of model names to process and produces
a single combined output. The common description is printed once at the top,
followed by each model's specific findings. You can now control whether to
interpret depth-1 or depth-2 trees via the `max_depth` argument, or supply
per-model depth choices via `depths_by_model`.
}
