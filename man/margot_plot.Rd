% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/margot_plot.R
\name{margot_plot}
\alias{margot_plot}
\title{Create a Margot Plot with Interpretation and Transformed Table}
\usage{
margot_plot(
  .data,
  type = c("RD", "RR"),
  order = c("default", "alphabetical"),
  title_binary = NULL,
  push_mods = NULL,
  ...,
  options = list()
)
}
\arguments{
\item{.data}{A data frame containing the data to be plotted.}

\item{type}{Character string specifying the type of plot. Either "RD" (Risk Difference) or "RR" (Risk Ratio).}

\item{order}{Character string specifying the order of outcomes. Either "default" or "alphabetical".}

\item{title_binary}{Optional title for the plot.}

\item{push_mods}{Optional directory path for saving the plot.}

\item{...}{Additional arguments passed to the plotting function.}

\item{options}{A list of additional options for customizing the plot and interpretation. See Details for available options.}
}
\value{
A list containing three elements:
\itemize{
  \item `plot`: A ggplot object representing the Margot plot.
  \item `interpretation`: A character string containing the interpretation of the results, with the same formatting applied as the plot labels.
  \item `transformed_table`: A data frame with the original data and transformed row names, using the same transformation options as the plot labels.
}
}
\description{
This function creates a Margot plot, which is useful for visualizing causal effects
in epidemiological studies. It provides various options for customizing the plot
and transforming labels. Additionally, it generates an interpretation of the results
using the margot_interpret_marginal function and returns a transformed table.
}
\details{
The `options` list can include the following parameters:
\itemize{
  \item `remove_tx_prefix`: Logical. If TRUE, removes "tx_" prefix from labels and interpretation. Default is TRUE.
  \item `remove_z_suffix`: Logical. If TRUE, removes "_z" suffix from labels and interpretation. Default is TRUE.
  \item `use_title_case`: Logical. If TRUE, converts labels and interpretation to title case. Default is TRUE.
  \item `remove_underscores`: Logical. If TRUE, removes underscores from labels and interpretation. Default is TRUE.
  \item `save_plot`: Logical. If TRUE, saves the plot to a file. Default is FALSE.
  \item `save_plot_options`: List of options for saving the plot (width, height, dpi, filename).
  \item `show_evalues`: Logical. If TRUE, shows E-values in the plot. Default is TRUE.
  \item `evalue_digits`: Integer. Number of digits for E-value display. Default is 2.
}
}
\examples{
\dontrun{
# Create sample data
sample_data <- data.frame(
  outcome = c("t1_outcome_a_z", "t2_outcome_b_z", "t3_outcome_c_z"),
  `E[Y(1)]-E[Y(0)]` = c(0.1, -0.2, 0.3),
  `2.5 \%` = c(0.05, -0.3, 0.2),
  `97.5 \%` = c(0.15, -0.1, 0.4),
  E_Value = c(1.5, 1.8, 2.0),
  E_Val_bound = c(1.3, 1.5, 1.7)
)

# Create a basic Margot plot with interpretation and transformed table
result <- margot_plot(sample_data, type = "RD")
print(result$plot)
cat(result$interpretation)
print(result$transformed_table)

# Create a Margot plot with custom options
custom_result <- margot_plot(sample_data,
                             type = "RD",
                             title_binary = "Custom Margot Plot",
                             options = list(
                               remove_tx_prefix = TRUE,
                               remove_z_suffix = TRUE,
                               use_title_case = TRUE,
                               remove_underscores = TRUE,
                               save_plot = TRUE,
                               save_plot_options = list(
                                 filename = "custom_margot_plot.png",
                                 width = 12,
                                 height = 8,
                                 dpi = 300
                               )
                             ))
print(custom_result$plot)
cat(custom_result$interpretation)
print(custom_result$transformed_table)
}

}
