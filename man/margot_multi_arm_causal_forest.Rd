% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/margot_multi_arm_causal_forest.R
\name{margot_multi_arm_causal_forest}
\alias{margot_multi_arm_causal_forest}
\title{Plot Policy Tree Results from Multi-Arm Causal Forest Analysis}
\usage{
margot_multi_arm_causal_forest(
  data,
  outcome_vars,
  covariates,
  W_multi,
  weights,
  exposure_name,
  grf_defaults = list(),
  save_data = FALSE,
  top_n_vars = 10,
  save_models = FALSE,
  compute_qini = TRUE,
  train_proportion = 0.9
)
}
\arguments{
\item{mc_test}{A list containing the results from margot_multi_arm_causal_forest().}

\item{model_name}{A string specifying which model's results to plot (e.g., "model_t2_belong_z").}

\item{color_scale}{A ggplot2 color scale. Default is ggokabeito::scale_colour_okabe_ito().}

\item{point_alpha}{Numeric value between 0 and 1 for point transparency. Default is 0.6.}

\item{theme_function}{A ggplot2 theme function. Default is theme_classic.}

\item{title_size}{Numeric value for the size of the plot title. Default is 14.}

\item{subtitle_size}{Numeric value for the size of the plot subtitle. Default is 12.}

\item{axis_title_size}{Numeric value for the size of axis titles. Default is 10.}

\item{legend_title_size}{Numeric value for the size of the legend title. Default is 10.}

\item{jitter_width}{Numeric value for the amount of horizontal jitter. Default is 0.3.}

\item{jitter_height}{Numeric value for the amount of vertical jitter. Default is 0.3.}
}
\value{
A ggplot object containing two side-by-side plots of the policy tree results.
  The left plot shows the relationship between the first and second split variables,
  while the right plot shows the relationship between the second and third split variables.
  Points are colored according to the predicted optimal treatment.
}
\description{
This function creates a visualization of policy tree results from a multi-arm causal forest model.
It generates two side-by-side plots showing the relationships between the top three split variables,
with points colored by the predicted optimal treatment. The function uses jittered points to reduce
overplotting and improve visibility of data distribution.
}
\details{
The function automatically extracts the relevant data from the mc_test object,
which should be the output of margot_multi_arm_causal_forest(). It uses the
plot_data component of the specified model's results, which contains the test set
data, predictions, and split variable names.

The function uses geom_jitter() instead of geom_point() to add a small amount of
random variation to the position of each point. This helps to separate overlapping
points and provides a better view of the data distribution, especially when there
are many data points or when the variables are discrete.
}
\examples{
\dontrun{
# Assuming mc_test is the output from margot_multi_arm_causal_forest()
plot <- plot_policy_tree_results(mc_test, "model_t2_belong_z")
print(plot)

# Customizing the plot
plot <- plot_policy_tree_results(mc_test, "model_t2_belong_z",
                                 point_alpha = 0.8,
                                 jitter_width = 0.2,
                                 jitter_height = 0.2,
                                 theme_function = theme_minimal)
print(plot)
}

}
