% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/margot_plot_individual_responses.R
\name{margot_plot_individual_responses}
\alias{margot_plot_individual_responses}
\title{Create Individual Response Plots}
\usage{
margot_plot_individual_responses(
  data,
  y_vars,
  id_col = "id",
  wave_col = "wave",
  waves = NULL,
  data_fraction = 1,
  random_draws = NULL,
  title = NULL,
  y_label = NULL,
  x_label = NULL,
  color_palette = NULL,
  theme = theme_classic(),
  include_timestamp = FALSE,
  save_path = NULL,
  width = 16,
  height = 8,
  seed = NULL,
  wave_label_angle = 45,
  eligibility_all = FALSE,
  full_response_scale = TRUE,
  scale_range = NULL
)
}
\arguments{
\item{data}{A data frame containing the variables to be plotted.}

\item{y_vars}{A character vector of column names in `data` to be plotted on the y-axis.}

\item{id_col}{The name of the column in `data` that contains unique identifiers for individuals. Default is "id".}

\item{wave_col}{The name of the column in `data` that contains the wave or time information. Default is "wave".}

\item{waves}{An optional vector of wave values to include in the plot. If NULL, all waves are included.}

\item{data_fraction}{The fraction of data to use (between 0 and 1). Default is 1 (use all data).}

\item{random_draws}{The number of random individuals to plot. If specified, overrides `data_fraction`.}

\item{title}{An optional title for the plot.}

\item{y_label}{An optional label for the y-axis.}

\item{x_label}{An optional label for the x-axis.}

\item{color_palette}{An optional vector of colors to use for the variables.}

\item{theme}{A ggplot2 theme to use for the plot. Default is theme_classic().}

\item{include_timestamp}{Logical, whether to include a timestamp in the saved file name. Default is FALSE.}

\item{save_path}{An optional file path to save the plot.}

\item{width}{The width of the saved plot in inches. Default is 16.}

\item{height}{The height of the saved plot in inches. Default is 8.}

\item{seed}{An optional seed for reproducibility when sampling data.}

\item{wave_label_angle}{The angle of the x-axis labels in degrees. Default is 45.}

\item{eligibility_all}{Logical, whether to require responses in all waves (TRUE) or at least one wave (FALSE). Default is FALSE.}

\item{full_response_scale}{Logical, whether to use the full response scale for the y-axis. Default is TRUE.}

\item{scale_range}{An optional numeric vector of length 2 specifying the range for the y-axis. If NULL, the range is determined from the data.}
}
\value{
A ggplot2 object representing the individual response plot.
}
\description{
This function creates a ggplot2 visualization of individual responses over time for one or more variables.
It allows for flexible data filtering, sampling, and customization of the plot appearance.
}
\examples{
\dontrun{
# Example 1: Basic usage with default settings
plot1 <- margot_plot_individual_responses(
  data = your_data,
  y_vars = c("variable1", "variable2"),
  id_col = "participant_id",
  wave_col = "year"
)

# Example 2: Plotting specific waves and using random draws
plot2 <- margot_plot_individual_responses(
  data = your_data,
  y_vars = c("score1", "score2", "score3"),
  waves = c(2020, 2021, 2022),
  random_draws = 50,
  title = "Individual Scores Over Time",
  y_label = "Score",
  x_label = "Year",
  seed = 123
)

# Example 3: Using full response scale with a specified range
plot3 <- margot_plot_individual_responses(
  data = your_data,
  y_vars = c("measure1", "measure2"),
  full_response_scale = TRUE,
  scale_range = c(0, 10),
  theme = theme_minimal(),
  wave_label_angle = 90
)

# Example 4: Edge case with minimal random draws and specific settings
plot4 <- margot_plot_individual_responses(
  data = dat_long_table,
  y_vars = outcome_vars,
  id_col = "id",
  waves = c("2020", "2021", "2022"),
  random_draws = 2,
  theme = theme_classic(),
  save_path = here::here(push_mods),
  seed = 124,
  eligibility_all = TRUE,
  scale_range = c(0, 10)
)

# Example 5: Using with longitudinal survey data and requiring responses in all waves
plot5 <- margot_plot_individual_responses(
  data = survey_data,
  y_vars = c("life_satisfaction", "health_status", "income"),
  id_col = "respondent_id",
  wave_col = "survey_year",
  waves = seq(2010, 2020, by = 2),
  random_draws = 100,
  title = "Changes in Life Measures (2010-2020)",
  y_label = "Measure Value",
  x_label = "Survey Year",
  eligibility_all = TRUE,
  full_response_scale = TRUE,
  scale_range = c(0, 100)
)
}

}
