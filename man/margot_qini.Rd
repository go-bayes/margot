% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/margot_qini.R
\name{margot_qini}
\alias{margot_qini}
\title{Generate QINI Curves and Difference Gain Summaries}
\usage{
margot_qini(
  models,
  model_names = NULL,
  spend_levels = c(0.2, 0.5),
  baseline_method = "maq_no_covariates",
  label_mapping = NULL,
  remove_tx_prefix = TRUE,
  remove_z_suffix = TRUE,
  use_title_case = TRUE,
  remove_underscores = TRUE,
  verbose = TRUE,
  seed = 12345
)
}
\arguments{
\item{models}{List returned by margot_causal_forest(), containing results
and optionally full_models.}

\item{model_names}{Optional character vector specifying which models to process.
Default NULL (all models).}

\item{spend_levels}{Numeric vector of spend levels for difference gain summaries.
Default is c(0.2, 0.5).}

\item{baseline_method}{Method for generating baseline: "maq_no_covariates" (default), 
"auto", "simple", "maq_only", or "none". See margot_generate_qini_data() for details.}

\item{label_mapping}{Named character vector for converting variable names to readable labels.}

\item{remove_tx_prefix}{Logical; remove treatment prefix from variable names (default TRUE).}

\item{remove_z_suffix}{Logical; remove z-score suffix from variable names (default TRUE).}

\item{use_title_case}{Logical; convert variable names to title case (default TRUE).}

\item{remove_underscores}{Logical; replace underscores with spaces (default TRUE).}

\item{verbose}{Logical; print progress messages (default TRUE).}

\item{seed}{Integer; base seed for reproducible computations (default 12345).}
}
\value{
A list where each element corresponds to a model and contains:
\itemize{
  \item \code{qini_objects}: maq objects for CATE and baseline curves
  \item \code{qini_data}: data.frame with proportion, gain, and curve columns for plotting
  \item \code{diff_gain_summaries}: list of difference gain summaries at each spend level
  \item \code{model_name}: the processed model name
}
}
\description{
Computes QINI curves and difference gain summaries for causal forest models.
This function provides a direct way to generate QINI results without running
full policy analysis, paralleling the functionality of margot_rate().
}
\details{
This function generates QINI curves on-demand using margot_generate_qini_data().
For binary treatments, it creates both CATE and baseline (e.g., ATE) curves.
The difference gain summaries quantify how much better CATE-based targeting
performs compared to the baseline at specified spend levels.

The output is structured to be compatible with margot_interpret_qini() and
other QINI visualization functions.
}
\examples{
\dontrun{
# Generate QINI results for all models
qini_results <- margot_qini(causal_forest_results)

# Generate for specific models with custom spend levels
qini_results <- margot_qini(
  causal_forest_results,
  model_names = c("model_anxiety", "model_depression"),
  spend_levels = c(0.1, 0.3, 0.5),
  baseline_method = "simple"
)

# Interpret the results
interpretation <- margot_interpret_qini(qini_results)
}

}
