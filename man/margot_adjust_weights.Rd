% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/margot_adjust_weights.R
\name{margot_adjust_weights}
\alias{margot_adjust_weights}
\title{Adjust Weights for Censoring and Sample Design with Progress Reporting}
\usage{
margot_adjust_weights(
  pscore,
  censoring_indicator,
  sample_weights = NULL,
  trim = TRUE,
  normalize = TRUE,
  lower_percentile = 0.01,
  upper_percentile = 0.99,
  na.rm = TRUE
)
}
\arguments{
\item{pscore}{Numeric vector of predicted probabilities from a censoring model.
Values must be between 0 and 1.}

\item{censoring_indicator}{Logical vector or 0/1 numeric vector indicating
censoring status (TRUE/1 if censored, FALSE/0 if not).}

\item{sample_weights}{Optional numeric vector of sample weights.}

\item{trim}{Logical; whether to trim weights (default is TRUE).}

\item{normalize}{Logical; whether to normalize weights (default is TRUE).}

\item{lower_percentile}{Numeric; lower percentile for trimming (default is 0.01).}

\item{upper_percentile}{Numeric; upper percentile for trimming (default is 0.99).}

\item{na.rm}{Logical; whether to remove NA values (default is TRUE).}
}
\value{
A list containing adjusted weights and summary statistics.
}
\description{
This function calculates and adjusts weights for censoring, combining them with
sample weights if provided. It also offers options for trimming and normalizing
the resulting weights. Progress is reported using the cli package.
}
