---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/",
  out.width = "100%"
)
```


<!-- ```{r, include = FALSE} -->
<!-- library(here) -->
<!-- # GitHub pages -->
<!-- file.create("docs/.nojekyll", showWarnings = FALSE) -->
<!-- ``` -->


<!-- badges: start -->
<img src="man/figures/margot.png" width = 600 alt="Margot package logo showing the package name">

<!-- badges: end -->


<!-- badges: end -->

## margot

**MARG**inal **O**bservational **T**reatment-effects.[^1]

The goal of `margot` is to enhance understanding of causality in observational research. We do this by: 

1. Stating a clear causal question, specifying the intervention(s) to be contrasted, outcome, relative timing of interventions and outcomes, potential confounders, and target population. That is, we define our causal estimand, drawing on specialist expertise. We call this targeted quantity our **causal estimand.** 

2. Consider obstacles to identifying our causal estimand from data. This involves considering whether findings from the sample population at baseline can transport to the target population, whether processes of selection on the sample itself lead to further distortion. It involves checking the three fundamental assumptions for causal inference: consistency, exchangeability, and positivity. It moreover involves considering and where relevant adjusting for systematic measurement error biases besides those arising from selection biases and failures in satisfying the three fundamental assumptions. If finally involves stating quantitative sensitivity and measurement bias analyses. Ideally steps 1 and 2 are conducted before any data are collected, but investigators rarely have such luxury.    

3. Define our statistical estimator, or our method for estimating the targeted causal questions from data.

4. Perform data-analysis, interpret results, and convey these results to interested audiences. 

Although steps 1-3 are routinely skipped in Social Scientific research, they are indispensable. Without them, we have know way of assigning meaning to the statistical relationships we observe from data.  

The package offers functions for:

- evaluating causal assumptions
- modelling time-series data
- reporting results
- performing sensitivity analyses

## Installation

`margot` is currently available only on GitHub. Install it with `pak`:

```r
# install.packages("pak")
pak::pak("go-bayes/margot")
```

If you prefer `remotes`, use:

```r
# install.packages("remotes")
remotes::install_github("go-bayes/margot")
```

`margot` streamlines the estimation of (Marginal) Average Treatment Effects (ATT, ATE), but it also supports workflows for Heterogeneous Treatment Effects (CATE) (estimated using the `grf` package in R), as well as Longitudinal Modified Treatment Policies (estimated using `lmtp` package in R). `margot` is greatly indebted to the authors of these two excellent packages. `margot` is best seen as an extensive system of graphical and reporting functions that assist with the challenging tasks of asking and answering causal questions precisely.

Note that Margot is being actively developed, and is not currently in a stable state. Expect breaking changes. 

[^1]: The logo is a *Single World Intervention Template* (SWIT). We use
    a SWIT to generate *Single World Intervention Graphs* (SWIGs) â€“
    causal diagrams for which identification assumptions can be read
    separately for each treatment (regime) to be compared.
